var Aj=Object.defineProperty;var Oj=(e,t,r)=>t in e?Aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pe=(e,t,r)=>Oj(e,typeof t!="symbol"?t+"":t,r);function Rj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Sv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cv={exports:{}},zd={},Ev={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cc=Symbol.for("react.element"),Mj=Symbol.for("react.portal"),Fj=Symbol.for("react.fragment"),Lj=Symbol.for("react.strict_mode"),Ij=Symbol.for("react.profiler"),Bj=Symbol.for("react.provider"),Hj=Symbol.for("react.context"),$j=Symbol.for("react.forward_ref"),Uj=Symbol.for("react.suspense"),Vj=Symbol.for("react.memo"),Wj=Symbol.for("react.lazy"),cx=Symbol.iterator;function Kj(e){return e===null||typeof e!="object"?null:(e=cx&&e[cx]||e["@@iterator"],typeof e=="function"?e:null)}var _v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dv=Object.assign,Pv={};function Do(e,t,r){this.props=e,this.context=t,this.refs=Pv,this.updater=r||_v}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Av(){}Av.prototype=Do.prototype;function yp(e,t,r){this.props=e,this.context=t,this.refs=Pv,this.updater=r||_v}var vp=yp.prototype=new Av;vp.constructor=yp;Dv(vp,Do.prototype);vp.isPureReactComponent=!0;var ux=Array.isArray,Ov=Object.prototype.hasOwnProperty,wp={current:null},Rv={key:!0,ref:!0,__self:!0,__source:!0};function Mv(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Ov.call(t,n)&&!Rv.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:cc,type:e,key:i,ref:o,props:a,_owner:wp.current}}function Yj(e,t){return{$$typeof:cc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Np(e){return typeof e=="object"&&e!==null&&e.$$typeof===cc}function zj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dx=/\/+/g;function Wh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zj(""+e.key):t.toString(36)}function hu(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cc:case Mj:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Wh(o,0):n,ux(a)?(r="",e!=null&&(r=e.replace(dx,"$&/")+"/"),hu(a,t,r,"",function(u){return u})):a!=null&&(Np(a)&&(a=Yj(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(dx,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",ux(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Wh(i,l);o+=hu(i,t,r,c,a)}else if(c=Kj(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Wh(i,l++),o+=hu(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Dc(e,t,r){if(e==null)return e;var n=[],a=0;return hu(e,n,"","",function(i){return t.call(r,i,a++)}),n}function qj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fr={current:null},fu={transition:null},Qj={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:fu,ReactCurrentOwner:wp};function Fv(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Dc,forEach:function(e,t,r){Dc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!Np(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=Do;Ue.Fragment=Fj;Ue.Profiler=Ij;Ue.PureComponent=yp;Ue.StrictMode=Lj;Ue.Suspense=Uj;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qj;Ue.act=Fv;Ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dv({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=wp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ov.call(t,c)&&!Rv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:cc,type:e.type,key:a,ref:i,props:n,_owner:o}};Ue.createContext=function(e){return e={$$typeof:Hj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bj,_context:e},e.Consumer=e};Ue.createElement=Mv;Ue.createFactory=function(e){var t=Mv.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:$j,render:e}};Ue.isValidElement=Np;Ue.lazy=function(e){return{$$typeof:Wj,_payload:{_status:-1,_result:e},_init:qj}};Ue.memo=function(e,t){return{$$typeof:Vj,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=fu.transition;fu.transition={};try{e()}finally{fu.transition=t}};Ue.unstable_act=Fv;Ue.useCallback=function(e,t){return Fr.current.useCallback(e,t)};Ue.useContext=function(e){return Fr.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return Fr.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return Fr.current.useEffect(e,t)};Ue.useId=function(){return Fr.current.useId()};Ue.useImperativeHandle=function(e,t,r){return Fr.current.useImperativeHandle(e,t,r)};Ue.useInsertionEffect=function(e,t){return Fr.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return Fr.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return Fr.current.useMemo(e,t)};Ue.useReducer=function(e,t,r){return Fr.current.useReducer(e,t,r)};Ue.useRef=function(e){return Fr.current.useRef(e)};Ue.useState=function(e){return Fr.current.useState(e)};Ue.useSyncExternalStore=function(e,t,r){return Fr.current.useSyncExternalStore(e,t,r)};Ue.useTransition=function(){return Fr.current.useTransition()};Ue.version="18.3.1";Ev.exports=Ue;var N=Ev.exports;const ie=Sv(N),Lv=Rj({__proto__:null,default:ie},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gj=N,Xj=Symbol.for("react.element"),Jj=Symbol.for("react.fragment"),Zj=Object.prototype.hasOwnProperty,eT=Gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tT={key:!0,ref:!0,__self:!0,__source:!0};function Iv(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Zj.call(t,n)&&!tT.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Xj,type:e,key:i,ref:o,props:a,_owner:eT.current}}zd.Fragment=Jj;zd.jsx=Iv;zd.jsxs=Iv;Cv.exports=zd;var s=Cv.exports,Vf={},Bv={exports:{}},un={},Hv={exports:{}},$v={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,q){var Z=ae.length;ae.push(q);e:for(;0<Z;){var ge=Z-1>>>1,_=ae[ge];if(0<a(_,q))ae[ge]=q,ae[Z]=_,Z=ge;else break e}}function r(ae){return ae.length===0?null:ae[0]}function n(ae){if(ae.length===0)return null;var q=ae[0],Z=ae.pop();if(Z!==q){ae[0]=Z;e:for(var ge=0,_=ae.length,ee=_>>>1;ge<ee;){var Q=2*(ge+1)-1,G=ae[Q],U=Q+1,pe=ae[U];if(0>a(G,Z))U<_&&0>a(pe,G)?(ae[ge]=pe,ae[U]=Z,ge=U):(ae[ge]=G,ae[Q]=Z,ge=Q);else if(U<_&&0>a(pe,Z))ae[ge]=pe,ae[U]=Z,ge=U;else break e}}return q}function a(ae,q){var Z=ae.sortIndex-q.sortIndex;return Z!==0?Z:ae.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ae){for(var q=r(u);q!==null;){if(q.callback===null)n(u);else if(q.startTime<=ae)n(u),q.sortIndex=q.expirationTime,t(c,q);else break;q=r(u)}}function b(ae){if(m=!1,w(ae),!x)if(r(c)!==null)x=!0,B(k);else{var q=r(u);q!==null&&V(b,q.startTime-ae)}}function k(ae,q){x=!1,m&&(m=!1,y(T),T=-1),p=!0;var Z=f;try{for(w(q),h=r(c);h!==null&&(!(h.expirationTime>q)||ae&&!M());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,f=h.priorityLevel;var _=ge(h.expirationTime<=q);q=e.unstable_now(),typeof _=="function"?h.callback=_:h===r(c)&&n(c),w(q)}else n(c);h=r(c)}if(h!==null)var ee=!0;else{var Q=r(u);Q!==null&&V(b,Q.startTime-q),ee=!1}return ee}finally{h=null,f=Z,p=!1}}var D=!1,j=null,T=-1,L=5,K=-1;function M(){return!(e.unstable_now()-K<L)}function Y(){if(j!==null){var ae=e.unstable_now();K=ae;var q=!0;try{q=j(!0,ae)}finally{q?z():(D=!1,j=null)}}else D=!1}var z;if(typeof g=="function")z=function(){g(Y)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,X=de.port2;de.port1.onmessage=Y,z=function(){X.postMessage(null)}}else z=function(){v(Y,0)};function B(ae){j=ae,D||(D=!0,z())}function V(ae,q){T=v(function(){ae(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,B(k))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ae){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Z=f;f=q;try{return ae()}finally{f=Z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,q){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Z=f;f=ae;try{return q()}finally{f=Z}},e.unstable_scheduleCallback=function(ae,q,Z){var ge=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ge+Z:ge):Z=ge,ae){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=Z+_,ae={id:d++,callback:q,priorityLevel:ae,startTime:Z,expirationTime:_,sortIndex:-1},Z>ge?(ae.sortIndex=Z,t(u,ae),r(c)===null&&ae===r(u)&&(m?(y(T),T=-1):m=!0,V(b,Z-ge))):(ae.sortIndex=_,t(c,ae),x||p||(x=!0,B(k))),ae},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(ae){var q=f;return function(){var Z=f;f=q;try{return ae.apply(this,arguments)}finally{f=Z}}}})($v);Hv.exports=$v;var rT=Hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nT=N,on=rT;function be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uv=new Set,_l={};function mi(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(_l[e]=t,e=0;e<t.length;e++)Uv.add(t[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,sT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hx={},fx={};function aT(e){return Wf.call(fx,e)?!0:Wf.call(hx,e)?!1:sT.test(e)?fx[e]=!0:(hx[e]=!0,!1)}function iT(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oT(e,t,r,n){if(t===null||typeof t>"u"||iT(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dr[e]=new Lr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dr[t]=new Lr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dr[e]=new Lr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dr[e]=new Lr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dr[e]=new Lr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dr[e]=new Lr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dr[e]=new Lr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dr[e]=new Lr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dr[e]=new Lr(e,5,!1,e.toLowerCase(),null,!1,!1)});var bp=/[\-:]([a-z])/g;function jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bp,jp);dr[t]=new Lr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bp,jp);dr[t]=new Lr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bp,jp);dr[t]=new Lr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!1,!1)});dr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dr[e]=new Lr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tp(e,t,r,n){var a=dr.hasOwnProperty(t)?dr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oT(t,r,a,n)&&(r=null),n||a===null?aT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bs=nT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Li=Symbol.for("react.fragment"),kp=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Vv=Symbol.for("react.provider"),Wv=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),zf=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),Kv=Symbol.for("react.offscreen"),px=Symbol.iterator;function Ko(e){return e===null||typeof e!="object"?null:(e=px&&e[px]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Object.assign,Kh;function sl(e){if(Kh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kh=t&&t[1]||""}return`
`+Kh+e}var Yh=!1;function zh(e,t){if(!e||Yh)return"";Yh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Yh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sl(e):""}function lT(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=zh(e.type,!1),e;case 11:return e=zh(e.type.render,!1),e;case 1:return e=zh(e.type,!0),e;default:return""}}function qf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Li:return"Fragment";case Fi:return"Portal";case Kf:return"Profiler";case kp:return"StrictMode";case Yf:return"Suspense";case zf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wv:return(e.displayName||"Context")+".Consumer";case Vv:return(e._context.displayName||"Context")+".Provider";case Sp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cp:return t=e.displayName||null,t!==null?t:qf(e.type)||"Memo";case Qs:t=e._payload,e=e._init;try{return qf(e(t))}catch{}}return null}function cT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qf(t);case 8:return t===kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ja(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uT(e){var t=Yv(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ac(e){e._valueTracker||(e._valueTracker=uT(e))}function zv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yv(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qf(e,t){var r=t.checked;return bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ja(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qv(e,t){t=t.checked,t!=null&&Tp(e,"checked",t,!1)}function Gf(e,t){qv(e,t);var r=ja(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xf(e,t.type,ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xf(e,t,r){(t!=="number"||Fu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var al=Array.isArray;function Qi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ja(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Jf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(be(91));return bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(be(92));if(al(r)){if(1<r.length)throw Error(be(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ja(r)}}function Qv(e,t){var r=ja(t.value),n=ja(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oc,Xv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dT=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){dT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function Jv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function Zv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Jv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var hT=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e0(e,t){if(t){if(hT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(be(62))}}function t0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r0=null;function Ep(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var n0=null,Gi=null,Xi=null;function vx(e){if(e=hc(e)){if(typeof n0!="function")throw Error(be(280));var t=e.stateNode;t&&(t=Jd(t),n0(e.stateNode,e.type,t))}}function e1(e){Gi?Xi?Xi.push(e):Xi=[e]:Gi=e}function t1(){if(Gi){var e=Gi,t=Xi;if(Xi=Gi=null,vx(e),t)for(e=0;e<t.length;e++)vx(t[e])}}function r1(e,t){return e(t)}function n1(){}var qh=!1;function s1(e,t,r){if(qh)return e(t,r);qh=!0;try{return r1(e,t,r)}finally{qh=!1,(Gi!==null||Xi!==null)&&(n1(),t1())}}function Pl(e,t){var r=e.stateNode;if(r===null)return null;var n=Jd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(be(231,t,typeof r));return r}var s0=!1;if(Ps)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){s0=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{s0=!1}function fT(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hl=!1,Lu=null,Iu=!1,a0=null,pT={onError:function(e){hl=!0,Lu=e}};function mT(e,t,r,n,a,i,o,l,c){hl=!1,Lu=null,fT.apply(pT,arguments)}function xT(e,t,r,n,a,i,o,l,c){if(mT.apply(this,arguments),hl){if(hl){var u=Lu;hl=!1,Lu=null}else throw Error(be(198));Iu||(Iu=!0,a0=u)}}function xi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function a1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wx(e){if(xi(e)!==e)throw Error(be(188))}function gT(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(be(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return wx(a),e;if(i===n)return wx(a),t;i=i.sibling}throw Error(be(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(be(189))}}if(r.alternate!==n)throw Error(be(190))}if(r.tag!==3)throw Error(be(188));return r.stateNode.current===r?e:t}function i1(e){return e=gT(e),e!==null?o1(e):null}function o1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o1(e);if(t!==null)return t;e=e.sibling}return null}var l1=on.unstable_scheduleCallback,Nx=on.unstable_cancelCallback,yT=on.unstable_shouldYield,vT=on.unstable_requestPaint,Dt=on.unstable_now,wT=on.unstable_getCurrentPriorityLevel,_p=on.unstable_ImmediatePriority,c1=on.unstable_UserBlockingPriority,Bu=on.unstable_NormalPriority,NT=on.unstable_LowPriority,u1=on.unstable_IdlePriority,qd=null,rs=null;function bT(e){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(qd,e,void 0,(e.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:kT,jT=Math.log,TT=Math.LN2;function kT(e){return e>>>=0,e===0?32:31-(jT(e)/TT|0)|0}var Rc=64,Mc=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=il(l):(i&=o,i!==0&&(n=il(i)))}else o=r&~a,o!==0?n=il(o):i!==0&&(n=il(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fn(t),a=1<<r,n|=e[r],t&=~a;return n}function ST(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Fn(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=ST(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function i0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d1(){var e=Rc;return Rc<<=1,!(Rc&4194240)&&(Rc=64),e}function Qh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function uc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fn(t),e[t]=r}function ET(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Fn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Dp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var st=0;function h1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f1,Pp,p1,m1,x1,o0=!1,Fc=[],ca=null,ua=null,da=null,Al=new Map,Ol=new Map,ea=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bx(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(t.pointerId)}}function zo(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=hc(t),t!==null&&Pp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function DT(e,t,r,n,a){switch(t){case"focusin":return ca=zo(ca,e,t,r,n,a),!0;case"dragenter":return ua=zo(ua,e,t,r,n,a),!0;case"mouseover":return da=zo(da,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Al.set(i,zo(Al.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ol.set(i,zo(Ol.get(i)||null,e,t,r,n,a)),!0}return!1}function g1(e){var t=Va(e.target);if(t!==null){var r=xi(t);if(r!==null){if(t=r.tag,t===13){if(t=a1(r),t!==null){e.blockedOn=t,x1(e.priority,function(){p1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=l0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);r0=n,r.target.dispatchEvent(n),r0=null}else return t=hc(r),t!==null&&Pp(t),e.blockedOn=r,!1;t.shift()}return!0}function jx(e,t,r){pu(e)&&r.delete(t)}function PT(){o0=!1,ca!==null&&pu(ca)&&(ca=null),ua!==null&&pu(ua)&&(ua=null),da!==null&&pu(da)&&(da=null),Al.forEach(jx),Ol.forEach(jx)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,o0||(o0=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,PT)))}function Rl(e){function t(a){return qo(a,e)}if(0<Fc.length){qo(Fc[0],e);for(var r=1;r<Fc.length;r++){var n=Fc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ca!==null&&qo(ca,e),ua!==null&&qo(ua,e),da!==null&&qo(da,e),Al.forEach(t),Ol.forEach(t),r=0;r<ea.length;r++)n=ea[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ea.length&&(r=ea[0],r.blockedOn===null);)g1(r),r.blockedOn===null&&ea.shift()}var Ji=Bs.ReactCurrentBatchConfig,$u=!0;function AT(e,t,r,n){var a=st,i=Ji.transition;Ji.transition=null;try{st=1,Ap(e,t,r,n)}finally{st=a,Ji.transition=i}}function OT(e,t,r,n){var a=st,i=Ji.transition;Ji.transition=null;try{st=4,Ap(e,t,r,n)}finally{st=a,Ji.transition=i}}function Ap(e,t,r,n){if($u){var a=l0(e,t,r,n);if(a===null)af(e,t,n,Uu,r),bx(e,n);else if(DT(a,e,t,r,n))n.stopPropagation();else if(bx(e,n),t&4&&-1<_T.indexOf(e)){for(;a!==null;){var i=hc(a);if(i!==null&&f1(i),i=l0(e,t,r,n),i===null&&af(e,t,n,Uu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else af(e,t,n,null,r)}}var Uu=null;function l0(e,t,r,n){if(Uu=null,e=Ep(n),e=Va(e),e!==null)if(t=xi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=a1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Uu=e,null}function y1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wT()){case _p:return 1;case c1:return 4;case Bu:case NT:return 16;case u1:return 536870912;default:return 16}default:return 16}}var na=null,Op=null,mu=null;function v1(){if(mu)return mu;var e,t=Op,r=t.length,n,a="value"in na?na.value:na.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return mu=a.slice(e,1<n?1-n:void 0)}function xu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lc(){return!0}function Tx(){return!1}function dn(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lc:Tx,this.isPropagationStopped=Tx,this}return bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),t}var Po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=dn(Po),dc=bt({},Po,{view:0,detail:0}),RT=dn(dc),Gh,Xh,Qo,Qd=bt({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qo&&(Qo&&e.type==="mousemove"?(Gh=e.screenX-Qo.screenX,Xh=e.screenY-Qo.screenY):Xh=Gh=0,Qo=e),Gh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),kx=dn(Qd),MT=bt({},Qd,{dataTransfer:0}),FT=dn(MT),LT=bt({},dc,{relatedTarget:0}),Jh=dn(LT),IT=bt({},Po,{animationName:0,elapsedTime:0,pseudoElement:0}),BT=dn(IT),HT=bt({},Po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$T=dn(HT),UT=bt({},Po,{data:0}),Sx=dn(UT),VT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KT[e])?!!t[e]:!1}function Mp(){return YT}var zT=bt({},dc,{key:function(e){if(e.key){var t=VT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(e){return e.type==="keypress"?xu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qT=dn(zT),QT=bt({},Qd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cx=dn(QT),GT=bt({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),XT=dn(GT),JT=bt({},Po,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZT=dn(JT),ek=bt({},Qd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tk=dn(ek),rk=[9,13,27,32],Fp=Ps&&"CompositionEvent"in window,fl=null;Ps&&"documentMode"in document&&(fl=document.documentMode);var nk=Ps&&"TextEvent"in window&&!fl,w1=Ps&&(!Fp||fl&&8<fl&&11>=fl),Ex=" ",_x=!1;function N1(e,t){switch(e){case"keyup":return rk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ii=!1;function sk(e,t){switch(e){case"compositionend":return b1(t);case"keypress":return t.which!==32?null:(_x=!0,Ex);case"textInput":return e=t.data,e===Ex&&_x?null:e;default:return null}}function ak(e,t){if(Ii)return e==="compositionend"||!Fp&&N1(e,t)?(e=v1(),mu=Op=na=null,Ii=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w1&&t.locale!=="ko"?null:t.data;default:return null}}var ik={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ik[e.type]:t==="textarea"}function j1(e,t,r,n){e1(n),t=Vu(t,"onChange"),0<t.length&&(r=new Rp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pl=null,Ml=null;function ok(e){R1(e,0)}function Gd(e){var t=$i(e);if(zv(t))return e}function lk(e,t){if(e==="change")return t}var T1=!1;if(Ps){var Zh;if(Ps){var ef="oninput"in document;if(!ef){var Px=document.createElement("div");Px.setAttribute("oninput","return;"),ef=typeof Px.oninput=="function"}Zh=ef}else Zh=!1;T1=Zh&&(!document.documentMode||9<document.documentMode)}function Ax(){pl&&(pl.detachEvent("onpropertychange",k1),Ml=pl=null)}function k1(e){if(e.propertyName==="value"&&Gd(Ml)){var t=[];j1(t,Ml,e,Ep(e)),s1(ok,t)}}function ck(e,t,r){e==="focusin"?(Ax(),pl=t,Ml=r,pl.attachEvent("onpropertychange",k1)):e==="focusout"&&Ax()}function uk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gd(Ml)}function dk(e,t){if(e==="click")return Gd(t)}function hk(e,t){if(e==="input"||e==="change")return Gd(t)}function fk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bn=typeof Object.is=="function"?Object.is:fk;function Fl(e,t){if(Bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Wf.call(t,a)||!Bn(e[a],t[a]))return!1}return!0}function Ox(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rx(e,t){var r=Ox(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ox(r)}}function S1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C1(){for(var e=window,t=Fu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fu(e.document)}return t}function Lp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pk(e){var t=C1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S1(r.ownerDocument.documentElement,r)){if(n!==null&&Lp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Rx(r,i);var o=Rx(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mk=Ps&&"documentMode"in document&&11>=document.documentMode,Bi=null,c0=null,ml=null,u0=!1;function Mx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;u0||Bi==null||Bi!==Fu(n)||(n=Bi,"selectionStart"in n&&Lp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ml&&Fl(ml,n)||(ml=n,n=Vu(c0,"onSelect"),0<n.length&&(t=new Rp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bi)))}function Ic(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hi={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},tf={},E1={};Ps&&(E1=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function Xd(e){if(tf[e])return tf[e];if(!Hi[e])return e;var t=Hi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in E1)return tf[e]=t[r];return e}var _1=Xd("animationend"),D1=Xd("animationiteration"),P1=Xd("animationstart"),A1=Xd("transitionend"),O1=new Map,Fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Aa(e,t){O1.set(e,t),mi(t,[e])}for(var rf=0;rf<Fx.length;rf++){var nf=Fx[rf],xk=nf.toLowerCase(),gk=nf[0].toUpperCase()+nf.slice(1);Aa(xk,"on"+gk)}Aa(_1,"onAnimationEnd");Aa(D1,"onAnimationIteration");Aa(P1,"onAnimationStart");Aa("dblclick","onDoubleClick");Aa("focusin","onFocus");Aa("focusout","onBlur");Aa(A1,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Lx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xT(n,t,void 0,e),e.currentTarget=null}function R1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;Lx(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;Lx(a,l,u),i=c}}}if(Iu)throw e=a0,Iu=!1,a0=null,e}function ut(e,t){var r=t[m0];r===void 0&&(r=t[m0]=new Set);var n=e+"__bubble";r.has(n)||(M1(t,e,2,!1),r.add(n))}function sf(e,t,r){var n=0;t&&(n|=4),M1(r,e,n,t)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Ll(e){if(!e[Bc]){e[Bc]=!0,Uv.forEach(function(r){r!=="selectionchange"&&(yk.has(r)||sf(r,!1,e),sf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bc]||(t[Bc]=!0,sf("selectionchange",!1,t))}}function M1(e,t,r,n){switch(y1(t)){case 1:var a=AT;break;case 4:a=OT;break;default:a=Ap}r=a.bind(null,t,r,e),a=void 0,!s0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function af(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Va(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}s1(function(){var u=i,d=Ep(r),h=[];e:{var f=O1.get(e);if(f!==void 0){var p=Rp,x=e;switch(e){case"keypress":if(xu(r)===0)break e;case"keydown":case"keyup":p=qT;break;case"focusin":x="focus",p=Jh;break;case"focusout":x="blur",p=Jh;break;case"beforeblur":case"afterblur":p=Jh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=FT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XT;break;case _1:case D1:case P1:p=BT;break;case A1:p=ZT;break;case"scroll":p=RT;break;case"wheel":p=tk;break;case"copy":case"cut":case"paste":p=$T;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cx}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Pl(g,y),b!=null&&m.push(Il(g,b,w)))),v)break;g=g.return}0<m.length&&(f=new p(f,x,null,r,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==r0&&(x=r.relatedTarget||r.fromElement)&&(Va(x)||x[As]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Va(x):null,x!==null&&(v=xi(x),x!==v||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=kx,b="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=Cx,b="onPointerLeave",y="onPointerEnter",g="pointer"),v=p==null?f:$i(p),w=x==null?f:$i(x),f=new m(b,g+"leave",p,r,d),f.target=v,f.relatedTarget=w,b=null,Va(d)===u&&(m=new m(y,g+"enter",x,r,d),m.target=w,m.relatedTarget=v,b=m),v=b,p&&x)t:{for(m=p,y=x,g=0,w=m;w;w=Si(w))g++;for(w=0,b=y;b;b=Si(b))w++;for(;0<g-w;)m=Si(m),g--;for(;0<w-g;)y=Si(y),w--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Si(m),y=Si(y)}m=null}else m=null;p!==null&&Ix(h,f,p,m,!1),x!==null&&v!==null&&Ix(h,v,x,m,!0)}}e:{if(f=u?$i(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=lk;else if(Dx(f))if(T1)k=hk;else{k=uk;var D=ck}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=dk);if(k&&(k=k(e,u))){j1(h,k,r,d);break e}D&&D(e,f,u),e==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&Xf(f,"number",f.value)}switch(D=u?$i(u):window,e){case"focusin":(Dx(D)||D.contentEditable==="true")&&(Bi=D,c0=u,ml=null);break;case"focusout":ml=c0=Bi=null;break;case"mousedown":u0=!0;break;case"contextmenu":case"mouseup":case"dragend":u0=!1,Mx(h,r,d);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":Mx(h,r,d)}var j;if(Fp)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ii?N1(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(w1&&r.locale!=="ko"&&(Ii||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ii&&(j=v1()):(na=d,Op="value"in na?na.value:na.textContent,Ii=!0)),D=Vu(u,T),0<D.length&&(T=new Sx(T,e,null,r,d),h.push({event:T,listeners:D}),j?T.data=j:(j=b1(r),j!==null&&(T.data=j)))),(j=nk?sk(e,r):ak(e,r))&&(u=Vu(u,"onBeforeInput"),0<u.length&&(d=new Sx("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}R1(h,t)})}function Il(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Pl(e,r),i!=null&&n.unshift(Il(e,i,a)),i=Pl(e,t),i!=null&&n.push(Il(e,i,a))),e=e.return}return n}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ix(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Pl(r,i),c!=null&&o.unshift(Il(r,c,l))):a||(c=Pl(r,i),c!=null&&o.push(Il(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var vk=/\r\n?/g,wk=/\u0000|\uFFFD/g;function Bx(e){return(typeof e=="string"?e:""+e).replace(vk,`
`).replace(wk,"")}function Hc(e,t,r){if(t=Bx(t),Bx(e)!==t&&r)throw Error(be(425))}function Wu(){}var d0=null,h0=null;function f0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var p0=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Hx=typeof Promise=="function"?Promise:void 0,bk=typeof queueMicrotask=="function"?queueMicrotask:typeof Hx<"u"?function(e){return Hx.resolve(null).then(e).catch(jk)}:p0;function jk(e){setTimeout(function(){throw e})}function of(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Rl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Rl(t)}function ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $x(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ao,Bl="__reactProps$"+Ao,As="__reactContainer$"+Ao,m0="__reactEvents$"+Ao,Tk="__reactListeners$"+Ao,kk="__reactHandles$"+Ao;function Va(e){var t=e[Xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[As]||r[Xn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=$x(e);e!==null;){if(r=e[Xn])return r;e=$x(e)}return t}e=r,r=e.parentNode}return null}function hc(e){return e=e[Xn]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(be(33))}function Jd(e){return e[Bl]||null}var x0=[],Ui=-1;function Oa(e){return{current:e}}function dt(e){0>Ui||(e.current=x0[Ui],x0[Ui]=null,Ui--)}function ct(e,t){Ui++,x0[Ui]=e.current,e.current=t}var Ta={},kr=Oa(Ta),Vr=Oa(!1),si=Ta;function lo(e,t){var r=e.type.contextTypes;if(!r)return Ta;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wr(e){return e=e.childContextTypes,e!=null}function Ku(){dt(Vr),dt(kr)}function Ux(e,t,r){if(kr.current!==Ta)throw Error(be(168));ct(kr,t),ct(Vr,r)}function F1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(be(108,cT(e)||"Unknown",a));return bt({},r,n)}function Yu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,si=kr.current,ct(kr,e),ct(Vr,Vr.current),!0}function Vx(e,t,r){var n=e.stateNode;if(!n)throw Error(be(169));r?(e=F1(e,t,si),n.__reactInternalMemoizedMergedChildContext=e,dt(Vr),dt(kr),ct(kr,e)):dt(Vr),ct(Vr,r)}var Ns=null,Zd=!1,lf=!1;function L1(e){Ns===null?Ns=[e]:Ns.push(e)}function Sk(e){Zd=!0,L1(e)}function Ra(){if(!lf&&Ns!==null){lf=!0;var e=0,t=st;try{var r=Ns;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ns=null,Zd=!1}catch(a){throw Ns!==null&&(Ns=Ns.slice(e+1)),l1(_p,Ra),a}finally{st=t,lf=!1}}return null}var Vi=[],Wi=0,zu=null,qu=0,xn=[],gn=0,ai=null,js=1,Ts="";function Ba(e,t){Vi[Wi++]=qu,Vi[Wi++]=zu,zu=e,qu=t}function I1(e,t,r){xn[gn++]=js,xn[gn++]=Ts,xn[gn++]=ai,ai=e;var n=js;e=Ts;var a=32-Fn(n)-1;n&=~(1<<a),r+=1;var i=32-Fn(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,js=1<<32-Fn(t)+a|r<<a|n,Ts=i+e}else js=1<<i|r<<a|n,Ts=e}function Ip(e){e.return!==null&&(Ba(e,1),I1(e,1,0))}function Bp(e){for(;e===zu;)zu=Vi[--Wi],Vi[Wi]=null,qu=Vi[--Wi],Vi[Wi]=null;for(;e===ai;)ai=xn[--gn],xn[gn]=null,Ts=xn[--gn],xn[gn]=null,js=xn[--gn],xn[gn]=null}var sn=null,nn=null,mt=!1,On=null;function B1(e,t){var r=yn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sn=e,nn=ha(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sn=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ai!==null?{id:js,overflow:Ts}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sn=e,nn=null,!0):!1;default:return!1}}function g0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y0(e){if(mt){var t=nn;if(t){var r=t;if(!Wx(e,t)){if(g0(e))throw Error(be(418));t=ha(r.nextSibling);var n=sn;t&&Wx(e,t)?B1(n,r):(e.flags=e.flags&-4097|2,mt=!1,sn=e)}}else{if(g0(e))throw Error(be(418));e.flags=e.flags&-4097|2,mt=!1,sn=e}}}function Kx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sn=e}function $c(e){if(e!==sn)return!1;if(!mt)return Kx(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!f0(e.type,e.memoizedProps)),t&&(t=nn)){if(g0(e))throw H1(),Error(be(418));for(;t;)B1(e,t),t=ha(t.nextSibling)}if(Kx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nn=ha(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=sn?ha(e.stateNode.nextSibling):null;return!0}function H1(){for(var e=nn;e;)e=ha(e.nextSibling)}function co(){nn=sn=null,mt=!1}function Hp(e){On===null?On=[e]:On.push(e)}var Ck=Bs.ReactCurrentBatchConfig;function Go(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(be(309));var n=r.stateNode}if(!n)throw Error(be(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(be(284));if(!r._owner)throw Error(be(290,e))}return e}function Uc(e,t){throw e=Object.prototype.toString.call(t),Error(be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yx(e){var t=e._init;return t(e._payload)}function $1(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function a(y,g){return y=xa(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,g,w,b){return g===null||g.tag!==6?(g=mf(w,y.mode,b),g.return=y,g):(g=a(g,w),g.return=y,g)}function c(y,g,w,b){var k=w.type;return k===Li?d(y,g,w.props.children,b,w.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qs&&Yx(k)===g.type)?(b=a(g,w.props),b.ref=Go(y,g,w),b.return=y,b):(b=ju(w.type,w.key,w.props,null,y.mode,b),b.ref=Go(y,g,w),b.return=y,b)}function u(y,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=xf(w,y.mode,b),g.return=y,g):(g=a(g,w.children||[]),g.return=y,g)}function d(y,g,w,b,k){return g===null||g.tag!==7?(g=Xa(w,y.mode,b,k),g.return=y,g):(g=a(g,w),g.return=y,g)}function h(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=mf(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pc:return w=ju(g.type,g.key,g.props,null,y.mode,w),w.ref=Go(y,null,g),w.return=y,w;case Fi:return g=xf(g,y.mode,w),g.return=y,g;case Qs:var b=g._init;return h(y,b(g._payload),w)}if(al(g)||Ko(g))return g=Xa(g,y.mode,w,null),g.return=y,g;Uc(y,g)}return null}function f(y,g,w,b){var k=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pc:return w.key===k?c(y,g,w,b):null;case Fi:return w.key===k?u(y,g,w,b):null;case Qs:return k=w._init,f(y,g,k(w._payload),b)}if(al(w)||Ko(w))return k!==null?null:d(y,g,w,b,null);Uc(y,w)}return null}function p(y,g,w,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(g,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pc:return y=y.get(b.key===null?w:b.key)||null,c(g,y,b,k);case Fi:return y=y.get(b.key===null?w:b.key)||null,u(g,y,b,k);case Qs:var D=b._init;return p(y,g,w,D(b._payload),k)}if(al(b)||Ko(b))return y=y.get(w)||null,d(g,y,b,k,null);Uc(g,b)}return null}function x(y,g,w,b){for(var k=null,D=null,j=g,T=g=0,L=null;j!==null&&T<w.length;T++){j.index>T?(L=j,j=null):L=j.sibling;var K=f(y,j,w[T],b);if(K===null){j===null&&(j=L);break}e&&j&&K.alternate===null&&t(y,j),g=i(K,g,T),D===null?k=K:D.sibling=K,D=K,j=L}if(T===w.length)return r(y,j),mt&&Ba(y,T),k;if(j===null){for(;T<w.length;T++)j=h(y,w[T],b),j!==null&&(g=i(j,g,T),D===null?k=j:D.sibling=j,D=j);return mt&&Ba(y,T),k}for(j=n(y,j);T<w.length;T++)L=p(j,y,T,w[T],b),L!==null&&(e&&L.alternate!==null&&j.delete(L.key===null?T:L.key),g=i(L,g,T),D===null?k=L:D.sibling=L,D=L);return e&&j.forEach(function(M){return t(y,M)}),mt&&Ba(y,T),k}function m(y,g,w,b){var k=Ko(w);if(typeof k!="function")throw Error(be(150));if(w=k.call(w),w==null)throw Error(be(151));for(var D=k=null,j=g,T=g=0,L=null,K=w.next();j!==null&&!K.done;T++,K=w.next()){j.index>T?(L=j,j=null):L=j.sibling;var M=f(y,j,K.value,b);if(M===null){j===null&&(j=L);break}e&&j&&M.alternate===null&&t(y,j),g=i(M,g,T),D===null?k=M:D.sibling=M,D=M,j=L}if(K.done)return r(y,j),mt&&Ba(y,T),k;if(j===null){for(;!K.done;T++,K=w.next())K=h(y,K.value,b),K!==null&&(g=i(K,g,T),D===null?k=K:D.sibling=K,D=K);return mt&&Ba(y,T),k}for(j=n(y,j);!K.done;T++,K=w.next())K=p(j,y,T,K.value,b),K!==null&&(e&&K.alternate!==null&&j.delete(K.key===null?T:K.key),g=i(K,g,T),D===null?k=K:D.sibling=K,D=K);return e&&j.forEach(function(Y){return t(y,Y)}),mt&&Ba(y,T),k}function v(y,g,w,b){if(typeof w=="object"&&w!==null&&w.type===Li&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Pc:e:{for(var k=w.key,D=g;D!==null;){if(D.key===k){if(k=w.type,k===Li){if(D.tag===7){r(y,D.sibling),g=a(D,w.props.children),g.return=y,y=g;break e}}else if(D.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qs&&Yx(k)===D.type){r(y,D.sibling),g=a(D,w.props),g.ref=Go(y,D,w),g.return=y,y=g;break e}r(y,D);break}else t(y,D);D=D.sibling}w.type===Li?(g=Xa(w.props.children,y.mode,b,w.key),g.return=y,y=g):(b=ju(w.type,w.key,w.props,null,y.mode,b),b.ref=Go(y,g,w),b.return=y,y=b)}return o(y);case Fi:e:{for(D=w.key;g!==null;){if(g.key===D)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),g=a(g,w.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=xf(w,y.mode,b),g.return=y,y=g}return o(y);case Qs:return D=w._init,v(y,g,D(w._payload),b)}if(al(w))return x(y,g,w,b);if(Ko(w))return m(y,g,w,b);Uc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),g=a(g,w),g.return=y,y=g):(r(y,g),g=mf(w,y.mode,b),g.return=y,y=g),o(y)):r(y,g)}return v}var uo=$1(!0),U1=$1(!1),Qu=Oa(null),Gu=null,Ki=null,$p=null;function Up(){$p=Ki=Gu=null}function Vp(e){var t=Qu.current;dt(Qu),e._currentValue=t}function v0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zi(e,t){Gu=e,$p=Ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($r=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if($p!==e)if(e={context:e,memoizedValue:t,next:null},Ki===null){if(Gu===null)throw Error(be(308));Ki=e,Gu.dependencies={lanes:0,firstContext:e}}else Ki=Ki.next=e;return t}var Wa=null;function Wp(e){Wa===null?Wa=[e]:Wa.push(e)}function V1(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Wp(t)):(r.next=a.next,a.next=r),t.interleaved=r,Os(e,n)}function Os(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gs=!1;function Kp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Os(e,r)}return a=n.interleaved,a===null?(t.next=t,Wp(n)):(t.next=a.next,a.next=t),n.interleaved=t,Os(e,r)}function gu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dp(e,r)}}function zx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xu(e,t,r,n){var a=e.updateQueue;Gs=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=a.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(f=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=bt({},h,f);break e;case 2:Gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=h),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);oi|=o,e.lanes=o,e.memoizedState=h}}function qx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(be(191,a));a.call(n)}}}var fc={},ns=Oa(fc),Hl=Oa(fc),$l=Oa(fc);function Ka(e){if(e===fc)throw Error(be(174));return e}function Yp(e,t){switch(ct($l,t),ct(Hl,e),ct(ns,fc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zf(t,e)}dt(ns),ct(ns,t)}function ho(){dt(ns),dt(Hl),dt($l)}function K1(e){Ka($l.current);var t=Ka(ns.current),r=Zf(t,e.type);t!==r&&(ct(Hl,e),ct(ns,r))}function zp(e){Hl.current===e&&(dt(ns),dt(Hl))}var yt=Oa(0);function Ju(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cf=[];function qp(){for(var e=0;e<cf.length;e++)cf[e]._workInProgressVersionPrimary=null;cf.length=0}var yu=Bs.ReactCurrentDispatcher,uf=Bs.ReactCurrentBatchConfig,ii=0,wt=null,Ut=null,Wt=null,Zu=!1,xl=!1,Ul=0,Ek=0;function xr(){throw Error(be(321))}function Qp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function Gp(e,t,r,n,a,i){if(ii=i,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yu.current=e===null||e.memoizedState===null?Ak:Ok,e=r(n,a),xl){i=0;do{if(xl=!1,Ul=0,25<=i)throw Error(be(301));i+=1,Wt=Ut=null,t.updateQueue=null,yu.current=Rk,e=r(n,a)}while(xl)}if(yu.current=ed,t=Ut!==null&&Ut.next!==null,ii=0,Wt=Ut=wt=null,Zu=!1,t)throw Error(be(300));return e}function Xp(){var e=Ul!==0;return Ul=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?wt.memoizedState=Wt=e:Wt=Wt.next=e,Wt}function jn(){if(Ut===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var t=Wt===null?wt.memoizedState:Wt.next;if(t!==null)Wt=t,Ut=e;else{if(e===null)throw Error(be(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Wt===null?wt.memoizedState=Wt=e:Wt=Wt.next=e}return Wt}function Vl(e,t){return typeof t=="function"?t(e):t}function df(e){var t=jn(),r=t.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=e;var n=Ut,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,wt.lanes|=d,oi|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Bn(n,t.memoizedState)||($r=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,wt.lanes|=i,oi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hf(e){var t=jn(),r=t.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Bn(i,t.memoizedState)||($r=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Y1(){}function z1(e,t){var r=wt,n=jn(),a=t(),i=!Bn(n.memoizedState,a);if(i&&(n.memoizedState=a,$r=!0),n=n.queue,Jp(G1.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Wt!==null&&Wt.memoizedState.tag&1){if(r.flags|=2048,Wl(9,Q1.bind(null,r,n,a,t),void 0,null),qt===null)throw Error(be(349));ii&30||q1(r,t,a)}return a}function q1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Q1(e,t,r,n){t.value=r,t.getSnapshot=n,X1(t)&&J1(e)}function G1(e,t,r){return r(function(){X1(t)&&J1(e)})}function X1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bn(e,r)}catch{return!0}}function J1(e){var t=Os(e,1);t!==null&&Ln(t,e,1,-1)}function Qx(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Pk.bind(null,wt,e),[t.memoizedState,e]}function Wl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Z1(){return jn().memoizedState}function vu(e,t,r,n){var a=zn();wt.flags|=e,a.memoizedState=Wl(1|t,r,void 0,n===void 0?null:n)}function eh(e,t,r,n){var a=jn();n=n===void 0?null:n;var i=void 0;if(Ut!==null){var o=Ut.memoizedState;if(i=o.destroy,n!==null&&Qp(n,o.deps)){a.memoizedState=Wl(t,r,i,n);return}}wt.flags|=e,a.memoizedState=Wl(1|t,r,i,n)}function Gx(e,t){return vu(8390656,8,e,t)}function Jp(e,t){return eh(2048,8,e,t)}function ew(e,t){return eh(4,2,e,t)}function tw(e,t){return eh(4,4,e,t)}function rw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nw(e,t,r){return r=r!=null?r.concat([e]):null,eh(4,4,rw.bind(null,t,e),r)}function Zp(){}function sw(e,t){var r=jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function aw(e,t){var r=jn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Qp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function iw(e,t,r){return ii&21?(Bn(r,t)||(r=d1(),wt.lanes|=r,oi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$r=!0),e.memoizedState=r)}function _k(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=uf.transition;uf.transition={};try{e(!1),t()}finally{st=r,uf.transition=n}}function ow(){return jn().memoizedState}function Dk(e,t,r){var n=ma(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lw(e))cw(t,r);else if(r=V1(e,t,r,n),r!==null){var a=Ar();Ln(r,e,n,a),uw(r,t,n)}}function Pk(e,t,r){var n=ma(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lw(e))cw(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Bn(l,o)){var c=t.interleaved;c===null?(a.next=a,Wp(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=V1(e,t,a,n),r!==null&&(a=Ar(),Ln(r,e,n,a),uw(r,t,n))}}function lw(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function cw(e,t){xl=Zu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uw(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dp(e,r)}}var ed={readContext:bn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},Ak={readContext:bn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:Gx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vu(4194308,4,rw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vu(4194308,4,e,t)},useInsertionEffect:function(e,t){return vu(4,2,e,t)},useMemo:function(e,t){var r=zn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Dk.bind(null,wt,e),[n.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:Qx,useDebugValue:Zp,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=Qx(!1),t=e[0];return e=_k.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wt,a=zn();if(mt){if(r===void 0)throw Error(be(407));r=r()}else{if(r=t(),qt===null)throw Error(be(349));ii&30||q1(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Gx(G1.bind(null,n,i,e),[e]),n.flags|=2048,Wl(9,Q1.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=zn(),t=qt.identifierPrefix;if(mt){var r=Ts,n=js;r=(n&~(1<<32-Fn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ul++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ek++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ok={readContext:bn,useCallback:sw,useContext:bn,useEffect:Jp,useImperativeHandle:nw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:aw,useReducer:df,useRef:Z1,useState:function(){return df(Vl)},useDebugValue:Zp,useDeferredValue:function(e){var t=jn();return iw(t,Ut.memoizedState,e)},useTransition:function(){var e=df(Vl)[0],t=jn().memoizedState;return[e,t]},useMutableSource:Y1,useSyncExternalStore:z1,useId:ow,unstable_isNewReconciler:!1},Rk={readContext:bn,useCallback:sw,useContext:bn,useEffect:Jp,useImperativeHandle:nw,useInsertionEffect:ew,useLayoutEffect:tw,useMemo:aw,useReducer:hf,useRef:Z1,useState:function(){return hf(Vl)},useDebugValue:Zp,useDeferredValue:function(e){var t=jn();return Ut===null?t.memoizedState=e:iw(t,Ut.memoizedState,e)},useTransition:function(){var e=hf(Vl)[0],t=jn().memoizedState;return[e,t]},useMutableSource:Y1,useSyncExternalStore:z1,useId:ow,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=bt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function w0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:bt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var th={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ar(),a=ma(e),i=ks(n,a);i.payload=t,r!=null&&(i.callback=r),t=fa(e,i,a),t!==null&&(Ln(t,e,a,n),gu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ar(),a=ma(e),i=ks(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=fa(e,i,a),t!==null&&(Ln(t,e,a,n),gu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ar(),n=ma(e),a=ks(r,n);a.tag=2,t!=null&&(a.callback=t),t=fa(e,a,n),t!==null&&(Ln(t,e,n,r),gu(t,e,n))}};function Xx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fl(r,n)||!Fl(a,i):!0}function dw(e,t,r){var n=!1,a=Ta,i=t.contextType;return typeof i=="object"&&i!==null?i=bn(i):(a=Wr(t)?si:kr.current,n=t.contextTypes,i=(n=n!=null)?lo(e,a):Ta),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Jx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function N0(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Kp(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=bn(i):(i=Wr(t)?si:kr.current,a.context=lo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(w0(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&th.enqueueReplaceState(a,a.state,null),Xu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,t){try{var r="",n=t;do r+=lT(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ff(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function b0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Mk=typeof WeakMap=="function"?WeakMap:Map;function hw(e,t,r){r=ks(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rd||(rd=!0,A0=n),b0(e,t)},r}function fw(e,t,r){r=ks(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){b0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){b0(e,t),typeof n!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Zx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Mk;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Qk.bind(null,e,t,r),t.then(e,e))}function eg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tg(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ks(-1,1),t.tag=2,fa(r,t,1))),r.lanes|=1),e)}var Fk=Bs.ReactCurrentOwner,$r=!1;function Cr(e,t,r,n){t.child=e===null?U1(t,null,r,n):uo(t,e.child,r,n)}function rg(e,t,r,n,a){r=r.render;var i=t.ref;return Zi(t,a),n=Gp(e,t,r,n,i,a),r=Xp(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rs(e,t,a)):(mt&&r&&Ip(t),t.flags|=1,Cr(e,t,n,a),t.child)}function ng(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!om(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,pw(e,t,i,n,a)):(e=ju(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(o,n)&&e.ref===t.ref)return Rs(e,t,a)}return t.flags|=1,e=xa(i,n),e.ref=t.ref,e.return=t,t.child=e}function pw(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Fl(i,n)&&e.ref===t.ref)if($r=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&($r=!0);else return t.lanes=e.lanes,Rs(e,t,a)}return j0(e,t,r,n,a)}function mw(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(zi,Jr),Jr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(zi,Jr),Jr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ct(zi,Jr),Jr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ct(zi,Jr),Jr|=n;return Cr(e,t,a,r),t.child}function xw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j0(e,t,r,n,a){var i=Wr(r)?si:kr.current;return i=lo(t,i),Zi(t,a),r=Gp(e,t,r,n,i,a),n=Xp(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rs(e,t,a)):(mt&&n&&Ip(t),t.flags|=1,Cr(e,t,r,a),t.child)}function sg(e,t,r,n,a){if(Wr(r)){var i=!0;Yu(t)}else i=!1;if(Zi(t,a),t.stateNode===null)wu(e,t),dw(t,r,n),N0(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=bn(u):(u=Wr(r)?si:kr.current,u=lo(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Jx(t,o,n,u),Gs=!1;var f=t.memoizedState;o.state=f,Xu(t,n,o,a),c=t.memoizedState,l!==n||f!==c||Vr.current||Gs?(typeof d=="function"&&(w0(t,r,d,n),c=t.memoizedState),(l=Gs||Xx(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,W1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Pn(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=Wr(r)?si:kr.current,c=lo(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Jx(t,o,n,c),Gs=!1,f=t.memoizedState,o.state=f,Xu(t,n,o,a);var x=t.memoizedState;l!==h||f!==x||Vr.current||Gs?(typeof p=="function"&&(w0(t,r,p,n),x=t.memoizedState),(u=Gs||Xx(t,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return T0(e,t,r,n,i,a)}function T0(e,t,r,n,a,i){xw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Vx(t,r,!1),Rs(e,t,i);n=t.stateNode,Fk.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=uo(t,e.child,null,i),t.child=uo(t,null,l,i)):Cr(e,t,l,i),t.memoizedState=n.state,a&&Vx(t,r,!0),t.child}function gw(e){var t=e.stateNode;t.pendingContext?Ux(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ux(e,t.context,!1),Yp(e,t.containerInfo)}function ag(e,t,r,n,a){return co(),Hp(a),t.flags|=256,Cr(e,t,r,n),t.child}var k0={dehydrated:null,treeContext:null,retryLane:0};function S0(e){return{baseLanes:e,cachePool:null,transitions:null}}function yw(e,t,r){var n=t.pendingProps,a=yt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ct(yt,a&1),e===null)return y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sh(o,n,0,null),e=Xa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=S0(r),t.memoizedState=k0,e):em(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return Lk(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xa(l,i):(i=Xa(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?S0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=k0,n}return i=e.child,e=i.sibling,n=xa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function em(e,t){return t=sh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vc(e,t,r,n){return n!==null&&Hp(n),uo(t,e.child,null,r),e=em(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lk(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ff(Error(be(422))),Vc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=sh({mode:"visible",children:n.children},a,0,null),i=Xa(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&uo(t,e.child,null,o),t.child.memoizedState=S0(o),t.memoizedState=k0,i);if(!(t.mode&1))return Vc(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(be(419)),n=ff(i,n,void 0),Vc(e,t,o,n)}if(l=(o&e.childLanes)!==0,$r||l){if(n=qt,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),Ln(n,e,a,-1))}return im(),n=ff(Error(be(421))),Vc(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Gk.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,nn=ha(a.nextSibling),sn=t,mt=!0,On=null,e!==null&&(xn[gn++]=js,xn[gn++]=Ts,xn[gn++]=ai,js=e.id,Ts=e.overflow,ai=t),t=em(t,n.children),t.flags|=4096,t)}function ig(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),v0(e.return,t,r)}function pf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function vw(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Cr(e,t,n.children,r),n=yt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ig(e,r,t);else if(e.tag===19)ig(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ct(yt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ju(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),pf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ju(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}pf(t,!0,r,null,i);break;case"together":pf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(be(153));if(t.child!==null){for(e=t.child,r=xa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ik(e,t,r){switch(t.tag){case 3:gw(t),co();break;case 5:K1(t);break;case 1:Wr(t.type)&&Yu(t);break;case 4:Yp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ct(Qu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ct(yt,yt.current&1),t.flags|=128,null):r&t.child.childLanes?yw(e,t,r):(ct(yt,yt.current&1),e=Rs(e,t,r),e!==null?e.sibling:null);ct(yt,yt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return vw(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ct(yt,yt.current),n)break;return null;case 22:case 23:return t.lanes=0,mw(e,t,r)}return Rs(e,t,r)}var ww,C0,Nw,bw;ww=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};C0=function(){};Nw=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ka(ns.current);var i=null;switch(r){case"input":a=Qf(e,a),n=Qf(e,n),i=[];break;case"select":a=bt({},a,{value:void 0}),n=bt({},n,{value:void 0}),i=[];break;case"textarea":a=Jf(e,a),n=Jf(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wu)}e0(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_l.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ut("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};bw=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xo(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Bk(e,t,r){var n=t.pendingProps;switch(Bp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(t),null;case 1:return Wr(t.type)&&Ku(),gr(t),null;case 3:return n=t.stateNode,ho(),dt(Vr),dt(kr),qp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($c(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(M0(On),On=null))),C0(e,t),gr(t),null;case 5:zp(t);var a=Ka($l.current);if(r=t.type,e!==null&&t.stateNode!=null)Nw(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(be(166));return gr(t),null}if(e=Ka(ns.current),$c(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Xn]=t,n[Bl]=i,e=(t.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(a=0;a<ol.length;a++)ut(ol[a],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":mx(n,i),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ut("invalid",n);break;case"textarea":gx(n,i),ut("invalid",n)}e0(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Hc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Hc(n.textContent,l,e),a=["children",""+l]):_l.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ut("scroll",n)}switch(r){case"input":Ac(n),xx(n,i,!0);break;case"textarea":Ac(n),yx(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Xn]=t,e[Bl]=n,ww(e,t,!1,!1),t.stateNode=e;e:{switch(o=t0(r,n),r){case"dialog":ut("cancel",e),ut("close",e),a=n;break;case"iframe":case"object":case"embed":ut("load",e),a=n;break;case"video":case"audio":for(a=0;a<ol.length;a++)ut(ol[a],e);a=n;break;case"source":ut("error",e),a=n;break;case"img":case"image":case"link":ut("error",e),ut("load",e),a=n;break;case"details":ut("toggle",e),a=n;break;case"input":mx(e,n),a=Qf(e,n),ut("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=bt({},n,{value:void 0}),ut("invalid",e);break;case"textarea":gx(e,n),a=Jf(e,n),ut("invalid",e);break;default:a=n}e0(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Zv(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xv(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Dl(e,c):typeof c=="number"&&Dl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_l.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ut("scroll",e):c!=null&&Tp(e,i,c,o))}switch(r){case"input":Ac(e),xx(e,n,!1);break;case"textarea":Ac(e),yx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ja(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Qi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Qi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Wu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gr(t),null;case 6:if(e&&t.stateNode!=null)bw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(be(166));if(r=Ka($l.current),Ka(ns.current),$c(t)){if(n=t.stateNode,r=t.memoizedProps,n[Xn]=t,(i=n.nodeValue!==r)&&(e=sn,e!==null))switch(e.tag){case 3:Hc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xn]=t,t.stateNode=n}return gr(t),null;case 13:if(dt(yt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&nn!==null&&t.mode&1&&!(t.flags&128))H1(),co(),t.flags|=98560,i=!1;else if(i=$c(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(be(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[Xn]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gr(t),i=!1}else On!==null&&(M0(On),On=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||yt.current&1?Vt===0&&(Vt=3):im())),t.updateQueue!==null&&(t.flags|=4),gr(t),null);case 4:return ho(),C0(e,t),e===null&&Ll(t.stateNode.containerInfo),gr(t),null;case 10:return Vp(t.type._context),gr(t),null;case 17:return Wr(t.type)&&Ku(),gr(t),null;case 19:if(dt(yt),i=t.memoizedState,i===null)return gr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xo(i,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ju(e),o!==null){for(t.flags|=128,Xo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ct(yt,yt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dt()>po&&(t.flags|=128,n=!0,Xo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ju(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!mt)return gr(t),null}else 2*Dt()-i.renderingStartTime>po&&r!==1073741824&&(t.flags|=128,n=!0,Xo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,r=yt.current,ct(yt,n?r&1|2:r&1),t):(gr(t),null);case 22:case 23:return am(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Jr&1073741824&&(gr(t),t.subtreeFlags&6&&(t.flags|=8192)):gr(t),null;case 24:return null;case 25:return null}throw Error(be(156,t.tag))}function Hk(e,t){switch(Bp(t),t.tag){case 1:return Wr(t.type)&&Ku(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),dt(Vr),dt(kr),qp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zp(t),null;case 13:if(dt(yt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(be(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(yt),null;case 4:return ho(),null;case 10:return Vp(t.type._context),null;case 22:case 23:return am(),null;case 24:return null;default:return null}}var Wc=!1,vr=!1,$k=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Yi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tt(e,t,n)}else r.current=null}function E0(e,t,r){try{r()}catch(n){Tt(e,t,n)}}var og=!1;function Uk(e,t){if(d0=$u,e=C1(),Lp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||a!==0&&h.nodeType!==3||(l=o+a),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=o),f===i&&++d===n&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(h0={focusedElem:e,selectionRange:r},$u=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,v=x.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Pn(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(b){Tt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return x=og,og=!1,x}function gl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&E0(t,r,i)}a=a.next}while(a!==n)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jw(e){var t=e.alternate;t!==null&&(e.alternate=null,jw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xn],delete t[Bl],delete t[m0],delete t[Tk],delete t[kk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tw(e){return e.tag===5||e.tag===3||e.tag===4}function lg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wu));else if(n!==4&&(e=e.child,e!==null))for(D0(e,t,r),e=e.sibling;e!==null;)D0(e,t,r),e=e.sibling}function P0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(P0(e,t,r),e=e.sibling;e!==null;)P0(e,t,r),e=e.sibling}var rr=null,An=!1;function Ks(e,t,r){for(r=r.child;r!==null;)kw(e,t,r),r=r.sibling}function kw(e,t,r){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(qd,r)}catch{}switch(r.tag){case 5:vr||Yi(r,t);case 6:var n=rr,a=An;rr=null,Ks(e,t,r),rr=n,An=a,rr!==null&&(An?(e=rr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(An?(e=rr,r=r.stateNode,e.nodeType===8?of(e.parentNode,r):e.nodeType===1&&of(e,r),Rl(e)):of(rr,r.stateNode));break;case 4:n=rr,a=An,rr=r.stateNode.containerInfo,An=!0,Ks(e,t,r),rr=n,An=a;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&E0(r,t,o),a=a.next}while(a!==n)}Ks(e,t,r);break;case 1:if(!vr&&(Yi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Tt(r,t,l)}Ks(e,t,r);break;case 21:Ks(e,t,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,Ks(e,t,r),vr=n):Ks(e,t,r);break;default:Ks(e,t,r)}}function cg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new $k),t.forEach(function(n){var a=Xk.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:rr=l.stateNode,An=!1;break e;case 3:rr=l.stateNode.containerInfo,An=!0;break e;case 4:rr=l.stateNode.containerInfo,An=!0;break e}l=l.return}if(rr===null)throw Error(be(160));kw(i,o,a),rr=null,An=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Tt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sw(t,e),t=t.sibling}function Sw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),Wn(e),n&4){try{gl(3,e,e.return),rh(3,e)}catch(m){Tt(e,e.return,m)}try{gl(5,e,e.return)}catch(m){Tt(e,e.return,m)}}break;case 1:En(t,e),Wn(e),n&512&&r!==null&&Yi(r,r.return);break;case 5:if(En(t,e),Wn(e),n&512&&r!==null&&Yi(r,r.return),e.flags&32){var a=e.stateNode;try{Dl(a,"")}catch(m){Tt(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qv(a,i),t0(l,o);var u=t0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Zv(a,h):d==="dangerouslySetInnerHTML"?Xv(a,h):d==="children"?Dl(a,h):Tp(a,d,h,u)}switch(l){case"input":Gf(a,i);break;case"textarea":Qv(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qi(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qi(a,!!i.multiple,i.defaultValue,!0):Qi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Bl]=i}catch(m){Tt(e,e.return,m)}}break;case 6:if(En(t,e),Wn(e),n&4){if(e.stateNode===null)throw Error(be(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Tt(e,e.return,m)}}break;case 3:if(En(t,e),Wn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(m){Tt(e,e.return,m)}break;case 4:En(t,e),Wn(e);break;case 13:En(t,e),Wn(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(nm=Dt())),n&4&&cg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vr=(u=vr)||d,En(t,e),vr=u):En(t,e),Wn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Re=e,d=e.child;d!==null;){for(h=Re=d;Re!==null;){switch(f=Re,p=f.child,f.tag){case 0:case 11:case 14:case 15:gl(4,f,f.return);break;case 1:Yi(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Tt(n,r,m)}}break;case 5:Yi(f,f.return);break;case 22:if(f.memoizedState!==null){dg(h);continue}}p!==null?(p.return=f,Re=p):dg(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Jv("display",o))}catch(m){Tt(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Tt(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:En(t,e),Wn(e),n&4&&cg(e);break;case 21:break;default:En(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tw(r)){var n=r;break e}r=r.return}throw Error(be(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Dl(a,""),n.flags&=-33);var i=lg(e);P0(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=lg(e);D0(e,l,o);break;default:throw Error(be(161))}}catch(c){Tt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vk(e,t,r){Re=e,Cw(e)}function Cw(e,t,r){for(var n=(e.mode&1)!==0;Re!==null;){var a=Re,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Wc;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||vr;l=Wc;var u=vr;if(Wc=o,(vr=c)&&!u)for(Re=a;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?hg(a):c!==null?(c.return=o,Re=c):hg(a);for(;i!==null;)Re=i,Cw(i),i=i.sibling;Re=a,Wc=l,vr=u}ug(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Re=i):ug(e)}}function ug(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Pn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}vr||t.flags&512&&_0(t)}catch(f){Tt(t,t.return,f)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function dg(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function hg(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rh(4,t)}catch(c){Tt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Tt(t,a,c)}}var i=t.return;try{_0(t)}catch(c){Tt(t,i,c)}break;case 5:var o=t.return;try{_0(t)}catch(c){Tt(t,o,c)}}}catch(c){Tt(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var Wk=Math.ceil,td=Bs.ReactCurrentDispatcher,tm=Bs.ReactCurrentOwner,vn=Bs.ReactCurrentBatchConfig,Ke=0,qt=null,Lt=null,or=0,Jr=0,zi=Oa(0),Vt=0,Kl=null,oi=0,nh=0,rm=0,yl=null,Hr=null,nm=0,po=1/0,ws=null,rd=!1,A0=null,pa=null,Kc=!1,sa=null,nd=0,vl=0,O0=null,Nu=-1,bu=0;function Ar(){return Ke&6?Dt():Nu!==-1?Nu:Nu=Dt()}function ma(e){return e.mode&1?Ke&2&&or!==0?or&-or:Ck.transition!==null?(bu===0&&(bu=d1()),bu):(e=st,e!==0||(e=window.event,e=e===void 0?16:y1(e.type)),e):1}function Ln(e,t,r,n){if(50<vl)throw vl=0,O0=null,Error(be(185));uc(e,r,n),(!(Ke&2)||e!==qt)&&(e===qt&&(!(Ke&2)&&(nh|=r),Vt===4&&ta(e,or)),Kr(e,n),r===1&&Ke===0&&!(t.mode&1)&&(po=Dt()+500,Zd&&Ra()))}function Kr(e,t){var r=e.callbackNode;CT(e,t);var n=Hu(e,e===qt?or:0);if(n===0)r!==null&&Nx(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Nx(r),t===1)e.tag===0?Sk(fg.bind(null,e)):L1(fg.bind(null,e)),bk(function(){!(Ke&6)&&Ra()}),r=null;else{switch(h1(n)){case 1:r=_p;break;case 4:r=c1;break;case 16:r=Bu;break;case 536870912:r=u1;break;default:r=Bu}r=Mw(r,Ew.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ew(e,t){if(Nu=-1,bu=0,Ke&6)throw Error(be(327));var r=e.callbackNode;if(eo()&&e.callbackNode!==r)return null;var n=Hu(e,e===qt?or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sd(e,n);else{t=n;var a=Ke;Ke|=2;var i=Dw();(qt!==e||or!==t)&&(ws=null,po=Dt()+500,Ga(e,t));do try{zk();break}catch(l){_w(e,l)}while(!0);Up(),td.current=i,Ke=a,Lt!==null?t=0:(qt=null,or=0,t=Vt)}if(t!==0){if(t===2&&(a=i0(e),a!==0&&(n=a,t=R0(e,a))),t===1)throw r=Kl,Ga(e,0),ta(e,n),Kr(e,Dt()),r;if(t===6)ta(e,n);else{if(a=e.current.alternate,!(n&30)&&!Kk(a)&&(t=sd(e,n),t===2&&(i=i0(e),i!==0&&(n=i,t=R0(e,i))),t===1))throw r=Kl,Ga(e,0),ta(e,n),Kr(e,Dt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(be(345));case 2:Ha(e,Hr,ws);break;case 3:if(ta(e,n),(n&130023424)===n&&(t=nm+500-Dt(),10<t)){if(Hu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ar(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=p0(Ha.bind(null,e,Hr,ws),t);break}Ha(e,Hr,ws);break;case 4:if(ta(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Fn(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wk(n/1960))-n,10<n){e.timeoutHandle=p0(Ha.bind(null,e,Hr,ws),n);break}Ha(e,Hr,ws);break;case 5:Ha(e,Hr,ws);break;default:throw Error(be(329))}}}return Kr(e,Dt()),e.callbackNode===r?Ew.bind(null,e):null}function R0(e,t){var r=yl;return e.current.memoizedState.isDehydrated&&(Ga(e,t).flags|=256),e=sd(e,t),e!==2&&(t=Hr,Hr=r,t!==null&&M0(t)),e}function M0(e){Hr===null?Hr=e:Hr.push.apply(Hr,e)}function Kk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Bn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t){for(t&=~rm,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fn(t),n=1<<r;e[r]=-1,t&=~n}}function fg(e){if(Ke&6)throw Error(be(327));eo();var t=Hu(e,0);if(!(t&1))return Kr(e,Dt()),null;var r=sd(e,t);if(e.tag!==0&&r===2){var n=i0(e);n!==0&&(t=n,r=R0(e,n))}if(r===1)throw r=Kl,Ga(e,0),ta(e,t),Kr(e,Dt()),r;if(r===6)throw Error(be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ha(e,Hr,ws),Kr(e,Dt()),null}function sm(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(po=Dt()+500,Zd&&Ra())}}function li(e){sa!==null&&sa.tag===0&&!(Ke&6)&&eo();var t=Ke;Ke|=1;var r=vn.transition,n=st;try{if(vn.transition=null,st=1,e)return e()}finally{st=n,vn.transition=r,Ke=t,!(Ke&6)&&Ra()}}function am(){Jr=zi.current,dt(zi)}function Ga(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Nk(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(Bp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ku();break;case 3:ho(),dt(Vr),dt(kr),qp();break;case 5:zp(n);break;case 4:ho();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:Vp(n.type._context);break;case 22:case 23:am()}r=r.return}if(qt=e,Lt=e=xa(e.current,null),or=Jr=t,Vt=0,Kl=null,rm=nh=oi=0,Hr=yl=null,Wa!==null){for(t=0;t<Wa.length;t++)if(r=Wa[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Wa=null}return e}function _w(e,t){do{var r=Lt;try{if(Up(),yu.current=ed,Zu){for(var n=wt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Zu=!1}if(ii=0,Wt=Ut=wt=null,xl=!1,Ul=0,tm.current=null,r===null||r.return===null){Vt=1,Kl=t,Lt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=or,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=eg(o);if(p!==null){p.flags&=-257,tg(p,o,l,i,t),p.mode&1&&Zx(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){Zx(i,u,t),im();break e}c=Error(be(426))}}else if(mt&&l.mode&1){var v=eg(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),tg(v,o,l,i,t),Hp(fo(c,l));break e}}i=c=fo(c,l),Vt!==4&&(Vt=2),yl===null?yl=[i]:yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=hw(i,c,t);zx(i,y);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pa===null||!pa.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=fw(i,l,t);zx(i,b);break e}}i=i.return}while(i!==null)}Aw(r)}catch(k){t=k,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function Dw(){var e=td.current;return td.current=ed,e===null?ed:e}function im(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),qt===null||!(oi&268435455)&&!(nh&268435455)||ta(qt,or)}function sd(e,t){var r=Ke;Ke|=2;var n=Dw();(qt!==e||or!==t)&&(ws=null,Ga(e,t));do try{Yk();break}catch(a){_w(e,a)}while(!0);if(Up(),Ke=r,td.current=n,Lt!==null)throw Error(be(261));return qt=null,or=0,Vt}function Yk(){for(;Lt!==null;)Pw(Lt)}function zk(){for(;Lt!==null&&!yT();)Pw(Lt)}function Pw(e){var t=Rw(e.alternate,e,Jr);e.memoizedProps=e.pendingProps,t===null?Aw(e):Lt=t,tm.current=null}function Aw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Hk(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Lt=null;return}}else if(r=Bk(r,t,Jr),r!==null){Lt=r;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Vt===0&&(Vt=5)}function Ha(e,t,r){var n=st,a=vn.transition;try{vn.transition=null,st=1,qk(e,t,r,n)}finally{vn.transition=a,st=n}return null}function qk(e,t,r,n){do eo();while(sa!==null);if(Ke&6)throw Error(be(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(be(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(ET(e,i),e===qt&&(Lt=qt=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kc||(Kc=!0,Mw(Bu,function(){return eo(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vn.transition,vn.transition=null;var o=st;st=1;var l=Ke;Ke|=4,tm.current=null,Uk(e,r),Sw(r,e),pk(h0),$u=!!d0,h0=d0=null,e.current=r,Vk(r),vT(),Ke=l,st=o,vn.transition=i}else e.current=r;if(Kc&&(Kc=!1,sa=e,nd=a),i=e.pendingLanes,i===0&&(pa=null),bT(r.stateNode),Kr(e,Dt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(rd)throw rd=!1,e=A0,A0=null,e;return nd&1&&e.tag!==0&&eo(),i=e.pendingLanes,i&1?e===O0?vl++:(vl=0,O0=e):vl=0,Ra(),null}function eo(){if(sa!==null){var e=h1(nd),t=vn.transition,r=st;try{if(vn.transition=null,st=16>e?16:e,sa===null)var n=!1;else{if(e=sa,sa=null,nd=0,Ke&6)throw Error(be(331));var a=Ke;for(Ke|=4,Re=e.current;Re!==null;){var i=Re,o=i.child;if(Re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Re=u;Re!==null;){var d=Re;switch(d.tag){case 0:case 11:case 15:gl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Re=h;else for(;Re!==null;){d=Re;var f=d.sibling,p=d.return;if(jw(d),d===u){Re=null;break}if(f!==null){f.return=p,Re=f;break}Re=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Re=o;else e:for(;Re!==null;){if(i=Re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gl(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Re=y;break e}Re=i.return}}var g=e.current;for(Re=g;Re!==null;){o=Re;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Re=w;else e:for(o=g;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rh(9,l)}}catch(k){Tt(l,l.return,k)}if(l===o){Re=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Re=b;break e}Re=l.return}}if(Ke=a,Ra(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(qd,e)}catch{}n=!0}return n}finally{st=r,vn.transition=t}}return!1}function pg(e,t,r){t=fo(r,t),t=hw(e,t,1),e=fa(e,t,1),t=Ar(),e!==null&&(uc(e,1,t),Kr(e,t))}function Tt(e,t,r){if(e.tag===3)pg(e,e,r);else for(;t!==null;){if(t.tag===3){pg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pa===null||!pa.has(n))){e=fo(r,e),e=fw(t,e,1),t=fa(t,e,1),e=Ar(),t!==null&&(uc(t,1,e),Kr(t,e));break}}t=t.return}}function Qk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ar(),e.pingedLanes|=e.suspendedLanes&r,qt===e&&(or&r)===r&&(Vt===4||Vt===3&&(or&130023424)===or&&500>Dt()-nm?Ga(e,0):rm|=r),Kr(e,t)}function Ow(e,t){t===0&&(e.mode&1?(t=Mc,Mc<<=1,!(Mc&130023424)&&(Mc=4194304)):t=1);var r=Ar();e=Os(e,t),e!==null&&(uc(e,t,r),Kr(e,r))}function Gk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ow(e,r)}function Xk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(be(314))}n!==null&&n.delete(t),Ow(e,r)}var Rw;Rw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vr.current)$r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $r=!1,Ik(e,t,r);$r=!!(e.flags&131072)}else $r=!1,mt&&t.flags&1048576&&I1(t,qu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;wu(e,t),e=t.pendingProps;var a=lo(t,kr.current);Zi(t,r),a=Gp(null,t,n,e,a,r);var i=Xp();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(n)?(i=!0,Yu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kp(t),a.updater=th,t.stateNode=a,a._reactInternals=t,N0(t,n,e,r),t=T0(null,t,n,!0,i,r)):(t.tag=0,mt&&i&&Ip(t),Cr(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(wu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Zk(n),e=Pn(n,e),a){case 0:t=j0(null,t,n,e,r);break e;case 1:t=sg(null,t,n,e,r);break e;case 11:t=rg(null,t,n,e,r);break e;case 14:t=ng(null,t,n,Pn(n.type,e),r);break e}throw Error(be(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),j0(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),sg(e,t,n,a,r);case 3:e:{if(gw(t),e===null)throw Error(be(387));n=t.pendingProps,i=t.memoizedState,a=i.element,W1(e,t),Xu(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=fo(Error(be(423)),t),t=ag(e,t,n,r,a);break e}else if(n!==a){a=fo(Error(be(424)),t),t=ag(e,t,n,r,a);break e}else for(nn=ha(t.stateNode.containerInfo.firstChild),sn=t,mt=!0,On=null,r=U1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(co(),n===a){t=Rs(e,t,r);break e}Cr(e,t,n,r)}t=t.child}return t;case 5:return K1(t),e===null&&y0(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,f0(n,a)?o=null:i!==null&&f0(n,i)&&(t.flags|=32),xw(e,t),Cr(e,t,o,r),t.child;case 6:return e===null&&y0(t),null;case 13:return yw(e,t,r);case 4:return Yp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=uo(t,null,n,r):Cr(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),rg(e,t,n,a,r);case 7:return Cr(e,t,t.pendingProps,r),t.child;case 8:return Cr(e,t,t.pendingProps.children,r),t.child;case 12:return Cr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,ct(Qu,n._currentValue),n._currentValue=o,i!==null)if(Bn(i.value,o)){if(i.children===a.children&&!Vr.current){t=Rs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ks(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),v0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(be(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),v0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Cr(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Zi(t,r),a=bn(a),n=n(a),t.flags|=1,Cr(e,t,n,r),t.child;case 14:return n=t.type,a=Pn(n,t.pendingProps),a=Pn(n.type,a),ng(e,t,n,a,r);case 15:return pw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Pn(n,a),wu(e,t),t.tag=1,Wr(n)?(e=!0,Yu(t)):e=!1,Zi(t,r),dw(t,n,a),N0(t,n,a,r),T0(null,t,n,!0,e,r);case 19:return vw(e,t,r);case 22:return mw(e,t,r)}throw Error(be(156,t.tag))};function Mw(e,t){return l1(e,t)}function Jk(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,t,r,n){return new Jk(e,t,r,n)}function om(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return om(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sp)return 11;if(e===Cp)return 14}return 2}function xa(e,t){var r=e.alternate;return r===null?(r=yn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ju(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")om(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Li:return Xa(r.children,a,i,t);case kp:o=8,a|=8;break;case Kf:return e=yn(12,r,t,a|2),e.elementType=Kf,e.lanes=i,e;case Yf:return e=yn(13,r,t,a),e.elementType=Yf,e.lanes=i,e;case zf:return e=yn(19,r,t,a),e.elementType=zf,e.lanes=i,e;case Kv:return sh(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vv:o=10;break e;case Wv:o=9;break e;case Sp:o=11;break e;case Cp:o=14;break e;case Qs:o=16,n=null;break e}throw Error(be(130,e==null?e:typeof e,""))}return t=yn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Xa(e,t,r,n){return e=yn(7,e,n,t),e.lanes=r,e}function sh(e,t,r,n){return e=yn(22,e,n,t),e.elementType=Kv,e.lanes=r,e.stateNode={isHidden:!1},e}function mf(e,t,r){return e=yn(6,e,null,t),e.lanes=r,e}function xf(e,t,r){return t=yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eS(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function lm(e,t,r,n,a,i,o,l,c){return e=new eS(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=yn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(i),e}function tS(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fw(e){if(!e)return Ta;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(be(171))}if(e.tag===1){var r=e.type;if(Wr(r))return F1(e,r,t)}return t}function Lw(e,t,r,n,a,i,o,l,c){return e=lm(r,n,!0,e,a,i,o,l,c),e.context=Fw(null),r=e.current,n=Ar(),a=ma(r),i=ks(n,a),i.callback=t??null,fa(r,i,a),e.current.lanes=a,uc(e,a,n),Kr(e,n),e}function ah(e,t,r,n){var a=t.current,i=Ar(),o=ma(a);return r=Fw(r),t.context===null?t.context=r:t.pendingContext=r,t=ks(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fa(a,t,o),e!==null&&(Ln(e,a,o,i),gu(e,a,o)),o}function ad(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cm(e,t){mg(e,t),(e=e.alternate)&&mg(e,t)}function rS(){return null}var Iw=typeof reportError=="function"?reportError:function(e){console.error(e)};function um(e){this._internalRoot=e}ih.prototype.render=um.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(be(409));ah(e,t,null,null)};ih.prototype.unmount=um.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){ah(null,e,null,null)}),t[As]=null}};function ih(e){this._internalRoot=e}ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=m1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ea.length&&t!==0&&t<ea[r].priority;r++);ea.splice(r,0,e),r===0&&g1(e)}};function dm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xg(){}function nS(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ad(o);i.call(u)}}var o=Lw(t,n,e,0,null,!1,!1,"",xg);return e._reactRootContainer=o,e[As]=o.current,Ll(e.nodeType===8?e.parentNode:e),li(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ad(c);l.call(u)}}var c=lm(e,0,!1,null,null,!1,!1,"",xg);return e._reactRootContainer=c,e[As]=c.current,Ll(e.nodeType===8?e.parentNode:e),li(function(){ah(t,c,r,n)}),c}function lh(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ad(o);l.call(c)}}ah(t,o,e,a)}else o=nS(r,t,e,a,n);return ad(o)}f1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=il(t.pendingLanes);r!==0&&(Dp(t,r|1),Kr(t,Dt()),!(Ke&6)&&(po=Dt()+500,Ra()))}break;case 13:li(function(){var n=Os(e,1);if(n!==null){var a=Ar();Ln(n,e,1,a)}}),cm(e,1)}};Pp=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var r=Ar();Ln(t,e,134217728,r)}cm(e,134217728)}};p1=function(e){if(e.tag===13){var t=ma(e),r=Os(e,t);if(r!==null){var n=Ar();Ln(r,e,t,n)}cm(e,t)}};m1=function(){return st};x1=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};n0=function(e,t,r){switch(t){case"input":if(Gf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Jd(n);if(!a)throw Error(be(90));zv(n),Gf(n,a)}}}break;case"textarea":Qv(e,r);break;case"select":t=r.value,t!=null&&Qi(e,!!r.multiple,t,!1)}};r1=sm;n1=li;var sS={usingClientEntryPoint:!1,Events:[hc,$i,Jd,e1,t1,sm]},Jo={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aS={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i1(e),e===null?null:e.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||rS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{qd=Yc.inject(aS),rs=Yc}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS;un.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dm(t))throw Error(be(200));return tS(e,t,null,r)};un.createRoot=function(e,t){if(!dm(e))throw Error(be(299));var r=!1,n="",a=Iw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=lm(e,1,!1,null,null,r,!1,n,a),e[As]=t.current,Ll(e.nodeType===8?e.parentNode:e),new um(t)};un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(be(188)):(e=Object.keys(e).join(","),Error(be(268,e)));return e=i1(t),e=e===null?null:e.stateNode,e};un.flushSync=function(e){return li(e)};un.hydrate=function(e,t,r){if(!oh(t))throw Error(be(200));return lh(null,e,t,!0,r)};un.hydrateRoot=function(e,t,r){if(!dm(e))throw Error(be(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Iw;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Lw(t,null,e,1,r??null,a,!1,i,o),e[As]=t.current,Ll(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ih(t)};un.render=function(e,t,r){if(!oh(t))throw Error(be(200));return lh(null,e,t,!1,r)};un.unmountComponentAtNode=function(e){if(!oh(e))throw Error(be(40));return e._reactRootContainer?(li(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};un.unstable_batchedUpdates=sm;un.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oh(r))throw Error(be(200));if(e==null||e._reactInternals===void 0)throw Error(be(38));return lh(e,t,r,!1,n)};un.version="18.3.1-next-f1338f8080-20240426";function Bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bw)}catch(e){console.error(e)}}Bw(),Bv.exports=un;var ch=Bv.exports;const Hw=Sv(ch);var gg=ch;Vf.createRoot=gg.createRoot,Vf.hydrateRoot=gg.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(this,arguments)}var aa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(aa||(aa={}));const yg="popstate";function iS(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return F0("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:id(a)}return lS(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $w(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oS(){return Math.random().toString(36).substr(2,8)}function vg(e,t){return{usr:e.state,key:e.key,idx:t}}function F0(e,t,r,n){return r===void 0&&(r=null),Yl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Oo(t):t,{state:r,key:t&&t.key||n||oS()})}function id(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lS(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=aa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Yl({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=aa.Pop;let v=d(),y=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:y})}function f(v,y){l=aa.Push;let g=F0(m.location,v,y);u=d()+1;let w=vg(g,u),b=m.createHref(g);try{o.pushState(w,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(b)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,y){l=aa.Replace;let g=F0(m.location,v,y);u=d();let w=vg(g,u),b=m.createHref(g);o.replaceState(w,"",b),i&&c&&c({action:l,location:m.location,delta:0})}function x(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof v=="string"?v:id(v);return g=g.replace(/ $/,"%20"),Nt(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let m={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yg,h),c=v,()=>{a.removeEventListener(yg,h),c=null}},createHref(v){return t(a,v)},createURL:x,encodeLocation(v){let y=x(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return o.go(v)}};return m}var wg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wg||(wg={}));function cS(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Oo(t):t,a=mo(n.pathname||"/",r);if(a==null)return null;let i=Uw(e);uS(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=NS(a);o=vS(i[l],c)}return o}function Uw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ga([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Uw(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:gS(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of Vw(i.path))a(i,o,c)}),t}function Vw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Vw(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function uS(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yS(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dS=/^:[\w-]+$/,hS=3,fS=2,pS=1,mS=10,xS=-2,Ng=e=>e==="*";function gS(e,t){let r=e.split("/"),n=r.length;return r.some(Ng)&&(n+=xS),t&&(n+=fS),r.filter(a=>!Ng(a)).reduce((a,i)=>a+(dS.test(i)?hS:i===""?pS:mS),n)}function yS(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function vS(e,t){let{routesMeta:r}=e,n={},a="/",i=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=a==="/"?t:t.slice(a.length)||"/",d=L0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u);if(!d)return null;Object.assign(n,d.params);let h=l.route;i.push({params:n,pathname:ga([a,d.pathname]),pathnameBase:kS(ga([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=ga([a,d.pathnameBase]))}return i}function L0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=wS(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function wS(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$w(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function NS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $w(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function mo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function bS(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Oo(e):e;return{pathname:r?r.startsWith("/")?r:jS(r,t):t,search:SS(n),hash:CS(a)}}function jS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function gf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TS(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hm(e,t){let r=TS(e);return t?r.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fm(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Oo(e):(a=Yl({},e),Nt(!a.pathname||!a.pathname.includes("?"),gf("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),gf("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),gf("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=bS(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ga=e=>e.join("/").replace(/\/\/+/g,"/"),kS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ES(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ww=["post","put","patch","delete"];new Set(Ww);const _S=["get",...Ww];new Set(_S);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}const uh=N.createContext(null),Kw=N.createContext(null),Hs=N.createContext(null),dh=N.createContext(null),ps=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Yw=N.createContext(null);function DS(e,t){let{relative:r}=t===void 0?{}:t;Ro()||Nt(!1);let{basename:n,navigator:a}=N.useContext(Hs),{hash:i,pathname:o,search:l}=hh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ga([n,o])),a.createHref({pathname:c,search:l,hash:i})}function Ro(){return N.useContext(dh)!=null}function $s(){return Ro()||Nt(!1),N.useContext(dh).location}function zw(e){N.useContext(Hs).static||N.useLayoutEffect(e)}function Vn(){let{isDataRoute:e}=N.useContext(ps);return e?KS():PS()}function PS(){Ro()||Nt(!1);let e=N.useContext(uh),{basename:t,future:r,navigator:n}=N.useContext(Hs),{matches:a}=N.useContext(ps),{pathname:i}=$s(),o=JSON.stringify(hm(a,r.v7_relativeSplatPath)),l=N.useRef(!1);return zw(()=>{l.current=!0}),N.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=fm(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ga([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const AS=N.createContext(null);function OS(e){let t=N.useContext(ps).outlet;return t&&N.createElement(AS.Provider,{value:e},t)}function qw(){let{matches:e}=N.useContext(ps),t=e[e.length-1];return t?t.params:{}}function hh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(Hs),{matches:a}=N.useContext(ps),{pathname:i}=$s(),o=JSON.stringify(hm(a,n.v7_relativeSplatPath));return N.useMemo(()=>fm(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function RS(e,t){return MS(e,t)}function MS(e,t,r,n){Ro()||Nt(!1);let{navigator:a}=N.useContext(Hs),{matches:i}=N.useContext(ps),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=$s(),d;if(t){var h;let v=typeof t=="string"?Oo(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Nt(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=cS(e,{pathname:p}),m=HS(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:ga([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:ga([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?N.createElement(dh.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:aa.Pop}},m):m}function FS(){let e=WS(),t=ES(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const LS=N.createElement(FS,null);class IS extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(ps.Provider,{value:this.props.routeContext},N.createElement(Yw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BS(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(uh);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(ps.Provider,{value:t},n)}function HS(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if((i=r)!=null&&i.errors)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Nt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,x=!1,m=null,v=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||LS,c&&(u<0&&f===0?(YS("route-fallback"),x=!0,v=null):u===f&&(x=!0,v=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),g=()=>{let w;return p?w=m:x?w=v:h.route.Component?w=N.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,N.createElement(BS,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?N.createElement(IS,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Qw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Qw||{}),Gw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Gw||{});function $S(e){let t=N.useContext(uh);return t||Nt(!1),t}function US(e){let t=N.useContext(Kw);return t||Nt(!1),t}function VS(e){let t=N.useContext(ps);return t||Nt(!1),t}function Xw(e){let t=VS(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function WS(){var e;let t=N.useContext(Yw),r=US(),n=Xw();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function KS(){let{router:e}=$S(Qw.UseNavigateStable),t=Xw(Gw.UseNavigateStable),r=N.useRef(!1);return zw(()=>{r.current=!0}),N.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zl({fromRouteId:t},i)))},[e,t])}const bg={};function YS(e,t,r){bg[e]||(bg[e]=!0)}function zS(e){let{to:t,replace:r,state:n,relative:a}=e;Ro()||Nt(!1);let{future:i,static:o}=N.useContext(Hs),{matches:l}=N.useContext(ps),{pathname:c}=$s(),u=Vn(),d=fm(t,hm(l,i.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(d);return N.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:a}),[u,h,a,r,n]),null}function fh(e){return OS(e.context)}function Ve(e){Nt(!1)}function qS(e){let{basename:t="/",children:r=null,location:n,navigationType:a=aa.Pop,navigator:i,static:o=!1,future:l}=e;Ro()&&Nt(!1);let c=t.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:c,navigator:i,static:o,future:zl({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Oo(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=n,m=N.useMemo(()=>{let v=mo(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:x},navigationType:a}},[c,d,h,f,p,x,a]);return m==null?null:N.createElement(Hs.Provider,{value:u},N.createElement(dh.Provider,{children:r,value:m}))}function QS(e){let{children:t,location:r}=e;return RS(I0(t),r)}new Promise(()=>{});function I0(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let i=[...t,a];if(n.type===N.Fragment){r.push.apply(r,I0(n.props.children,i));return}n.type!==Ve&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=I0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},od.apply(this,arguments)}function Jw(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function GS(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function XS(e,t){return e.button===0&&(!t||t==="_self")&&!GS(e)}function B0(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function JS(e,t){let r=B0(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const ZS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],eC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],tC="6";try{window.__reactRouterVersion=tC}catch{}const rC=N.createContext({isTransitioning:!1}),nC="startTransition",jg=Lv[nC];function sC(e){let{basename:t,children:r,future:n,window:a}=e,i=N.useRef();i.current==null&&(i.current=iS({window:a,v5Compat:!0}));let o=i.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=N.useCallback(h=>{u&&jg?jg(()=>c(h)):c(h)},[c,u]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(qS,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,unstable_viewTransition:h}=t,f=Jw(t,ZS),{basename:p}=N.useContext(Hs),x,m=!1;if(typeof u=="string"&&iC.test(u)&&(x=u,aC))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),k=mo(b.pathname,p);b.origin===w.origin&&k!=null?u=k+b.search+b.hash:m=!0}catch{}let v=DS(u,{relative:a}),y=lC(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,unstable_viewTransition:h});function g(w){n&&n(w),w.defaultPrevented||y(w)}return N.createElement("a",od({},f,{href:x||v,onClick:m||i?n:g,ref:r,target:c}))}),pm=N.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:o=!1,style:l,to:c,unstable_viewTransition:u,children:d}=t,h=Jw(t,eC),f=hh(c,{relative:h.relative}),p=$s(),x=N.useContext(Kw),{navigator:m,basename:v}=N.useContext(Hs),y=x!=null&&uC(f)&&u===!0,g=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;a||(w=w.toLowerCase(),b=b?b.toLowerCase():null,g=g.toLowerCase()),b&&v&&(b=mo(b,v)||b);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let D=w===g||!o&&w.startsWith(g)&&w.charAt(k)==="/",j=b!=null&&(b===g||!o&&b.startsWith(g)&&b.charAt(g.length)==="/"),T={isActive:D,isPending:j,isTransitioning:y},L=D?n:void 0,K;typeof i=="function"?K=i(T):K=[i,D?"active":null,j?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(T):l;return N.createElement(Fe,od({},h,{"aria-current":L,className:K,ref:r,style:M,to:c,unstable_viewTransition:u}),typeof d=="function"?d(T):d)});var H0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(H0||(H0={}));var Tg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tg||(Tg={}));function oC(e){let t=N.useContext(uh);return t||Nt(!1),t}function lC(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l}=t===void 0?{}:t,c=Vn(),u=$s(),d=hh(e,{relative:o});return N.useCallback(h=>{if(XS(h,r)){h.preventDefault();let f=n!==void 0?n:id(u)===id(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:o,unstable_viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function cC(e){let t=N.useRef(B0(e)),r=N.useRef(!1),n=$s(),a=N.useMemo(()=>JS(n.search,r.current?null:t.current),[n.search]),i=Vn(),o=N.useCallback((l,c)=>{const u=B0(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}function uC(e,t){t===void 0&&(t={});let r=N.useContext(rC);r==null&&Nt(!1);let{basename:n}=oC(H0.useViewTransitionState),a=hh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=mo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=mo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return L0(a.pathname,o)!=null||L0(a.pathname,i)!=null}function $0(e,t){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$0(e,t)}function ph(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$0(e,t)}var mh=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(n){var a=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){a.listeners=a.listeners.filter(function(o){return o!==i}),a.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function et(){return et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},et.apply(null,arguments)}var Zw=typeof window>"u";function Sr(){}function dC(e,t){return typeof e=="function"?e(t):e}function hC(e){return typeof e=="number"&&e>=0&&e!==1/0}function ld(e){return Array.isArray(e)?e:[e]}function fC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yf(e,t,r){return xh(e)?typeof t=="function"?et({},r,{queryKey:e,queryFn:t}):et({},t,{queryKey:e}):e}function Xs(e,t,r){return xh(e)?[et({},t,{queryKey:e}),r]:[e||{},t]}function pC(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var r=e??!t;return r?"active":"inactive"}function kg(e,t){var r=e.active,n=e.exact,a=e.fetching,i=e.inactive,o=e.predicate,l=e.queryKey,c=e.stale;if(xh(l)){if(n){if(t.queryHash!==mm(l,t.options))return!1}else if(!cd(t.queryKey,l))return!1}var u=pC(r,i);if(u==="none")return!1;if(u!=="all"){var d=t.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||typeof a=="boolean"&&t.isFetching()!==a||o&&!o(t))}function Sg(e,t){var r=e.exact,n=e.fetching,a=e.predicate,i=e.mutationKey;if(xh(i)){if(!t.options.mutationKey)return!1;if(r){if(Ya(t.options.mutationKey)!==Ya(i))return!1}else if(!cd(t.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||a&&!a(t))}function mm(e,t){var r=(t==null?void 0:t.queryKeyHashFn)||Ya;return r(e)}function Ya(e){var t=ld(e);return mC(t)}function mC(e){return JSON.stringify(e,function(t,r){return U0(r)?Object.keys(r).sort().reduce(function(n,a){return n[a]=r[a],n},{}):r})}function cd(e,t){return eN(ld(e),ld(t))}function eN(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!eN(e[r],t[r])}):!1}function tN(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||U0(e)&&U0(t)){for(var n=r?e.length:Object.keys(e).length,a=r?t:Object.keys(t),i=a.length,o=r?[]:{},l=0,c=0;c<i;c++){var u=r?c:a[c];o[u]=tN(e[u],t[u]),o[u]===e[u]&&l++}return n===i&&l===n?e:o}return t}function U0(e){if(!Cg(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!Cg(r)||!r.hasOwnProperty("isPrototypeOf"))}function Cg(e){return Object.prototype.toString.call(e)==="[object Object]"}function xh(e){return typeof e=="string"||Array.isArray(e)}function xC(e){return new Promise(function(t){setTimeout(t,e)})}function Eg(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function rN(){if(typeof AbortController=="function")return new AbortController}var gC=function(e){ph(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(a){var i;if(!Zw&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},r.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setFocused(l):o.onFocus()})},r.setFocused=function(a){this.focused=a,a&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(a){a()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(mh),Tu=new gC,yC=function(e){ph(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(a){var i;if(!Zw&&((i=window)!=null&&i.addEventListener)){var o=function(){return a()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var a;(a=this.cleanup)==null||a.call(this),this.cleanup=void 0}},r.setEventListener=function(a){var i,o=this;this.setup=a,(i=this.cleanup)==null||i.call(this),this.cleanup=a(function(l){typeof l=="boolean"?o.setOnline(l):o.onOnline()})},r.setOnline=function(a){this.online=a,a&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(a){a()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(mh),ku=new yC;function vC(e){return Math.min(1e3*Math.pow(2,e),3e4)}function ud(e){return typeof(e==null?void 0:e.cancel)=="function"}var nN=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function vf(e){return e instanceof nN}var sN=function(t){var r=this,n=!1,a,i,o,l;this.abort=t.abort,this.cancel=function(f){return a==null?void 0:a(f)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(f,p){o=f,l=p});var c=function(p){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(p),i==null||i(),o(p))},u=function(p){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(p),i==null||i(),l(p))},d=function(){return new Promise(function(p){i=p,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){i=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},h=function f(){if(!r.isResolved){var p;try{p=t.fn()}catch(x){p=Promise.reject(x)}a=function(m){if(!r.isResolved&&(u(new nN(m)),r.abort==null||r.abort(),ud(p)))try{p.cancel()}catch{}},r.isTransportCancelable=ud(p),Promise.resolve(p).then(c).catch(function(x){var m,v;if(!r.isResolved){var y=(m=t.retry)!=null?m:3,g=(v=t.retryDelay)!=null?v:vC,w=typeof g=="function"?g(r.failureCount,x):g,b=y===!0||typeof y=="number"&&r.failureCount<y||typeof y=="function"&&y(r.failureCount,x);if(n||!b){u(x);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,x),xC(w).then(function(){if(!Tu.isFocused()||!ku.isOnline())return d()}).then(function(){n?u(x):f()})}})}};h()},wC=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=e.prototype;return t.batch=function(n){var a;this.transactions++;try{a=n()}finally{this.transactions--,this.transactions||this.flush()}return a},t.schedule=function(n){var a=this;this.transactions?this.queue.push(n):Eg(function(){a.notifyFn(n)})},t.batchCalls=function(n){var a=this;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];a.schedule(function(){n.apply(void 0,o)})}},t.flush=function(){var n=this,a=this.queue;this.queue=[],a.length&&Eg(function(){n.batchNotifyFn(function(){a.forEach(function(i){n.notifyFn(i)})})})},t.setNotifyFunction=function(n){this.notifyFn=n},t.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},e}(),sr=new wC,aN=console;function iN(){return aN}function NC(e){aN=e}var bC=function(){function e(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(n){var a;this.options=et({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(a=this.options.cacheTime)!=null?a:5*60*1e3)},t.setDefaultOptions=function(n){this.defaultOptions=n},t.scheduleGc=function(){var n=this;this.clearGcTimeout(),hC(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(n,a){var i,o,l=this.state.data,c=dC(n,l);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,l,c)?c=l:this.options.structuralSharing!==!1&&(c=tN(l,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt}),c},t.setState=function(n,a){this.dispatch({type:"setState",state:n,setStateOptions:a})},t.cancel=function(n){var a,i=this.promise;return(a=this.retryer)==null||a.cancel(n),i?i.then(Sr).catch(Sr):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},t.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!fC(this.state.dataUpdatedAt,n)},t.onFocus=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},t.onOnline=function(){var n,a=this.observers.find(function(i){return i.shouldFetchOnReconnect()});a&&a.refetch(),(n=this.retryer)==null||n.continue()},t.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},t.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(a){return a!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(n,a){var i=this,o,l,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(g){return g.options.queryFn});d&&this.setOptions(d.options)}var h=ld(this.queryKey),f=rN(),p={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(p,"signal",{enumerable:!0,get:function(){if(f)return i.abortSignalConsumed=!0,f.signal}});var x=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(p)):Promise.reject("Missing queryFn")},m={fetchOptions:a,options:this.options,queryKey:h,state:this.state,fetchFn:x,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var v;(v=this.options.behavior)==null||v.onFetch(m)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((l=m.fetchOptions)==null?void 0:l.meta)){var y;this.dispatch({type:"fetch",meta:(y=m.fetchOptions)==null?void 0:y.meta})}return this.retryer=new sN({fn:m.fetchFn,abort:f==null||(c=f.abort)==null?void 0:c.bind(f),onSuccess:function(w){i.setData(w),i.cache.config.onSuccess==null||i.cache.config.onSuccess(w,i),i.cacheTime===0&&i.optionalRemove()},onError:function(w){vf(w)&&w.silent||i.dispatch({type:"error",error:w}),vf(w)||(i.cache.config.onError==null||i.cache.config.onError(w,i),iN().error(w)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(n){var a=this;this.state=this.reducer(this.state,n),sr.batch(function(){a.observers.forEach(function(i){i.onQueryUpdate(n)}),a.cache.notify({query:a,type:"queryUpdated",action:n})})},t.getDefaultState=function(n){var a=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",o=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,l=typeof a<"u";return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:l?"success":"idle"}},t.reducer=function(n,a){var i,o;switch(a.type){case"failed":return et({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return et({},n,{isPaused:!0});case"continue":return et({},n,{isPaused:!1});case"fetch":return et({},n,{fetchFailureCount:0,fetchMeta:(i=a.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return et({},n,{data:a.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=a.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var l=a.error;return vf(l)&&l.revert&&this.revertState?et({},this.revertState):et({},n,{error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return et({},n,{isInvalidated:!0});case"setState":return et({},n,a.state);default:return n}},e}(),jC=function(e){ph(t,e);function t(n){var a;return a=e.call(this)||this,a.config=n||{},a.queries=[],a.queriesMap={},a}var r=t.prototype;return r.build=function(a,i,o){var l,c=i.queryKey,u=(l=i.queryHash)!=null?l:mm(c,i),d=this.get(u);return d||(d=new bC({cache:this,queryKey:c,queryHash:u,options:a.defaultQueryOptions(i),state:o,defaultOptions:a.getQueryDefaults(c),meta:i.meta}),this.add(d)),d},r.add=function(a){this.queriesMap[a.queryHash]||(this.queriesMap[a.queryHash]=a,this.queries.push(a),this.notify({type:"queryAdded",query:a}))},r.remove=function(a){var i=this.queriesMap[a.queryHash];i&&(a.destroy(),this.queries=this.queries.filter(function(o){return o!==a}),i===a&&delete this.queriesMap[a.queryHash],this.notify({type:"queryRemoved",query:a}))},r.clear=function(){var a=this;sr.batch(function(){a.queries.forEach(function(i){a.remove(i)})})},r.get=function(a){return this.queriesMap[a]},r.getAll=function(){return this.queries},r.find=function(a,i){var o=Xs(a,i),l=o[0];return typeof l.exact>"u"&&(l.exact=!0),this.queries.find(function(c){return kg(l,c)})},r.findAll=function(a,i){var o=Xs(a,i),l=o[0];return Object.keys(l).length>0?this.queries.filter(function(c){return kg(l,c)}):this.queries},r.notify=function(a){var i=this;sr.batch(function(){i.listeners.forEach(function(o){o(a)})})},r.onFocus=function(){var a=this;sr.batch(function(){a.queries.forEach(function(i){i.onFocus()})})},r.onOnline=function(){var a=this;sr.batch(function(){a.queries.forEach(function(i){i.onOnline()})})},t}(mh),TC=function(){function e(r){this.options=et({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||kC(),this.meta=r.meta}var t=e.prototype;return t.setState=function(n){this.dispatch({type:"setState",state:n})},t.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},t.removeObserver=function(n){this.observers=this.observers.filter(function(a){return a!==n})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Sr).catch(Sr)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var n=this,a,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(l){l!==n.state.context&&n.dispatch({type:"loading",context:l,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(l){a=l,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(a,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(a,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(a,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:a}),a}).catch(function(l){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(l,n.state.variables,n.state.context,n),iN().error(l),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(l,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,l,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:l}),l})})},t.executeMutation=function(){var n=this,a;return this.retryer=new sN({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(a=this.options.retry)!=null?a:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(n){var a=this;this.state=SC(this.state,n),sr.batch(function(){a.observers.forEach(function(i){i.onMutationUpdate(n)}),a.mutationCache.notify(a)})},e}();function kC(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function SC(e,t){switch(t.type){case"failed":return et({},e,{failureCount:e.failureCount+1});case"pause":return et({},e,{isPaused:!0});case"continue":return et({},e,{isPaused:!1});case"loading":return et({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return et({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return et({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return et({},e,t.state);default:return e}}var CC=function(e){ph(t,e);function t(n){var a;return a=e.call(this)||this,a.config=n||{},a.mutations=[],a.mutationId=0,a}var r=t.prototype;return r.build=function(a,i,o){var l=new TC({mutationCache:this,mutationId:++this.mutationId,options:a.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?a.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(l),l},r.add=function(a){this.mutations.push(a),this.notify(a)},r.remove=function(a){this.mutations=this.mutations.filter(function(i){return i!==a}),a.cancel(),this.notify(a)},r.clear=function(){var a=this;sr.batch(function(){a.mutations.forEach(function(i){a.remove(i)})})},r.getAll=function(){return this.mutations},r.find=function(a){return typeof a.exact>"u"&&(a.exact=!0),this.mutations.find(function(i){return Sg(a,i)})},r.findAll=function(a){return this.mutations.filter(function(i){return Sg(a,i)})},r.notify=function(a){var i=this;sr.batch(function(){i.listeners.forEach(function(o){o(a)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var a=this.mutations.filter(function(i){return i.state.isPaused});return sr.batch(function(){return a.reduce(function(i,o){return i.then(function(){return o.continue().catch(Sr)})},Promise.resolve())})},t}(mh);function EC(){return{onFetch:function(t){t.fetchFn=function(){var r,n,a,i,o,l,c=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(a=t.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",f=(u==null?void 0:u.direction)==="backward",p=((o=t.state.data)==null?void 0:o.pages)||[],x=((l=t.state.data)==null?void 0:l.pageParams)||[],m=rN(),v=m==null?void 0:m.signal,y=x,g=!1,w=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},b=function(de,X,B,V){return y=V?[X].concat(y):[].concat(y,[X]),V?[B].concat(de):[].concat(de,[B])},k=function(de,X,B,V){if(g)return Promise.reject("Cancelled");if(typeof B>"u"&&!X&&de.length)return Promise.resolve(de);var ae={queryKey:t.queryKey,signal:v,pageParam:B,meta:t.meta},q=w(ae),Z=Promise.resolve(q).then(function(_){return b(de,B,_,V)});if(ud(q)){var ge=Z;ge.cancel=q.cancel}return Z},D;if(!p.length)D=k([]);else if(h){var j=typeof d<"u",T=j?d:_g(t.options,p);D=k(p,j,T)}else if(f){var L=typeof d<"u",K=L?d:_C(t.options,p);D=k(p,L,K,!0)}else(function(){y=[];var z=typeof t.options.getNextPageParam>"u",de=c&&p[0]?c(p[0],0,p):!0;D=de?k([],z,x[0]):Promise.resolve(b([],x[0],p[0]));for(var X=function(ae){D=D.then(function(q){var Z=c&&p[ae]?c(p[ae],ae,p):!0;if(Z){var ge=z?x[ae]:_g(t.options,q);return k(q,z,ge)}return Promise.resolve(b(q,x[ae],p[ae]))})},B=1;B<p.length;B++)X(B)})();var M=D.then(function(z){return{pages:z,pageParams:y}}),Y=M;return Y.cancel=function(){g=!0,m==null||m.abort(),ud(D)&&D.cancel()},M}}}}function _g(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function _C(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var DC=function(){function e(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new jC,this.mutationCache=r.mutationCache||new CC,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var n=this;this.unsubscribeFocus=Tu.subscribe(function(){Tu.isFocused()&&ku.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=ku.subscribe(function(){Tu.isFocused()&&ku.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},t.unmount=function(){var n,a;(n=this.unsubscribeFocus)==null||n.call(this),(a=this.unsubscribeOnline)==null||a.call(this)},t.isFetching=function(n,a){var i=Xs(n,a),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(n){return this.mutationCache.findAll(et({},n,{fetching:!0})).length},t.getQueryData=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state.data},t.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(a){var i=a.queryKey,o=a.state,l=o.data;return[i,l]})},t.setQueryData=function(n,a,i){var o=yf(n),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(a,i)},t.setQueriesData=function(n,a,i){var o=this;return sr.batch(function(){return o.getQueryCache().findAll(n).map(function(l){var c=l.queryKey;return[c,o.setQueryData(c,a,i)]})})},t.getQueryState=function(n,a){var i;return(i=this.queryCache.find(n,a))==null?void 0:i.state},t.removeQueries=function(n,a){var i=Xs(n,a),o=i[0],l=this.queryCache;sr.batch(function(){l.findAll(o).forEach(function(c){l.remove(c)})})},t.resetQueries=function(n,a,i){var o=this,l=Xs(n,a,i),c=l[0],u=l[1],d=this.queryCache,h=et({},c,{active:!0});return sr.batch(function(){return d.findAll(c).forEach(function(f){f.reset()}),o.refetchQueries(h,u)})},t.cancelQueries=function(n,a,i){var o=this,l=Xs(n,a,i),c=l[0],u=l[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=sr.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.cancel(d)})});return Promise.all(h).then(Sr).catch(Sr)},t.invalidateQueries=function(n,a,i){var o,l,c,u=this,d=Xs(n,a,i),h=d[0],f=d[1],p=et({},h,{active:(o=(l=h.refetchActive)!=null?l:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return sr.batch(function(){return u.queryCache.findAll(h).forEach(function(x){x.invalidate()}),u.refetchQueries(p,f)})},t.refetchQueries=function(n,a,i){var o=this,l=Xs(n,a,i),c=l[0],u=l[1],d=sr.batch(function(){return o.queryCache.findAll(c).map(function(f){return f.fetch(void 0,et({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(d).then(Sr);return u!=null&&u.throwOnError||(h=h.catch(Sr)),h},t.fetchQuery=function(n,a,i){var o=yf(n,a,i),l=this.defaultQueryOptions(o);typeof l.retry>"u"&&(l.retry=!1);var c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)},t.prefetchQuery=function(n,a,i){return this.fetchQuery(n,a,i).then(Sr).catch(Sr)},t.fetchInfiniteQuery=function(n,a,i){var o=yf(n,a,i);return o.behavior=EC(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(n,a,i){return this.fetchInfiniteQuery(n,a,i).then(Sr).catch(Sr)},t.cancelMutations=function(){var n=this,a=sr.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(a).then(Sr).catch(Sr)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(n){this.defaultOptions=n},t.setQueryDefaults=function(n,a){var i=this.queryDefaults.find(function(o){return Ya(n)===Ya(o.queryKey)});i?i.defaultOptions=a:this.queryDefaults.push({queryKey:n,defaultOptions:a})},t.getQueryDefaults=function(n){var a;return n?(a=this.queryDefaults.find(function(i){return cd(n,i.queryKey)}))==null?void 0:a.defaultOptions:void 0},t.setMutationDefaults=function(n,a){var i=this.mutationDefaults.find(function(o){return Ya(n)===Ya(o.mutationKey)});i?i.defaultOptions=a:this.mutationDefaults.push({mutationKey:n,defaultOptions:a})},t.getMutationDefaults=function(n){var a;return n?(a=this.mutationDefaults.find(function(i){return cd(n,i.mutationKey)}))==null?void 0:a.defaultOptions:void 0},t.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var a=et({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!a.queryHash&&a.queryKey&&(a.queryHash=mm(a.queryKey,a)),a},t.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},t.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:et({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),PC=Hw.unstable_batchedUpdates;sr.setBatchNotifyFunction(PC);var AC=console;NC(AC);var Dg=ie.createContext(void 0),OC=ie.createContext(!1);function RC(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Dg),window.ReactQueryClientContext):Dg}var MC=function(t){var r=t.client,n=t.contextSharing,a=n===void 0?!1:n,i=t.children;ie.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var o=RC(a);return ie.createElement(OC.Provider,{value:a},ie.createElement(o.Provider,{value:r},i))};let FC={data:""},LC=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||FC,IC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,BC=/\/\*[^]*?\*\/|  +/g,Pg=/\n+/g,ra=(e,t)=>{let r="",n="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?ra(o,i):i+"{"+ra(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=ra(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ra.p?ra.p(i,o):i+":"+o+";")}return r+(t&&a?t+"{"+a+"}":a)+n},ys={},oN=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+oN(e[r]);return t}return e},HC=(e,t,r,n,a)=>{let i=oN(e),o=ys[i]||(ys[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ys[o]){let c=i!==e?e:(u=>{let d,h,f=[{}];for(;d=IC.exec(u.replace(BC,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Pg," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Pg," ").trim();return f[0]})(e);ys[o]=ra(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&ys.g?ys.g:null;return r&&(ys.g=ys[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ys[o],t,n,l),o},$C=(e,t,r)=>e.reduce((n,a,i)=>{let o=t[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ra(l,""):l===!1?"":l}return n+a+(o??"")},"");function gh(e){let t=this||{},r=e.call?e(t.p):e;return HC(r.unshift?r.raw?$C(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,LC(t.target),t.g,t.o,t.k)}let lN,V0,W0;gh.bind({g:1});let Ms=gh.bind({k:1});function UC(e,t,r,n){ra.p=t,lN=e,V0=r,W0=n}function Ma(e,t){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:V0&&V0()},l),r.o=/ *go\d+/.test(c),l.className=gh.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),W0&&u[0]&&W0(l),lN(u,l)}return a}}var VC=e=>typeof e=="function",dd=(e,t)=>VC(e)?e(t):e,WC=(()=>{let e=0;return()=>(++e).toString()})(),cN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),KC=20,uN=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,KC)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return uN(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Su=[],za={toasts:[],pausedAt:void 0},gi=e=>{za=uN(za,e),Su.forEach(t=>{t(za)})},YC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zC=(e={})=>{let[t,r]=N.useState(za),n=N.useRef(za);N.useEffect(()=>(n.current!==za&&r(za),Su.push(r),()=>{let i=Su.indexOf(r);i>-1&&Su.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,l,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||YC[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...t,toasts:a}},qC=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||WC()}),pc=e=>(t,r)=>{let n=qC(t,e,r);return gi({type:2,toast:n}),n.id},Le=(e,t)=>pc("blank")(e,t);Le.error=pc("error");Le.success=pc("success");Le.loading=pc("loading");Le.custom=pc("custom");Le.dismiss=e=>{gi({type:3,toastId:e})};Le.remove=e=>gi({type:4,toastId:e});Le.promise=(e,t,r)=>{let n=Le.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?dd(t.success,a):void 0;return i?Le.success(i,{id:n,...r,...r==null?void 0:r.success}):Le.dismiss(n),a}).catch(a=>{let i=t.error?dd(t.error,a):void 0;i?Le.error(i,{id:n,...r,...r==null?void 0:r.error}):Le.dismiss(n)}),e};var QC=(e,t)=>{gi({type:1,toast:{id:e,height:t}})},GC=()=>{gi({type:5,time:Date.now()})},wl=new Map,XC=1e3,JC=(e,t=XC)=>{if(wl.has(e))return;let r=setTimeout(()=>{wl.delete(e),gi({type:4,toastId:e})},t);wl.set(e,r)},ZC=e=>{let{toasts:t,pausedAt:r}=zC(e);N.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(c<0){l.visible&&Le.dismiss(l.id);return}return setTimeout(()=>Le.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=N.useCallback(()=>{r&&gi({type:6,time:Date.now()})},[r]),a=N.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(p=>(p.position||u)===(i.position||u)&&p.height),h=d.findIndex(p=>p.id===i.id),f=d.filter((p,x)=>x<h&&p.visible).length;return d.filter(p=>p.visible).slice(...l?[f+1]:[0,f]).reduce((p,x)=>p+(x.height||0)+c,0)},[t]);return N.useEffect(()=>{t.forEach(i=>{if(i.dismissed)JC(i.id,i.removeDelay);else{let o=wl.get(i.id);o&&(clearTimeout(o),wl.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:QC,startPause:GC,endPause:n,calculateOffset:a}}},e4=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,t4=Ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,r4=Ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,n4=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${t4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${r4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,s4=Ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,a4=Ma("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${s4} 1s linear infinite;
`,i4=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,o4=Ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,l4=Ma("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${i4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${o4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,c4=Ma("div")`
  position: absolute;
`,u4=Ma("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,d4=Ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,h4=Ma("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${d4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,f4=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(h4,null,t):t:r==="blank"?null:N.createElement(u4,null,N.createElement(a4,{...n}),r!=="loading"&&N.createElement(c4,null,r==="error"?N.createElement(n4,{...n}):N.createElement(l4,{...n})))},p4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,m4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,x4="0%{opacity:0;} 100%{opacity:1;}",g4="0%{opacity:1;} 100%{opacity:0;}",y4=Ma("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,v4=Ma("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,w4=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=cN()?[x4,g4]:[p4(r),m4(r)];return{animation:t?`${Ms(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ms(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},N4=N.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?w4(e.position||t||"top-center",e.visible):{opacity:0},i=N.createElement(f4,{toast:e}),o=N.createElement(v4,{...e.ariaProps},dd(e.message,e));return N.createElement(y4,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):N.createElement(N.Fragment,null,i,o))});UC(N.createElement);var b4=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let i=N.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:i,className:t,style:r},a)},j4=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},T4=gh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zc=16,dN=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:c}=ZC(r);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zc,left:zc,right:zc,bottom:zc,pointerEvents:"none",...i},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=j4(d,h);return N.createElement(b4,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?T4:"",style:f},u.type==="custom"?dd(u.message,u):a?a(u):N.createElement(N4,{toast:u,position:d}))}))},J=Le;/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Br;(function(e){e.INITIAL="initial",e.PENDING="pending",e.REJECTED="rejected",e.RESOLVED="resolved"})(Br||(Br={}));var ya;(function(e){e.LOADING_STATUS="setLoadingStatus",e.RESET_OPTIONS="resetOptions",e.SET_BRAINTREE_INSTANCE="braintreeInstance"})(ya||(ya={}));var Ag;(function(e){e.NUMBER="number",e.CVV="cvv",e.EXPIRATION_DATE="expirationDate",e.EXPIRATION_MONTH="expirationMonth",e.EXPIRATION_YEAR="expirationYear",e.POSTAL_CODE="postalCode"})(Ag||(Ag={}));var Ft=function(){return Ft=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ft.apply(this,arguments)};function hN(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Og(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var ql="data-react-paypal-script-id",qa={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},k4="Failed to load the PayPal JS SDK script.",fN="paypal",S4="usePayPalScriptReducer must be used within a PayPalScriptProvider";function C4(e){return e===void 0&&(e=fN),window[e]}function E4(e){for(var t="",r=0;r<e.length;r++){var n=e[r].charCodeAt(0)*r;e[r+1]&&(n+=e[r+1].charCodeAt(0)*(r-1)),t+=String.fromCharCode(97+Math.abs(n)%26)}return t}function _4(e){var t=e.reactComponentName,r=e.sdkComponentKey,n=e.sdkRequestedComponents,a=n===void 0?"":n,i=e.sdkDataNamespace,o=i===void 0?fN:i,l=r.charAt(0).toUpperCase().concat(r.substring(1)),c="Unable to render <".concat(t," /> because window.").concat(o,".").concat(l," is undefined."),u=typeof a=="string"?a:a.join(",");if(!u.includes(r)){var d=[u,r].filter(Boolean).join();c+=`
To fix the issue, add '`.concat(r,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(d,"'}}>`.")}return c}function pN(e){var t=e,r=ql;t[r];var n=hN(t,[r+""]);return"react-paypal-js-".concat(E4(JSON.stringify(n)))}function D4(e){var t=self.document.querySelector("script[".concat(ql,'="').concat(e,'"]'));t!=null&&t.parentNode&&t.parentNode.removeChild(t)}function P4(e,t){var r,n;switch(t.type){case ya.LOADING_STATUS:return typeof t.value=="object"?Ft(Ft({},e),{loadingStatus:t.value.state,loadingStatusErrorMessage:t.value.message}):Ft(Ft({},e),{loadingStatus:t.value});case ya.RESET_OPTIONS:return D4(e.options[ql]),Ft(Ft({},e),{loadingStatus:Br.PENDING,options:Ft(Ft((r={},r[qa.DATA_SDK_INTEGRATION_SOURCE]=qa.DATA_LIBRARY_VALUE,r),t.value),(n={},n[ql]="".concat(pN(t.value)),n))});case ya.SET_BRAINTREE_INSTANCE:return Ft(Ft({},e),{braintreePayPalCheckoutInstance:t.value});default:return e}}var mN=N.createContext(null);function A4(e){if(typeof(e==null?void 0:e.dispatch)=="function"&&e.dispatch.length!==0)return e;throw new Error(S4)}function xN(){var e=A4(N.useContext(mN)),t=Ft(Ft({},e),{isInitial:e.loadingStatus===Br.INITIAL,isPending:e.loadingStatus===Br.PENDING,isResolved:e.loadingStatus===Br.RESOLVED,isRejected:e.loadingStatus===Br.REJECTED});return[t,e.dispatch]}N.createContext({});function O4(e){var t=N.useRef(new Proxy({},{get:function(r,n,a){return typeof r[n]=="function"?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r[n].apply(r,i)}:Reflect.get(r,n,a)}}));return t.current=Object.assign(t.current,e),t.current}var xm=function(e){var t,r=e.className,n=r===void 0?"":r,a=e.disabled,i=a===void 0?!1:a,o=e.children,l=e.forceReRender,c=l===void 0?[]:l,u=hN(e,["className","disabled","children","forceReRender"]),d=i?{opacity:.38}:{},h="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),f=N.useRef(null),p=N.useRef(null),x=O4(u),m=xN()[0],v=m.isResolved,y=m.options,g=N.useState(null),w=g[0],b=g[1],k=N.useState(!0),D=k[0],j=k[1],T=N.useState(null),L=T[1];function K(){p.current!==null&&p.current.close().catch(function(){})}return!((t=p.current)===null||t===void 0)&&t.updateProps&&p.current.updateProps({message:u.message}),N.useEffect(function(){if(v===!1)return K;var M=C4(y.dataNamespace);if(M===void 0||M.Buttons===void 0)return L(function(){throw new Error(_4({reactComponentName:xm.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:y.components,sdkDataNamespace:y[qa.DATA_NAMESPACE]}))}),K;var Y=function(z,de){b(de),typeof u.onInit=="function"&&u.onInit(z,de)};try{p.current=M.Buttons(Ft(Ft({},x),{onInit:Y}))}catch(z){return L(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(z))})}return p.current.isEligible()===!1?(j(!1),K):(f.current&&p.current.render(f.current).catch(function(z){f.current===null||f.current.children.length===0||L(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(z))})}),K)},Og(Og([v],c,!0),[u.fundingSource],!1)),N.useEffect(function(){w!==null&&(i===!0?w.disable().catch(function(){}):w.enable().catch(function(){}))},[i,w]),ie.createElement(ie.Fragment,null,D?ie.createElement("div",{ref:f,style:d,className:h}):o)};xm.displayName="PayPalButtons";function R4(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function M4(e,t){var r=document.querySelector('script[src="'.concat(e,'"]'));if(r===null)return null;var n=gN(e,t),a=r.cloneNode();if(delete a.dataset.uidAuto,Object.keys(a.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(a.dataset).forEach(function(o){a.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function F4(e){var t=e.url,r=e.attributes,n=e.onSuccess,a=e.onError,i=gN(t,r);i.onerror=a,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function L4(e){var t=e.sdkBaseUrl,r=e.environment,n=R4(e,["sdkBaseUrl","environment"]),a=t||H4(r),i=n,o=Object.keys(i).filter(function(u){return typeof i[u]<"u"&&i[u]!==null&&i[u]!==""}).reduce(function(u,d){var h=i[d].toString();return d=I4(d),d.substring(0,4)==="data"||d==="crossorigin"?u.attributes[d]=h:u.queryParams[d]=h,u},{queryParams:{},attributes:{}}),l=o.queryParams,c=o.attributes;return l["merchant-id"]&&l["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=l["merchant-id"],l["merchant-id"]="*"),{url:"".concat(a,"?").concat(B4(l)),attributes:c}}function I4(e){var t=function(r,n){return(n?"-":"")+r.toLowerCase()};return e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,t)}function B4(e){var t="";return Object.keys(e).forEach(function(r){t.length!==0&&(t+="&"),t+=r+"="+e[r]}),t}function H4(e){return e==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function gN(e,t){t===void 0&&(t={});var r=document.createElement("script");return r.src=e,Object.keys(t).forEach(function(n){r.setAttribute(n,t[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",t["data-csp-nonce"])}),r}function $4(e,t){if(t===void 0&&(t=Promise),yN(e,t),typeof document>"u")return t.resolve(null);var r=L4(e),n=r.url,a=r.attributes,i=a["data-namespace"]||"paypal",o=Rg(i);return a["data-js-sdk-library"]||(a["data-js-sdk-library"]="paypal-js"),M4(n,a)&&o?t.resolve(o):U4({url:n,attributes:a},t).then(function(){var l=Rg(i);if(l)return l;throw new Error("The window.".concat(i," global variable is not available."))})}function U4(e,t){t===void 0&&(t=Promise),yN(e,t);var r=e.url,n=e.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new t(function(a,i){if(typeof document>"u")return a();F4({url:r,attributes:n,onSuccess:function(){return a()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Rg(e){return window[e]}function yN(e,t){if(typeof e!="object"||e===null)throw new Error("Expected an options object.");var r=e.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof t<"u"&&typeof t!="function")throw new Error("Expected PromisePonyfill to be a function.")}var V4=function(e){var t,r=e.options,n=r===void 0?{clientId:"test"}:r,a=e.children,i=e.deferLoading,o=i===void 0?!1:i,l=N.useReducer(P4,{options:Ft(Ft({},n),(t={},t[qa.DATA_JS_SDK_LIBRARY]=qa.DATA_LIBRARY_VALUE,t[qa.DATA_SDK_INTEGRATION_SOURCE]=qa.DATA_LIBRARY_VALUE,t[ql]="".concat(pN(n)),t)),loadingStatus:o?Br.INITIAL:Br.PENDING}),c=l[0],u=l[1];return N.useEffect(function(){if(o===!1&&c.loadingStatus===Br.INITIAL)return u({type:ya.LOADING_STATUS,value:Br.PENDING});if(c.loadingStatus===Br.PENDING){var d=!0;return $4(c.options).then(function(){d&&u({type:ya.LOADING_STATUS,value:Br.RESOLVED})}).catch(function(h){console.error("".concat(k4," ").concat(h)),d&&u({type:ya.LOADING_STATUS,value:{state:Br.REJECTED,message:String(h)}})}),function(){d=!1}}},[c.options,o,c.loadingStatus]),ie.createElement(mN.Provider,{value:Ft(Ft({},c),{dispatch:u})},a)};function Mg(){}N.createContext({cardFieldsForm:null,fields:{},registerField:Mg,unregisterField:Mg});const W4={options:{clientId:"AWd71JYJ5rhOGMtC5FaBIss6Pv_pldqO_twujPjS7GGlGESeN1eEoOR3zqxxsZdTzOETmskFLhdcPeyg",currency:"USD",intent:"capture"}},K4=e=>Math.round(e/24e3*100)/100;function vN(e,t){return function(){return e.apply(t,arguments)}}const{toString:Y4}=Object.prototype,{getPrototypeOf:gm}=Object,yh=(e=>t=>{const r=Y4.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ms=e=>(e=e.toLowerCase(),t=>yh(t)===e),vh=e=>t=>typeof t===e,{isArray:Mo}=Array,Ql=vh("undefined");function z4(e){return e!==null&&!Ql(e)&&e.constructor!==null&&!Ql(e.constructor)&&wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wN=ms("ArrayBuffer");function q4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wN(e.buffer),t}const Q4=vh("string"),wn=vh("function"),NN=vh("number"),wh=e=>e!==null&&typeof e=="object",G4=e=>e===!0||e===!1,Cu=e=>{if(yh(e)!=="object")return!1;const t=gm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},X4=ms("Date"),J4=ms("File"),Z4=ms("Blob"),eE=ms("FileList"),tE=e=>wh(e)&&wn(e.pipe),rE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wn(e.append)&&((t=yh(e))==="formdata"||t==="object"&&wn(e.toString)&&e.toString()==="[object FormData]"))},nE=ms("URLSearchParams"),sE=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mc(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Mo(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(n=0;n<o;n++)l=i[n],t.call(null,e[l],l,e)}}function bN(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const jN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TN=e=>!Ql(e)&&e!==jN;function K0(){const{caseless:e}=TN(this)&&this||{},t={},r=(n,a)=>{const i=e&&bN(t,a)||a;Cu(t[i])&&Cu(n)?t[i]=K0(t[i],n):Cu(n)?t[i]=K0({},n):Mo(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&mc(arguments[n],r);return t}const aE=(e,t,r,{allOwnKeys:n}={})=>(mc(t,(a,i)=>{r&&wn(a)?e[i]=vN(a,r):e[i]=a},{allOwnKeys:n}),e),iE=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),oE=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},lE=(e,t,r,n)=>{let a,i,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&gm(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},cE=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},uE=e=>{if(!e)return null;if(Mo(e))return e;let t=e.length;if(!NN(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},dE=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gm(Uint8Array)),hE=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},fE=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},pE=ms("HTMLFormElement"),mE=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Fg=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),xE=ms("RegExp"),kN=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};mc(r,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(n[i]=o||a)}),Object.defineProperties(e,n)},gE=e=>{kN(e,(t,r)=>{if(wn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(wn(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},yE=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Mo(e)?n(e):n(String(e).split(t)),r},vE=()=>{},wE=(e,t)=>(e=+e,Number.isFinite(e)?e:t),wf="abcdefghijklmnopqrstuvwxyz",Lg="0123456789",SN={DIGIT:Lg,ALPHA:wf,ALPHA_DIGIT:wf+wf.toUpperCase()+Lg},NE=(e=16,t=SN.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function bE(e){return!!(e&&wn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const jE=e=>{const t=new Array(10),r=(n,a)=>{if(wh(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const i=Mo(n)?[]:{};return mc(n,(o,l)=>{const c=r(o,a+1);!Ql(c)&&(i[l]=c)}),t[a]=void 0,i}}return n};return r(e,0)},TE=ms("AsyncFunction"),kE=e=>e&&(wh(e)||wn(e))&&wn(e.then)&&wn(e.catch),xe={isArray:Mo,isArrayBuffer:wN,isBuffer:z4,isFormData:rE,isArrayBufferView:q4,isString:Q4,isNumber:NN,isBoolean:G4,isObject:wh,isPlainObject:Cu,isUndefined:Ql,isDate:X4,isFile:J4,isBlob:Z4,isRegExp:xE,isFunction:wn,isStream:tE,isURLSearchParams:nE,isTypedArray:dE,isFileList:eE,forEach:mc,merge:K0,extend:aE,trim:sE,stripBOM:iE,inherits:oE,toFlatObject:lE,kindOf:yh,kindOfTest:ms,endsWith:cE,toArray:uE,forEachEntry:hE,matchAll:fE,isHTMLForm:pE,hasOwnProperty:Fg,hasOwnProp:Fg,reduceDescriptors:kN,freezeMethods:gE,toObjectSet:yE,toCamelCase:mE,noop:vE,toFiniteNumber:wE,findKey:bN,global:jN,isContextDefined:TN,ALPHABET:SN,generateString:NE,isSpecCompliantForm:bE,toJSONObject:jE,isAsyncFn:TE,isThenable:kE};function We(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a)}xe.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const CN=We.prototype,EN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{EN[e]={value:e}});Object.defineProperties(We,EN);Object.defineProperty(CN,"isAxiosError",{value:!0});We.from=(e,t,r,n,a,i)=>{const o=Object.create(CN);return xe.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),We.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const SE=null;function Y0(e){return xe.isPlainObject(e)||xe.isArray(e)}function _N(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function Ig(e,t,r){return e?e.concat(t).map(function(a,i){return a=_N(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function CE(e){return xe.isArray(e)&&!e.some(Y0)}const EE=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function Nh(e,t,r){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!xe.isUndefined(v[m])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(a))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(xe.isDate(x))return x.toISOString();if(!c&&xe.isBlob(x))throw new We("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(x)||xe.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,m,v){let y=x;if(x&&!v&&typeof x=="object"){if(xe.endsWith(m,"{}"))m=n?m:m.slice(0,-2),x=JSON.stringify(x);else if(xe.isArray(x)&&CE(x)||(xe.isFileList(x)||xe.endsWith(m,"[]"))&&(y=xe.toArray(x)))return m=_N(m),y.forEach(function(w,b){!(xe.isUndefined(w)||w===null)&&t.append(o===!0?Ig([m],b,i):o===null?m:m+"[]",u(w))}),!1}return Y0(x)?!0:(t.append(Ig(v,m,i),u(x)),!1)}const h=[],f=Object.assign(EE,{defaultVisitor:d,convertValue:u,isVisitable:Y0});function p(x,m){if(!xe.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(x),xe.forEach(x,function(y,g){(!(xe.isUndefined(y)||y===null)&&a.call(t,y,xe.isString(g)?g.trim():g,m,f))===!0&&p(y,m?m.concat(g):[g])}),h.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Bg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ym(e,t){this._pairs=[],e&&Nh(e,this,t)}const DN=ym.prototype;DN.append=function(t,r){this._pairs.push([t,r])};DN.toString=function(t){const r=t?function(n){return t.call(this,n,Bg)}:Bg;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function _E(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function PN(e,t,r){if(!t)return e;const n=r&&r.encode||_E,a=r&&r.serialize;let i;if(a?i=a(t,r):i=xe.isURLSearchParams(t)?t.toString():new ym(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Hg{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const AN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DE=typeof URLSearchParams<"u"?URLSearchParams:ym,PE=typeof FormData<"u"?FormData:null,AE=typeof Blob<"u"?Blob:null,OE={isBrowser:!0,classes:{URLSearchParams:DE,FormData:PE,Blob:AE},protocols:["http","https","file","blob","url","data"]},ON=typeof window<"u"&&typeof document<"u",RE=(e=>ON&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),ME=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",FE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ON,hasStandardBrowserEnv:RE,hasStandardBrowserWebWorkerEnv:ME},Symbol.toStringTag,{value:"Module"})),ts={...FE,...OE};function LE(e,t){return Nh(e,new ts.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,i){return ts.isNode&&xe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function IE(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function BE(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function RN(e){function t(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=r.length;return o=!o&&xe.isArray(a)?a.length:o,c?(xe.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!xe.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],i)&&xe.isArray(a[o])&&(a[o]=BE(a[o])),!l)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const r={};return xe.forEachEntry(e,(n,a)=>{t(IE(n),a,r,0)}),r}return null}function HE(e,t,r){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const xc={transitional:AN,adapter:["xhr","http"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=xe.isObject(t);if(i&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return a?JSON.stringify(RN(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return LE(t,this.formSerializer).toString();if((l=xe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nh(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),HE(t)):t}],transformResponse:[function(t){const r=this.transitional||xc.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(t&&xe.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?We.from(l,We.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{xc.headers[e]={}});const $E=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UE=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&$E[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},$g=Symbol("internals");function Zo(e){return e&&String(e).trim().toLowerCase()}function Eu(e){return e===!1||e==null?e:xe.isArray(e)?e.map(Eu):String(e)}function VE(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const WE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nf(e,t,r,n,a){if(xe.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!xe.isString(t)){if(xe.isString(n))return t.indexOf(n)!==-1;if(xe.isRegExp(n))return n.test(t)}}function KE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function YE(e,t){const r=xe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,o){return this[n].call(this,t,a,i,o)},configurable:!0})})}let Nn=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(l,c,u){const d=Zo(c);if(!d)throw new Error("header name must be a non-empty string");const h=xe.findKey(a,d);(!h||a[h]===void 0||u===!0||u===void 0&&a[h]!==!1)&&(a[h||c]=Eu(l))}const o=(l,c)=>xe.forEach(l,(u,d)=>i(u,d,c));return xe.isPlainObject(t)||t instanceof this.constructor?o(t,r):xe.isString(t)&&(t=t.trim())&&!WE(t)?o(UE(t),r):t!=null&&i(r,t,n),this}get(t,r){if(t=Zo(t),t){const n=xe.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return VE(a);if(xe.isFunction(r))return r.call(this,a,n);if(xe.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zo(t),t){const n=xe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Nf(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(o){if(o=Zo(o),o){const l=xe.findKey(n,o);l&&(!r||Nf(n,n[l],l,r))&&(delete n[l],a=!0)}}return xe.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Nf(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return xe.forEach(this,(a,i)=>{const o=xe.findKey(n,i);if(o){r[o]=Eu(a),delete r[i];return}const l=t?KE(i):String(i).trim();l!==i&&delete r[i],r[l]=Eu(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return xe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&xe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[$g]=this[$g]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Zo(o);n[l]||(YE(a,o),n[l]=!0)}return xe.isArray(t)?t.forEach(i):i(t),this}};Nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Nn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});xe.freezeMethods(Nn);function bf(e,t){const r=this||xc,n=t||r,a=Nn.from(n.headers);let i=n.data;return xe.forEach(e,function(l){i=l.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function MN(e){return!!(e&&e.__CANCEL__)}function gc(e,t,r){We.call(this,e??"canceled",We.ERR_CANCELED,t,r),this.name="CanceledError"}xe.inherits(gc,We,{__CANCEL__:!0});function zE(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new We("Request failed with status code "+r.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const qE=ts.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const o=[e+"="+encodeURIComponent(t)];xe.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),xe.isString(n)&&o.push("path="+n),xe.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function FN(e,t){return e&&!QE(t)?GE(e,t):t}const XE=ts.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function a(i){let o=i;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=a(window.location.href),function(o){const l=xe.isString(o)?a(o):o;return l.protocol===n.protocol&&l.host===n.host}}():function(){return function(){return!0}}();function JE(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZE(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];o||(o=u),r[a]=c,n[a]=u;let h=i,f=0;for(;h!==a;)f+=r[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function Ug(e,t){let r=0;const n=ZE(50,250);return a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,l=i-r,c=n(l),u=i<=o;r=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-i)/c:void 0,event:a};d[t?"download":"upload"]=!0,e(d)}}const e_=typeof XMLHttpRequest<"u",t_=e_&&function(e){return new Promise(function(r,n){let a=e.data;const i=Nn.from(e.headers).normalize();let{responseType:o,withXSRFToken:l}=e,c;function u(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}let d;if(xe.isFormData(a)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((d=i.getContentType())!==!1){const[m,...v]=d?d.split(";").map(y=>y.trim()).filter(Boolean):[];i.setContentType([m||"multipart/form-data",...v].join("; "))}}let h=new XMLHttpRequest;if(e.auth){const m=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(m+":"+v))}const f=FN(e.baseURL,e.url);h.open(e.method.toUpperCase(),PN(f,e.params,e.paramsSerializer),!0),h.timeout=e.timeout;function p(){if(!h)return;const m=Nn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:m,config:e,request:h};zE(function(w){r(w),u()},function(w){n(w),u()},y),h=null}if("onloadend"in h?h.onloadend=p:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(p)},h.onabort=function(){h&&(n(new We("Request aborted",We.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new We("Network Error",We.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||AN;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),n(new We(v,y.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,e,h)),h=null},ts.hasStandardBrowserEnv&&(l&&xe.isFunction(l)&&(l=l(e)),l||l!==!1&&XE(f))){const m=e.xsrfHeaderName&&e.xsrfCookieName&&qE.read(e.xsrfCookieName);m&&i.set(e.xsrfHeaderName,m)}a===void 0&&i.setContentType(null),"setRequestHeader"in h&&xe.forEach(i.toJSON(),function(v,y){h.setRequestHeader(y,v)}),xe.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),o&&o!=="json"&&(h.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&h.addEventListener("progress",Ug(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Ug(e.onUploadProgress)),(e.cancelToken||e.signal)&&(c=m=>{h&&(n(!m||m.type?new gc(null,e,h):m),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c)));const x=JE(f);if(x&&ts.protocols.indexOf(x)===-1){n(new We("Unsupported protocol "+x+":",We.ERR_BAD_REQUEST,e));return}h.send(a||null)})},z0={http:SE,xhr:t_};xe.forEach(z0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Vg=e=>`- ${e}`,r_=e=>xe.isFunction(e)||e===null||e===!1,LN={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let o;if(n=r,!r_(r)&&(n=z0[(o=String(r)).toLowerCase()],n===void 0))throw new We(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(Vg).join(`
`):" "+Vg(i[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:z0};function jf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gc(null,e)}function Wg(e){return jf(e),e.headers=Nn.from(e.headers),e.data=bf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),LN.getAdapter(e.adapter||xc.adapter)(e).then(function(n){return jf(e),n.data=bf.call(e,e.transformResponse,n),n.headers=Nn.from(n.headers),n},function(n){return MN(n)||(jf(e),n&&n.response&&(n.response.data=bf.call(e,e.transformResponse,n.response),n.response.headers=Nn.from(n.response.headers))),Promise.reject(n)})}const Kg=e=>e instanceof Nn?{...e}:e;function xo(e,t){t=t||{};const r={};function n(u,d,h){return xe.isPlainObject(u)&&xe.isPlainObject(d)?xe.merge.call({caseless:h},u,d):xe.isPlainObject(d)?xe.merge({},d):xe.isArray(d)?d.slice():d}function a(u,d,h){if(xe.isUndefined(d)){if(!xe.isUndefined(u))return n(void 0,u,h)}else return n(u,d,h)}function i(u,d){if(!xe.isUndefined(d))return n(void 0,d)}function o(u,d){if(xe.isUndefined(d)){if(!xe.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,h){if(h in t)return n(u,d);if(h in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d)=>a(Kg(u),Kg(d),!0)};return xe.forEach(Object.keys(Object.assign({},e,t)),function(d){const h=c[d]||a,f=h(e[d],t[d],d);xe.isUndefined(f)&&h!==l||(r[d]=f)}),r}const IN="1.6.8",vm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Yg={};vm.transitional=function(t,r,n){function a(i,o){return"[Axios v"+IN+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(t===!1)throw new We(a(o," has been removed"+(r?" in "+r:"")),We.ERR_DEPRECATED);return r&&!Yg[o]&&(Yg[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,l):!0}};function n_(e,t,r){if(typeof e!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new We("option "+i+" must be "+c,We.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new We("Unknown option "+i,We.ERR_BAD_OPTION)}}const q0={assertOptions:n_,validators:vm},Ys=q0.validators;let Ja=class{constructor(t){this.defaults=t,this.interceptors={request:new Hg,response:new Hg}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=xo(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&q0.assertOptions(n,{silentJSONParsing:Ys.transitional(Ys.boolean),forcedJSONParsing:Ys.transitional(Ys.boolean),clarifyTimeoutError:Ys.transitional(Ys.boolean)},!1),a!=null&&(xe.isFunction(a)?r.paramsSerializer={serialize:a}:q0.assertOptions(a,{encode:Ys.function,serialize:Ys.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&xe.merge(i.common,i[r.method]);i&&xe.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),r.headers=Nn.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,h=0,f;if(!c){const x=[Wg.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,u),f=x.length,d=Promise.resolve(r);h<f;)d=d.then(x[h++],x[h++]);return d}f=l.length;let p=r;for(h=0;h<f;){const x=l[h++],m=l[h++];try{p=x(p)}catch(v){m.call(this,v);break}}try{d=Wg.call(this,p)}catch(x){return Promise.reject(x)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=xo(this.defaults,t);const r=FN(t.baseURL,t.url);return PN(r,t.params,t.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(t){Ja.prototype[t]=function(r,n){return this.request(xo(n||{},{method:t,url:r,data:(n||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,l){return this.request(xo(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ja.prototype[t]=r(),Ja.prototype[t+"Form"]=r(!0)});let s_=class BN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,l){n.reason||(n.reason=new gc(i,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new BN(function(a){t=a}),cancel:t}}};function a_(e){return function(r){return e.apply(null,r)}}function i_(e){return xe.isObject(e)&&e.isAxiosError===!0}const Q0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Q0).forEach(([e,t])=>{Q0[t]=e});function HN(e){const t=new Ja(e),r=vN(Ja.prototype.request,t);return xe.extend(r,Ja.prototype,t,{allOwnKeys:!0}),xe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return HN(xo(e,a))},r}const Rt=HN(xc);Rt.Axios=Ja;Rt.CanceledError=gc;Rt.CancelToken=s_;Rt.isCancel=MN;Rt.VERSION=IN;Rt.toFormData=Nh;Rt.AxiosError=We;Rt.Cancel=Rt.CanceledError;Rt.all=function(t){return Promise.all(t)};Rt.spread=a_;Rt.isAxiosError=i_;Rt.mergeConfig=xo;Rt.AxiosHeaders=Nn;Rt.formToJSON=e=>RN(xe.isHTMLForm(e)?new FormData(e):e);Rt.getAdapter=LN.getAdapter;Rt.HttpStatusCode=Q0;Rt.default=Rt;const{Axios:P7,AxiosError:A7,CanceledError:O7,isCancel:R7,CancelToken:M7,VERSION:F7,all:L7,Cancel:I7,isAxiosError:B7,spread:H7,toFormData:$7,AxiosHeaders:U7,HttpStatusCode:V7,formToJSON:W7,getAdapter:K7,mergeConfig:Y7}=Rt,o_="http://localhost:4040",W=Rt.create({baseURL:o_,timeout:1e4,headers:{"Content-Type":"application/json"}});W.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));W.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const go={async login(e){var t;try{const r=await W.post("/auth/login",e);return r.data.success&&(localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user))),r.data}catch(r){throw((t=r.response)==null?void 0:t.data)||{message:"Đăng nhập thất bại"}}},async register(e){var t;try{return(await W.post("/auth/register",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||{message:"Đăng ký thất bại"}}},async logout(){localStorage.removeItem("token"),localStorage.removeItem("user")},getCurrentUser(){const e=localStorage.getItem("user");return e?JSON.parse(e):null},getToken(){return localStorage.getItem("token")},isAuthenticated(){return!!localStorage.getItem("token")},isAdmin(){return JSON.parse(localStorage.getItem("user")||"{}").role==="ADMIN"},isEmployee(){return JSON.parse(localStorage.getItem("user")||"{}").role==="EMPLOYEE"},isUser(){return JSON.parse(localStorage.getItem("user")||"{}").role==="CUSTOMER"}},yo=e=>{var r;if(!e)return"Người dùng";const t=[e.hoTen,e.tenNhanVien,e.tenKhachHang,e.name,e.fullName,e.ten,`${e.ho||""} ${e.ten||""}`.trim(),`${e.firstName||""} ${e.lastName||""}`.trim(),(r=e.email)==null?void 0:r.split("@")[0]];for(const n of t)if(n&&n.trim()&&n.trim()!=="undefined undefined")return n.trim();switch(e.role){case"ADMIN":return"Quản lý";case"EMPLOYEE":return"Lễ tân";case"CUSTOMER":return"Khách hàng";default:return"Người dùng"}},G0=e=>{switch(e){case"ADMIN":return"Quản lý";case"EMPLOYEE":return"Lễ tân";case"CUSTOMER":return"Khách hàng";default:return"Người dùng"}},qc=(e,t)=>{if(!e)return null;const r=yo(e);return{...e,role:t||e.role||"CUSTOMER",hoTen:r,email:e.email||"",username:e.username||"",id:e.id||e.idNv||e.maNhanVien||e.maKhachHang||e.userId,idNv:e.idNv||e.maNhanVien||e.id,maNhanVien:e.maNhanVien||e.idNv||e.id,cccd:e.cccd||e.id,soDienThoai:e.soDienThoai||e.phone||e.phoneNumber||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||e.birthDate||"",gioiTinh:e.gioiTinh||e.gender||""}},$N=N.createContext(),kn=()=>{const e=N.useContext($N);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},l_=({children:e})=>{const[t,r]=N.useState(null),[n,a]=N.useState(!0),[i,o]=N.useState(localStorage.getItem("token"));N.useEffect(()=>{(async()=>{const m=localStorage.getItem("token"),v=localStorage.getItem("user");if(m&&v)try{o(m),r(JSON.parse(v))}catch(y){console.error("Error parsing saved user:",y),localStorage.removeItem("token"),localStorage.removeItem("user")}a(!1)})()},[]);const p={user:t,setUser:r,token:i,loading:n,login:async x=>{try{const m=await go.login(x);if(m.statusCode===200||m.success){const{token:v,role:y,nhanVien:g,khachHang:w,user:b}=m;let k={};return g?k=qc(g,y||"EMPLOYEE"):w?k=qc(w,"CUSTOMER"):b?k=qc(b,y||b.role||"CUSTOMER"):k=qc({...m,email:m.email||x.email||""},y||m.role||"CUSTOMER"),o(v),r(k),localStorage.setItem("token",v),localStorage.setItem("user",JSON.stringify(k)),{success:!0,user:k}}else return{success:!1,message:m.message||"Đăng nhập thất bại"}}catch(m){return console.error("Login error:",m),{success:!1,message:"Đăng nhập thất bại"}}},register:async x=>{try{const m=await go.register(x);return m.statusCode===200?{success:!0,message:"Đăng ký thành công"}:{success:!1,message:m.message}}catch(m){return console.error("Register error:",m),{success:!1,message:"Đăng ký thất bại"}}},logout:()=>{r(null),o(null),localStorage.removeItem("token"),localStorage.removeItem("user")},updateUser:x=>{const m={...t,...x};r(m),localStorage.setItem("user",JSON.stringify(m))},isAuthenticated:()=>!!i&&!!t,hasRole:x=>t?typeof x=="string"?t.role===x:x.includes(t.role):!1};return s.jsx($N.Provider,{value:p,children:e})},Qc=({children:e,allowedRoles:t=[]})=>{const{isAuthenticated:r,hasRole:n,loading:a}=kn(),i=$s();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):r()?t.length>0&&!n(t)?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"403"}),s.jsx("p",{className:"text-gray-600",children:"Bạn không có quyền truy cập trang này"})]})}):e:s.jsx(zS,{to:"/login",state:{from:i},replace:!0})};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...u_,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:UN("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(d_,{ref:i,iconNode:t,className:UN(`lucide-${c_(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Se("Armchair",[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H7v-2a2 2 0 0 0-4 0Z",key:"1e01m0"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Se("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Se("Bath",[["path",{d:"M9 6 6.5 3.5a1.5 1.5 0 0 0-1-.5C4.683 3 4 3.683 4 4.5V17a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"1r8yf5"}],["line",{x1:"10",x2:"8",y1:"5",y2:"7",key:"h5g8z4"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"7",x2:"7",y1:"19",y2:"21",key:"16jp00"}],["line",{x1:"17",x2:"17",y1:"19",y2:"21",key:"1pxrnk"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Se("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Se("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=Se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Se("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=Se("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Se("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Se("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=Se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Se("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=Se("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=Se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=Se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=Se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Se("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=Se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Se("Microwave",[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2",key:"2no95f"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1",key:"zh9wx"}],["path",{d:"M18 8v7",key:"o5zi4n"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 19v2",key:"1dawf0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=Se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=Se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=Se("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=Se("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=Se("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=Se("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Se("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Se("Refrigerator",[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=Se("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Se("ShowerHead",[["path",{d:"m4 4 2.5 2.5",key:"uv2vmf"}],["path",{d:"M13.5 6.5a4.95 4.95 0 0 0-7 7",key:"frdkwv"}],["path",{d:"M15 5 5 15",key:"1ag8rq"}],["path",{d:"M14 17v.01",key:"eokfpp"}],["path",{d:"M10 16v.01",key:"14uyyl"}],["path",{d:"M13 13v.01",key:"1v1k97"}],["path",{d:"M16 10v.01",key:"5169yg"}],["path",{d:"M11 20v.01",key:"cj92p8"}],["path",{d:"M17 14v.01",key:"11cswd"}],["path",{d:"M20 11v.01",key:"19e0od"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Se("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=Se("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 11v5a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H6v-2a2 2 0 0 0-4 0Z",key:"u5qfb7"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=Se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=Se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=Se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=Se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=Se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Se("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=Se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Se("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=Se("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=Se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function zN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function cr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zN(e))&&(n&&(n+=" "),n+=t);return n}function ci(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Oe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Xl(e){if(!ci(e)&&typeof e!="number")return!1;const t=Oe(e);return!isNaN(Number(t))}const Q_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},G_=(e,t,r)=>{let n;const a=Q_[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const X_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},J_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eD={date:Tf({formats:X_,defaultWidth:"full"}),time:Tf({formats:J_,defaultWidth:"full"}),dateTime:Tf({formats:Z_,defaultWidth:"full"})},tD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rD=(e,t,r,n)=>tD[e];function el(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const nD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cD=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},uD={ordinalNumber:cD,era:el({values:nD,defaultWidth:"wide"}),quarter:el({values:sD,defaultWidth:"wide",argumentCallback:e=>e-1}),month:el({values:aD,defaultWidth:"wide"}),day:el({values:iD,defaultWidth:"wide"}),dayPeriod:el({values:oD,defaultWidth:"wide",formattingValues:lD,defaultFormattingWidth:"wide"})};function tl(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?hD(l,h=>h.test(o)):dD(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function dD(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function hD(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function fD(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const pD=/^(\d+)(th|st|nd|rd)?/i,mD=/\d+/i,xD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gD={any:[/^b/i,/^(a|c)/i]},yD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vD={any:[/1/i,/2/i,/3/i,/4/i]},wD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ND={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},SD={ordinalNumber:fD({matchPattern:pD,parsePattern:mD,valueCallback:e=>parseInt(e,10)}),era:tl({matchPatterns:xD,defaultMatchWidth:"wide",parsePatterns:gD,defaultParseWidth:"any"}),quarter:tl({matchPatterns:yD,defaultMatchWidth:"wide",parsePatterns:vD,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tl({matchPatterns:wD,defaultMatchWidth:"wide",parsePatterns:ND,defaultParseWidth:"any"}),day:tl({matchPatterns:bD,defaultMatchWidth:"wide",parsePatterns:jD,defaultParseWidth:"any"}),dayPeriod:tl({matchPatterns:TD,defaultMatchWidth:"any",parsePatterns:kD,defaultParseWidth:"any"})},qN={code:"en-US",formatDistance:G_,formatLong:eD,formatRelative:rD,localize:uD,match:SD,options:{weekStartsOn:0,firstWeekContainsDate:1}};let CD={};function vi(){return CD}const QN=6048e5,ED=864e5,Th=6e4,kh=36e5,_D=1e3;function ss(e){const t=Oe(e);return t.setHours(0,0,0,0),t}function xd(e){const t=Oe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Jl(e,t){const r=ss(e),n=ss(t),a=+r-xd(r),i=+n-xd(n);return Math.round((a-i)/ED)}function tt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Sh(e){const t=Oe(e),r=tt(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function DD(e){const t=Oe(e);return Jl(t,Sh(t))+1}function Fs(e,t){var l,c,u,d;const r=vi(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Oe(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function jo(e){return Fs(e,{weekStartsOn:1})}function GN(e){const t=Oe(e),r=t.getFullYear(),n=tt(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=jo(n),i=tt(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=jo(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function PD(e){const t=GN(e),r=tt(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),jo(r)}function bm(e){const t=Oe(e),r=+jo(t)-+PD(t);return Math.round(r/QN)+1}function jm(e,t){var d,h,f,p;const r=Oe(e),n=r.getFullYear(),a=vi(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=tt(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Fs(o,t),c=tt(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Fs(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function AD(e,t){var l,c,u,d;const r=vi(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=jm(e,t),i=tt(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Fs(i,t)}function XN(e,t){const r=Oe(e),n=+Fs(r,t)-+AD(r,t);return Math.round(n/QN)+1}function Je(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const zs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Je(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Je(r+1,2)},d(e,t){return Je(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Je(e.getHours()%12||12,t.length)},H(e,t){return Je(e.getHours(),t.length)},m(e,t){return Je(e.getMinutes(),t.length)},s(e,t){return Je(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Je(a,t.length)}},Ci={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xg={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return zs.y(e,t)},Y:function(e,t,r,n){const a=jm(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Je(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Je(i,t.length)},R:function(e,t){const r=GN(e);return Je(r,t.length)},u:function(e,t){const r=e.getFullYear();return Je(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return zs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=XN(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Je(a,t.length)},I:function(e,t,r){const n=bm(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Je(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):zs.d(e,t)},D:function(e,t,r){const n=DD(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Je(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Je(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Je(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Je(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ci.noon:n===0?a=Ci.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ci.evening:n>=12?a=Ci.afternoon:n>=4?a=Ci.morning:a=Ci.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):zs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):zs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):zs.s(e,t)},S:function(e,t){return zs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Zg(n);case"XXXX":case"XX":return $a(n);case"XXXXX":case"XXX":default:return $a(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Zg(n);case"xxxx":case"xx":return $a(n);case"xxxxx":case"xxx":default:return $a(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jg(n,":");case"OOOO":default:return"GMT"+$a(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jg(n,":");case"zzzz":default:return"GMT"+$a(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Je(n,t.length)},T:function(e,t,r){const n=e.getTime();return Je(n,t.length)}};function Jg(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Je(i,2)}function Zg(e,t){return e%60===0?(e>0?"-":"+")+Je(Math.abs(e)/60,2):$a(e,t)}function $a(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Je(Math.trunc(n/60),2),i=Je(n%60,2);return r+a+t+i}const ey=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OD=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return ey(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ey(n,t)).replace("{{time}}",JN(a,t))},gd={p:JN,P:OD},RD=/^D+$/,MD=/^Y+$/,FD=["D","DD","YY","YYYY"];function ZN(e){return RD.test(e)}function e2(e){return MD.test(e)}function ep(e,t,r){const n=LD(e,t,r);if(console.warn(n),FD.includes(e))throw new RangeError(n)}function LD(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ID=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HD=/^'([^]*?)'?$/,$D=/''/g,UD=/[a-zA-Z]/;function ty(e,t,r){var d,h,f,p,x,m,v,y;const n=vi(),a=(r==null?void 0:r.locale)??n.locale??qN,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Oe(e);if(!Xl(l))throw new RangeError("Invalid time value");let c=t.match(BD).map(g=>{const w=g[0];if(w==="p"||w==="P"){const b=gd[w];return b(g,a.formatLong)}return g}).join("").match(ID).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:VD(g)};if(Xg[w])return{isToken:!0,value:g};if(w.match(UD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&e2(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&ZN(w))&&ep(w,t,String(e));const b=Xg[w[0]];return b(l,w,a.localize,u)}).join("")}function VD(e){const t=e.match(HD);return t?t[1].replace($D,"'"):e}function Tm(e,t){const r=+Oe(e);return tt(e,r+t)}function tp(e,t){return Tm(e,t*Th)}function WD(e,t){return Tm(e,t*kh)}function Fa(e,t){const r=Oe(e);return isNaN(t)?tt(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function yd(e,t){const r=t*7;return Fa(e,r)}function $n(e,t){const r=Oe(e);if(isNaN(t))return tt(e,NaN);if(!t)return r;const n=r.getDate(),a=tt(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function km(e,t){const r=t*3;return $n(e,r)}function Ss(e,t){return $n(e,t*12)}function KD(e,t){return Fa(e,-1)}function ry(e,t){return yd(e,-1)}function To(e,t){return $n(e,-t)}function t2(e,t){return km(e,-1)}function ko(e,t){return Ss(e,-t)}function Cs(e){return Oe(e).getSeconds()}function as(e){return Oe(e).getMinutes()}function is(e){return Oe(e).getHours()}function YD(e){return Oe(e).getDay()}function ny(e){return Oe(e).getDate()}function Pr(e){return Oe(e).getMonth()}function ei(e){const t=Oe(e);return Math.trunc(t.getMonth()/3)+1}function $e(e){return Oe(e).getFullYear()}function rp(e){return Oe(e).getTime()}function Du(e,t){const r=Oe(e);return r.setSeconds(t),r}function Pu(e,t){const r=Oe(e);return r.setMinutes(t),r}function Au(e,t){const r=Oe(e);return r.setHours(t),r}function zD(e){const t=Oe(e),r=t.getFullYear(),n=t.getMonth(),a=tt(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Er(e,t){const r=Oe(e),n=r.getFullYear(),a=r.getDate(),i=tt(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=zD(i);return r.setMonth(t,Math.min(a,o)),r}function Ri(e,t){const r=Oe(e),n=Math.trunc(r.getMonth()/3)+1,a=t-n;return Er(r,r.getMonth()+a*3)}function qn(e,t){const r=Oe(e);return isNaN(+r)?tt(e,NaN):(r.setFullYear(t),r)}function sy(e){let t;return e.forEach(r=>{const n=Oe(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function ay(e){let t;return e.forEach(function(r){const n=Oe(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function vd(e,t){const r=Oe(e),n=Oe(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function wd(e,t){const r=Oe(e),n=Oe(t);return r.getFullYear()-n.getFullYear()}function Nd(e,t){const r=Oe(e),n=Oe(t),a=r.getFullYear()-n.getFullYear(),i=ei(r)-ei(n);return a*4+i}function r2(e){const t=Oe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function np(e){const t=Oe(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function sp(e){const t=Oe(e);return t.setHours(23,59,59,999),t}function qD(e,t){var l,c;const r=vi(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=Oe(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function QD(e){const t=Oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function n2(e){const t=Oe(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function GD(e,t){const r=Oe(e),n=Oe(t);return+r==+n}function XD(e,t){const r=ss(e),n=ss(t);return+r==+n}function JD(e,t){const r=Oe(e),n=Oe(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function ZD(e,t){const r=Oe(e),n=Oe(t);return r.getFullYear()===n.getFullYear()}function eP(e,t){const r=np(e),n=np(t);return+r==+n}function ka(e,t){const r=Oe(e),n=Oe(t);return r.getTime()>n.getTime()}function ui(e,t){const r=Oe(e),n=Oe(t);return+r<+n}function Zl(e,t){const r=+Oe(e),[n,a]=[+Oe(t.start),+Oe(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function tP(){return Object.assign({},vi())}function rP(e,t){const r=t instanceof Date?tt(t,0):new t(0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}const nP=10;class s2{constructor(){Pe(this,"subPriority",0)}validate(t,r){return!0}}class sP extends s2{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class aP extends s2{constructor(){super(...arguments);Pe(this,"priority",nP);Pe(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:tt(r,rP(r,Date))}}class Qe{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new sP(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class iP extends Qe{constructor(){super(...arguments);Pe(this,"priority",140);Pe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const At={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Jn={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ot(e,t){return e&&{value:t(e.value),rest:e.rest}}function vt(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Zn(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*kh+i*Th+o*_D),rest:t.slice(r[0].length)}}function a2(e){return vt(At.anyDigitsSigned,e)}function Ct(e,t){switch(e){case 1:return vt(At.singleDigit,t);case 2:return vt(At.twoDigits,t);case 3:return vt(At.threeDigits,t);case 4:return vt(At.fourDigits,t);default:return vt(new RegExp("^\\d{1,"+e+"}"),t)}}function bd(e,t){switch(e){case 1:return vt(At.singleDigitSigned,t);case 2:return vt(At.twoDigitsSigned,t);case 3:return vt(At.threeDigitsSigned,t);case 4:return vt(At.fourDigitsSigned,t);default:return vt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Sm(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function i2(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=e>=i%100;a=e+o-(l?100:0)}return r?a:1-a}function o2(e){return e%400===0||e%4===0&&e%100!==0}class oP extends Qe{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ot(Ct(4,r),i);case"yo":return Ot(a.ordinalNumber(r,{unit:"year"}),i);default:return Ot(Ct(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=i2(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class lP extends Qe{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ot(Ct(4,r),i);case"Yo":return Ot(a.ordinalNumber(r,{unit:"year"}),i);default:return Ot(Ct(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const o=jm(r,i);if(a.isTwoDigitYear){const c=i2(a.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Fs(r,i)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Fs(r,i)}}class cP extends Qe{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return bd(n==="R"?4:n.length,r)}set(r,n,a){const i=tt(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),jo(i)}}class uP extends Qe{constructor(){super(...arguments);Pe(this,"priority",130);Pe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return bd(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class dP extends Qe{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Ct(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class hP extends Qe{constructor(){super(...arguments);Pe(this,"priority",120);Pe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Ct(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class fP extends Qe{constructor(){super(...arguments);Pe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Pe(this,"priority",110)}parse(r,n,a){const i=o=>o-1;switch(n){case"M":return Ot(vt(At.month,r),i);case"MM":return Ot(Ct(2,r),i);case"Mo":return Ot(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class pP extends Qe{constructor(){super(...arguments);Pe(this,"priority",110);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=o=>o-1;switch(n){case"L":return Ot(vt(At.month,r),i);case"LL":return Ot(Ct(2,r),i);case"Lo":return Ot(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function mP(e,t,r){const n=Oe(e),a=XN(n,r)-t;return n.setDate(n.getDate()-a*7),n}class xP extends Qe{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return vt(At.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ct(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Fs(mP(r,a,i),i)}}function gP(e,t){const r=Oe(e),n=bm(r)-t;return r.setDate(r.getDate()-n*7),r}class yP extends Qe{constructor(){super(...arguments);Pe(this,"priority",100);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return vt(At.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ct(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return jo(gP(r,a))}}const vP=[31,28,31,30,31,30,31,31,30,31,30,31],wP=[31,29,31,30,31,30,31,31,30,31,30,31];class NP extends Qe{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subPriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return vt(At.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ct(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=o2(a),o=r.getMonth();return i?n>=1&&n<=wP[o]:n>=1&&n<=vP[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class bP extends Qe{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"subpriority",1);Pe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return vt(At.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ct(n.length,r)}}validate(r,n){const a=r.getFullYear();return o2(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function Cm(e,t,r){var h,f,p,x;const n=vi(),a=(r==null?void 0:r.weekStartsOn)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((x=(p=n.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??0,i=Oe(e),o=i.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return Fa(i,d)}class jP extends Qe{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=Cm(r,a,i),r.setHours(0,0,0,0),r}}class TP extends Qe{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Ot(Ct(n.length,r),o);case"eo":return Ot(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=Cm(r,a,i),r.setHours(0,0,0,0),r}}class kP extends Qe{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Ot(Ct(n.length,r),o);case"co":return Ot(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=Cm(r,a,i),r.setHours(0,0,0,0),r}}function SP(e){let r=Oe(e).getDay();return r===0&&(r=7),r}function CP(e,t){const r=Oe(e),n=SP(r),a=t-n;return Fa(r,a)}class EP extends Qe{constructor(){super(...arguments);Pe(this,"priority",90);Pe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Ct(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Ot(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Ot(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Ot(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Ot(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=CP(r,a),r.setHours(0,0,0,0),r}}class _P extends Qe{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(Sm(a),0,0,0),r}}class DP extends Qe{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(Sm(a),0,0,0),r}}class PP extends Qe{constructor(){super(...arguments);Pe(this,"priority",80);Pe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(Sm(a),0,0,0),r}}class AP extends Qe{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return vt(At.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ct(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class OP extends Qe{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return vt(At.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ct(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class RP extends Qe{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return vt(At.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ct(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class MP extends Qe{constructor(){super(...arguments);Pe(this,"priority",70);Pe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return vt(At.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ct(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class FP extends Qe{constructor(){super(...arguments);Pe(this,"priority",60);Pe(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return vt(At.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ct(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class LP extends Qe{constructor(){super(...arguments);Pe(this,"priority",50);Pe(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return vt(At.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ct(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class IP extends Qe{constructor(){super(...arguments);Pe(this,"priority",30);Pe(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Ot(Ct(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class BP extends Qe{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Zn(Jn.basicOptionalMinutes,r);case"XX":return Zn(Jn.basic,r);case"XXXX":return Zn(Jn.basicOptionalSeconds,r);case"XXXXX":return Zn(Jn.extendedOptionalSeconds,r);case"XXX":default:return Zn(Jn.extended,r)}}set(r,n,a){return n.timestampIsSet?r:tt(r,r.getTime()-xd(r)-a)}}class HP extends Qe{constructor(){super(...arguments);Pe(this,"priority",10);Pe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Zn(Jn.basicOptionalMinutes,r);case"xx":return Zn(Jn.basic,r);case"xxxx":return Zn(Jn.basicOptionalSeconds,r);case"xxxxx":return Zn(Jn.extendedOptionalSeconds,r);case"xxx":default:return Zn(Jn.extended,r)}}set(r,n,a){return n.timestampIsSet?r:tt(r,r.getTime()-xd(r)-a)}}class $P extends Qe{constructor(){super(...arguments);Pe(this,"priority",40);Pe(this,"incompatibleTokens","*")}parse(r){return a2(r)}set(r,n,a){return[tt(r,a*1e3),{timestampIsSet:!0}]}}class UP extends Qe{constructor(){super(...arguments);Pe(this,"priority",20);Pe(this,"incompatibleTokens","*")}parse(r){return a2(r)}set(r,n,a){return[tt(r,a),{timestampIsSet:!0}]}}const VP={G:new iP,y:new oP,Y:new lP,R:new cP,u:new uP,Q:new dP,q:new hP,M:new fP,L:new pP,w:new xP,I:new yP,d:new NP,D:new bP,E:new jP,e:new TP,c:new kP,i:new EP,a:new _P,b:new DP,B:new PP,h:new AP,H:new OP,K:new RP,k:new MP,m:new FP,s:new LP,S:new IP,X:new BP,x:new HP,t:new $P,T:new UP},WP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YP=/^'([^]*?)'?$/,zP=/''/g,qP=/\S/,QP=/[a-zA-Z]/;function kf(e,t,r,n){var m,v,y,g,w,b,k,D;const a=tP(),i=(n==null?void 0:n.locale)??a.locale??qN,o=(n==null?void 0:n.firstWeekContainsDate)??((v=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(y=a.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((b=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:b.weekStartsOn)??a.weekStartsOn??((D=(k=a.locale)==null?void 0:k.options)==null?void 0:D.weekStartsOn)??0;if(t==="")return e===""?Oe(r):tt(r,NaN);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:i},u=[new aP],d=t.match(KP).map(j=>{const T=j[0];if(T in gd){const L=gd[T];return L(j,i.formatLong)}return j}).join("").match(WP),h=[];for(let j of d){!(n!=null&&n.useAdditionalWeekYearTokens)&&e2(j)&&ep(j,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&ZN(j)&&ep(j,t,e);const T=j[0],L=VP[T];if(L){const{incompatibleTokens:K}=L;if(Array.isArray(K)){const Y=h.find(z=>K.includes(z.token)||z.token===T);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${j}\` at the same time`)}else if(L.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${j}\` and any other token at the same time`);h.push({token:T,fullToken:j});const M=L.run(e,j,i.match,c);if(!M)return tt(r,NaN);u.push(M.setter),e=M.rest}else{if(T.match(QP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(j==="''"?j="'":T==="'"&&(j=GP(j)),e.indexOf(j)===0)e=e.slice(j.length);else return tt(r,NaN)}}if(e.length>0&&qP.test(e))return tt(r,NaN);const f=u.map(j=>j.priority).sort((j,T)=>T-j).filter((j,T,L)=>L.indexOf(j)===T).map(j=>u.filter(T=>T.priority===j).sort((T,L)=>L.subPriority-T.subPriority)).map(j=>j[0]);let p=Oe(r);if(isNaN(p.getTime()))return tt(r,NaN);const x={};for(const j of f){if(!j.validate(p,c))return tt(r,NaN);const T=j.set(p,x,c);Array.isArray(T)?(p=T[0],Object.assign(x,T[1])):p=T}return tt(r,p)}function GP(e){return e.match(YP)[1].replace(zP,"'")}function XP(e,t){const n=t3(e);let a;if(n.date){const c=r3(n.date,2);a=n3(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=s3(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=a3(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Xc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},JP=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ZP=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,e3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function t3(e){const t={},r=e.split(Xc.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Xc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Xc.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Xc.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function r3(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function n3(e,t){if(t===null)return new Date(NaN);const r=e.match(JP);if(!r)return new Date(NaN);const n=!!r[4],a=rl(r[1]),i=rl(r[2])-1,o=rl(r[3]),l=rl(r[4]),c=rl(r[5])-1;if(n)return u3(t,l,c)?i3(t,l,c):new Date(NaN);{const u=new Date(0);return!l3(t,i,o)||!c3(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function rl(e){return e?parseInt(e):1}function s3(e){const t=e.match(ZP);if(!t)return NaN;const r=Sf(t[1]),n=Sf(t[2]),a=Sf(t[3]);return d3(r,n,a)?r*kh+n*Th+a*1e3:NaN}function Sf(e){return e&&parseFloat(e.replace(",","."))||0}function a3(e){if(e==="Z")return 0;const t=e.match(e3);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return h3(n,a)?r*(n*kh+a*Th):NaN}function i3(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const o3=[31,null,31,30,31,30,31,31,30,31,30,31];function l2(e){return e%400===0||e%4===0&&e%100!==0}function l3(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(o3[t]||(l2(e)?29:28))}function c3(e,t){return t>=1&&t<=(l2(e)?366:365)}function u3(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function d3(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function h3(e,t){return t>=0&&t<=59}function f3(e,t){return Tm(e,t*1e3)}function p3(e,t){let r=Oe(e);return isNaN(+r)?tt(e,NaN):(t.year!=null&&r.setFullYear(t.year),t.month!=null&&(r=Er(r,t.month)),t.date!=null&&r.setDate(t.date),t.hours!=null&&r.setHours(t.hours),t.minutes!=null&&r.setMinutes(t.minutes),t.seconds!=null&&r.setSeconds(t.seconds),t.milliseconds!=null&&r.setMilliseconds(t.milliseconds),r)}function m3(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ap(e,t)}function ap(e,t){return ap=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},ap(e,t)}function x3(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function iy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g3(e,t,r){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(r):e.classList.contains(r)}function y3(e,t,r){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&g3(e,t,r))return!0;e=e.parentNode||e.host}return e}function v3(e){return document.documentElement.clientWidth<=e.clientX||document.documentElement.clientHeight<=e.clientY}var w3=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,r=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,r),window.removeEventListener("testPassiveEventSupport",n,r),t}};function N3(e){return e===void 0&&(e=0),function(){return++e}}var b3=N3(),ip,Jc={},Cf={},j3=["touchstart","touchmove"],T3="ignore-react-onclickoutside";function oy(e,t){var r={},n=j3.indexOf(t)!==-1;return n&&ip&&(r.passive=!e.props.preventDefault),r}function Ch(e,t){var r,n,a=e.displayName||e.name||"Component";return n=r=function(i){m3(o,i);function o(c){var u;return u=i.call(this,c)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var h=u.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(d);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(d);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():ch.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||Cf[u._uid])){typeof ip>"u"&&(ip=w3()),Cf[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),Jc[u._uid]=function(h){if(u.componentNode!==null&&(u.props.preventDefault&&h.preventDefault(),u.props.stopPropagation&&h.stopPropagation(),!(u.props.excludeScrollbar&&v3(h)))){var f=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;y3(f,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(h)}},d.forEach(function(h){document.addEventListener(h,Jc[u._uid],oy(iy(u),h))})}},u.disableOnClickOutside=function(){delete Cf[u._uid];var d=Jc[u._uid];if(d&&typeof document<"u"){var h=u.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(f){return document.removeEventListener(f,d,oy(iy(u),f))}),delete Jc[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=b3(),u}var l=o.prototype;return l.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},l.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},l.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},l.componentWillUnmount=function(){this.disableOnClickOutside()},l.render=function(){var u=this.props;u.excludeScrollbar;var d=x3(u,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,N.createElement(e,d)},o}(N.Component),r.displayName="OnClickOutside("+a+")",r.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:T3,preventDefault:!1,stopPropagation:!1},r.getClass=function(){return e.getClass?e.getClass():e},n}function Lo(e){return c2(e)?(e.nodeName||"").toLowerCase():"#document"}function an(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Us(e){var t;return(t=(c2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function c2(e){return e instanceof Node||e instanceof an(e).Node}function Ur(e){return e instanceof Element||e instanceof an(e).Element}function hs(e){return e instanceof HTMLElement||e instanceof an(e).HTMLElement}function ly(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof an(e).ShadowRoot}function wc(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function k3(e){return["table","td","th"].includes(Lo(e))}function Em(e){const t=_m(),r=Un(e);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function S3(e){let t=Sa(e);for(;hs(t)&&!So(t);){if(Em(t))return t;t=Sa(t)}return null}function _m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function So(e){return["html","body","#document"].includes(Lo(e))}function Un(e){return an(e).getComputedStyle(e)}function Eh(e){return Ur(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Sa(e){if(Lo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ly(e)&&e.host||Us(e);return ly(t)?t.host:t}function u2(e){const t=Sa(e);return So(t)?e.ownerDocument?e.ownerDocument.body:e.body:hs(t)&&wc(t)?t:u2(t)}function ec(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=u2(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=an(a);return i?t.concat(o,o.visualViewport||[],wc(a)?a:[],o.frameElement&&r?ec(o.frameElement):[]):t.concat(a,ec(a,[],r))}const Co=Math.min,ti=Math.max,jd=Math.round,Zc=Math.floor,Ca=e=>({x:e,y:e}),C3={left:"right",right:"left",bottom:"top",top:"bottom"},E3={start:"end",end:"start"};function _3(e,t,r){return ti(e,Co(t,r))}function _h(e,t){return typeof e=="function"?e(t):e}function Eo(e){return e.split("-")[0]}function Nc(e){return e.split("-")[1]}function D3(e){return e==="x"?"y":"x"}function Dm(e){return e==="y"?"height":"width"}function Pm(e){return["top","bottom"].includes(Eo(e))?"y":"x"}function Am(e){return D3(Pm(e))}function P3(e,t,r){r===void 0&&(r=!1);const n=Nc(e),a=Am(e),i=Dm(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Td(o)),[o,Td(o)]}function A3(e){const t=Td(e);return[op(e),t,op(t)]}function op(e){return e.replace(/start|end/g,t=>E3[t])}function O3(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function R3(e,t,r,n){const a=Nc(e);let i=O3(Eo(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(op)))),i}function Td(e){return e.replace(/left|right|bottom|top/g,t=>C3[t])}function M3(e){return{top:0,right:0,bottom:0,left:0,...e}}function d2(e){return typeof e!="number"?M3(e):{top:e,right:e,bottom:e,left:e}}function kd(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function cy(e,t,r){let{reference:n,floating:a}=e;const i=Pm(t),o=Am(t),l=Dm(o),c=Eo(t),u=i==="y",d=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-a.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Nc(t)){case"start":p[o]-=f*(r&&u?-1:1);break;case"end":p[o]+=f*(r&&u?-1:1);break}return p}const F3=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:h}=cy(u,n,c),f=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:v,fn:y}=l[m],{x:g,y:w,data:b,reset:k}=await y({x:d,y:h,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,h=w??h,p={...p,[v]:{...p[v],...b}},k&&x<=50&&(x++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:d,y:h}=cy(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:a,middlewareData:p}};async function L3(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=_h(t,e),x=d2(p),v=l[f?h==="floating"?"reference":"floating":h],y=kd(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),b=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},k=kd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(y.top-k.top+x.top)/b.y,bottom:(k.bottom-y.bottom+x.bottom)/b.y,left:(y.left-k.left+x.left)/b.x,right:(k.right-y.right+x.right)/b.x}}const I3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=_h(e,t)||{};if(u==null)return{};const h=d2(d),f={x:r,y:n},p=Am(a),x=Dm(p),m=await o.getDimensions(u),v=p==="y",y=v?"top":"left",g=v?"bottom":"right",w=v?"clientHeight":"clientWidth",b=i.reference[x]+i.reference[p]-f[p]-i.floating[x],k=f[p]-i.reference[p],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=D?D[w]:0;(!j||!await(o.isElement==null?void 0:o.isElement(D)))&&(j=l.floating[w]||i.floating[x]);const T=b/2-k/2,L=j/2-m[x]/2-1,K=Co(h[y],L),M=Co(h[g],L),Y=K,z=j-m[x]-M,de=j/2-m[x]/2+T,X=_3(Y,de,z),B=!c.arrow&&Nc(a)!=null&&de!==X&&i.reference[x]/2-(de<Y?K:M)-m[x]/2<0,V=B?de<Y?de-Y:de-z:0;return{[p]:f[p]+V,data:{[p]:X,centerOffset:de-X-V,...B&&{alignmentOffset:V}},reset:B}}}),B3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...v}=_h(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Eo(a),g=Eo(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),b=f||(g||!m?[Td(l)]:A3(l));!f&&x!=="none"&&b.push(...R3(l,m,x,w));const k=[l,...b],D=await L3(t,v),j=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&j.push(D[y]),h){const Y=P3(a,o,w);j.push(D[Y[0]],D[Y[1]])}if(T=[...T,{placement:a,overflows:j}],!j.every(Y=>Y<=0)){var L,K;const Y=(((L=i.flip)==null?void 0:L.index)||0)+1,z=k[Y];if(z)return{data:{index:Y,overflows:T},reset:{placement:z}};let de=(K=T.filter(X=>X.overflows[0]<=0).sort((X,B)=>X.overflows[1]-B.overflows[1])[0])==null?void 0:K.placement;if(!de)switch(p){case"bestFit":{var M;const X=(M=T.map(B=>[B.placement,B.overflows.filter(V=>V>0).reduce((V,ae)=>V+ae,0)]).sort((B,V)=>B[1]-V[1])[0])==null?void 0:M[0];X&&(de=X);break}case"initialPlacement":de=l;break}if(a!==de)return{reset:{placement:de}}}return{}}}};async function H3(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Eo(r),l=Nc(r),c=Pm(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=_h(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const $3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await H3(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}};function h2(e){const t=Un(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=hs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=jd(r)!==i||jd(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Om(e){return Ur(e)?e:e.contextElement}function to(e){const t=Om(e);if(!hs(t))return Ca(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=h2(t);let o=(i?jd(r.width):r.width)/n,l=(i?jd(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const U3=Ca(0);function f2(e){const t=an(e);return!_m()||!t.visualViewport?U3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==an(e)?!1:t}function di(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Om(e);let o=Ca(1);t&&(n?Ur(n)&&(o=to(n)):o=to(e));const l=V3(i,r,n)?f2(i):Ca(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,h=a.height/o.y;if(i){const f=an(i),p=n&&Ur(n)?an(n):n;let x=f,m=x.frameElement;for(;m&&n&&p!==x;){const v=to(m),y=m.getBoundingClientRect(),g=Un(m),w=y.left+(m.clientLeft+parseFloat(g.paddingLeft))*v.x,b=y.top+(m.clientTop+parseFloat(g.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,h*=v.y,c+=w,u+=b,x=an(m),m=x.frameElement}}return kd({width:d,height:h,x:c,y:u})}const W3=[":popover-open",":modal"];function Rm(e){return W3.some(t=>{try{return e.matches(t)}catch{return!1}})}function K3(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Us(n),l=t?Rm(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ca(1);const d=Ca(0),h=hs(n);if((h||!h&&!i)&&((Lo(n)!=="body"||wc(o))&&(c=Eh(n)),hs(n))){const f=di(n);u=to(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function Y3(e){return Array.from(e.getClientRects())}function p2(e){return di(Us(e)).left+Eh(e).scrollLeft}function z3(e){const t=Us(e),r=Eh(e),n=e.ownerDocument.body,a=ti(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ti(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+p2(e);const l=-r.scrollTop;return Un(n).direction==="rtl"&&(o+=ti(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function q3(e,t){const r=an(e),n=Us(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=_m();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Q3(e,t){const r=di(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=hs(e)?to(e):Ca(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function uy(e,t,r){let n;if(t==="viewport")n=q3(e,r);else if(t==="document")n=z3(Us(e));else if(Ur(t))n=Q3(t,r);else{const a=f2(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return kd(n)}function m2(e,t){const r=Sa(e);return r===t||!Ur(r)||So(r)?!1:Un(r).position==="fixed"||m2(r,t)}function G3(e,t){const r=t.get(e);if(r)return r;let n=ec(e,[],!1).filter(l=>Ur(l)&&Lo(l)!=="body"),a=null;const i=Un(e).position==="fixed";let o=i?Sa(e):e;for(;Ur(o)&&!So(o);){const l=Un(o),c=Em(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||wc(o)&&!c&&m2(e,o))?n=n.filter(d=>d!==o):a=l,o=Sa(o)}return t.set(e,n),n}function X3(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Rm(t)?[]:G3(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=uy(t,d,a);return u.top=ti(h.top,u.top),u.right=Co(h.right,u.right),u.bottom=Co(h.bottom,u.bottom),u.left=ti(h.left,u.left),u},uy(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function J3(e){const{width:t,height:r}=h2(e);return{width:t,height:r}}function Z3(e,t,r){const n=hs(t),a=Us(t),i=r==="fixed",o=di(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ca(0);if(n||!n&&!i)if((Lo(t)!=="body"||wc(a))&&(l=Eh(t)),n){const h=di(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=p2(a));const u=o.left+l.scrollLeft-c.x,d=o.top+l.scrollTop-c.y;return{x:u,y:d,width:o.width,height:o.height}}function Ef(e){return Un(e).position==="static"}function dy(e,t){return!hs(e)||Un(e).position==="fixed"?null:t?t(e):e.offsetParent}function x2(e,t){const r=an(e);if(Rm(e))return r;if(!hs(e)){let a=Sa(e);for(;a&&!So(a);){if(Ur(a)&&!Ef(a))return a;a=Sa(a)}return r}let n=dy(e,t);for(;n&&k3(n)&&Ef(n);)n=dy(n,t);return n&&So(n)&&Ef(n)&&!Em(n)?r:n||S3(e)||r}const e6=async function(e){const t=this.getOffsetParent||x2,r=this.getDimensions,n=await r(e.floating);return{reference:Z3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t6(e){return Un(e).direction==="rtl"}const g2={convertOffsetParentRelativeRectToViewportRelativeRect:K3,getDocumentElement:Us,getClippingRect:X3,getOffsetParent:x2,getElementRects:e6,getClientRects:Y3,getDimensions:J3,getScale:to,isElement:Ur,isRTL:t6};function r6(e,t){let r=null,n;const a=Us(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(l||t(),!h||!f)return;const p=Zc(d),x=Zc(a.clientWidth-(u+h)),m=Zc(a.clientHeight-(d+f)),v=Zc(u),g={rootMargin:-p+"px "+-x+"px "+-m+"px "+-v+"px",threshold:ti(0,Co(1,c))||1};let w=!0;function b(k){const D=k[0].intersectionRatio;if(D!==c){if(!w)return o();D?o(!1,D):n=setTimeout(()=>{o(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(b,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(b,g)}r.observe(e)}return o(!0),i}function n6(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Om(e),d=a||i?[...u?ec(u):[],...ec(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=u&&l?r6(u,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?di(e):null;c&&v();function v(){const y=di(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&r(),m=y,x=requestAnimationFrame(v)}return r(),()=>{var y;d.forEach(g=>{a&&g.removeEventListener("scroll",r),i&&g.removeEventListener("resize",r)}),h==null||h(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const s6=$3,a6=B3,hy=I3,i6=(e,t,r)=>{const n=new Map,a={platform:g2,...r},i={...a.platform,_c:n};return F3(e,t,{...a,platform:i})},o6=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?hy({element:n.current,padding:a}).fn(r):{}:n?hy({element:n,padding:a}).fn(r):{}}}};var Ou=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Sd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sd(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Sd(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function y2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fy(e,t){const r=y2(e);return Math.round(t*r)/r}function py(e){const t=N.useRef(e);return Ou(()=>{t.current=e}),t}function l6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=N.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=N.useState(n);Sd(f,n)||p(n);const[x,m]=N.useState(null),[v,y]=N.useState(null),g=N.useCallback(V=>{V!==D.current&&(D.current=V,m(V))},[]),w=N.useCallback(V=>{V!==j.current&&(j.current=V,y(V))},[]),b=i||x,k=o||v,D=N.useRef(null),j=N.useRef(null),T=N.useRef(d),L=c!=null,K=py(c),M=py(a),Y=N.useCallback(()=>{if(!D.current||!j.current)return;const V={placement:t,strategy:r,middleware:f};M.current&&(V.platform=M.current),i6(D.current,j.current,V).then(ae=>{const q={...ae,isPositioned:!0};z.current&&!Sd(T.current,q)&&(T.current=q,ch.flushSync(()=>{h(q)}))})},[f,t,r,M]);Ou(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(V=>({...V,isPositioned:!1})))},[u]);const z=N.useRef(!1);Ou(()=>(z.current=!0,()=>{z.current=!1}),[]),Ou(()=>{if(b&&(D.current=b),k&&(j.current=k),b&&k){if(K.current)return K.current(b,k,Y);Y()}},[b,k,Y,K,L]);const de=N.useMemo(()=>({reference:D,floating:j,setReference:g,setFloating:w}),[g,w]),X=N.useMemo(()=>({reference:b,floating:k}),[b,k]),B=N.useMemo(()=>{const V={position:r,left:0,top:0};if(!X.floating)return V;const ae=fy(X.floating,d.x),q=fy(X.floating,d.y);return l?{...V,transform:"translate("+ae+"px, "+q+"px)",...y2(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:q}},[r,l,X.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:Y,refs:de,elements:X,floatingStyles:B}),[d,Y,de,X,B])}const v2={...Lv},c6=v2.useInsertionEffect,u6=c6||(e=>e());function d6(e){const t=N.useRef(()=>{});return u6(()=>{t.current=e}),N.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}var lp=typeof document<"u"?N.useLayoutEffect:N.useEffect;function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}let my=!1,h6=0;const xy=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+h6++;function f6(){const[e,t]=N.useState(()=>my?xy():void 0);return lp(()=>{e==null&&t(xy())},[]),N.useEffect(()=>{my=!0},[]),e}const p6=v2.useId,w2=p6||f6,m6=N.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:i}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:h,d:f,style:{transform:p,...x}={},...m}=t,v=w2();if(!a)return null;const y=u*2,g=y/2,w=o/2*(c/-8+1),b=l/2*c/4,[k,D]=n.split("-"),j=g2.isRTL(a),T=!!f,L=k==="top"||k==="bottom",K=d&&D==="end"?"bottom":"top";let M=d&&D==="end"?"right":"left";d&&j&&(M=D==="end"?"left":"right");const Y=(i==null?void 0:i.x)!=null?d||i.x:"",z=(i==null?void 0:i.y)!=null?d||i.y:"",de=f||"M0,0"+(" H"+o)+(" L"+(o-w)+","+(l-b))+(" Q"+o/2+","+l+" "+w+","+(l-b))+" Z",X={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[k];return N.createElement("svg",cp({},m,{"aria-hidden":!0,ref:r,width:T?o:o+y,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[M]:Y,[K]:z,[k]:L||T?"100%":"calc(100% - "+y/2+"px)",transform:""+X+(p??""),...x}}),y>0&&N.createElement("path",{clipPath:"url(#"+v+")",fill:"none",stroke:h,strokeWidth:y+(f?0:1),d:de}),N.createElement("path",{stroke:y&&!f?m.fill:"none",d:de}),N.createElement("clipPath",{id:v},N.createElement("rect",{x:-g,y:g*(T?-1:1),width:o+y,height:o})))});function x6(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,((n=e.get(t))==null?void 0:n.filter(a=>a!==r))||[])}}}const g6=N.createContext(null),y6=N.createContext(null),v6=()=>{var e;return((e=N.useContext(g6))==null?void 0:e.id)||null},w6=()=>N.useContext(y6);function N6(e){var t;e===void 0&&(e={});const{open:r=!1,onOpenChange:n,nodeId:a}=e,[i,o]=N.useState(null),[l,c]=N.useState(null),d=((t=e.elements)==null?void 0:t.reference)||i;lp(()=>{d&&(m.current=d)},[d]);const h=l6({...e,elements:{...e.elements,...l&&{reference:l}}}),f=w6(),p=v6()!=null,x=d6((T,L,K)=>{v.current.openEvent=T?L:void 0,y.emit("openchange",{open:T,event:L,reason:K,nested:p}),n==null||n(T,L,K)}),m=N.useRef(null),v=N.useRef({}),y=N.useState(()=>x6())[0],g=w2(),w=N.useCallback(T=>{const L=Ur(T)?{getBoundingClientRect:()=>T.getBoundingClientRect(),contextElement:T}:T;c(L),h.refs.setReference(L)},[h.refs]),b=N.useCallback(T=>{(Ur(T)||T===null)&&(m.current=T,o(T)),(Ur(h.refs.reference.current)||h.refs.reference.current===null||T!==null&&!Ur(T))&&h.refs.setReference(T)},[h.refs]),k=N.useMemo(()=>({...h.refs,setReference:b,setPositionReference:w,domReference:m}),[h.refs,b,w]),D=N.useMemo(()=>({...h.elements,domReference:d}),[h.elements,d]),j=N.useMemo(()=>({...h,refs:k,elements:D,dataRef:v,nodeId:a,floatingId:g,events:y,open:r,onOpenChange:x}),[h,a,g,y,r,x,k,D]);return lp(()=>{const T=f==null?void 0:f.nodesRef.current.find(L=>L.id===a);T&&(T.context=j)}),N.useMemo(()=>({...h,context:j,refs:k,elements:D}),[h,k,D,j])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function Qt(e,t,r){return t=Cd(t),T6(e,N2()?Reflect.construct(t,r||[],Cd(e).constructor):t.apply(e,r))}function N2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N2=function(){return!!e})()}function gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gy(Object(r),!0).forEach(function(n){R(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function b2(e){var t=b6(e,"string");return typeof t=="symbol"?t:t+""}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b2(n.key),n)}}function Xt(e,t,r){return t&&yy(e.prototype,t),r&&yy(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,t,r){return t=b2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(this,arguments)}function Jt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dp(e,t)}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(e)}function dp(e,t){return dp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dp(e,t)}function j6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T6(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j6(e)}function Ea(e){return k6(e)||S6(e)||C6(e)||E6()}function k6(e){if(Array.isArray(e))return hp(e)}function S6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C6(e,t){if(e){if(typeof e=="string")return hp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hp(e,t)}}function hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bc=12,_6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function rt(e){var t=e?typeof e=="string"||e instanceof String?XP(e):Oe(e):new Date;return Js(t)?t:null}function D6(e,t,r,n,a){var i=null,o=ba(r)||ba(ri()),l=!0;return Array.isArray(t)?(t.forEach(function(c){var u=kf(e,c,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});n&&(l=Js(u,a)&&e===ht(u,c,r)),Js(u,a)&&l&&(i=u)}),i):(i=kf(e,t,new Date,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),n?l=Js(i)&&e===ht(i,t,r):Js(i)||(t=t.match(_6).map(function(c){var u=c[0];if(u==="p"||u==="P"){var d=gd[u];return o?d(c,o.formatLong):u}return c}).join(""),e.length>0&&(i=kf(e,t.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Js(i)||(i=new Date(e))),Js(i)&&l?i:null)}function Js(e,t){return t=t||new Date("1/1/1000"),Xl(e)&&!ui(e,t)}function ht(e,t,r){if(r==="en")return ty(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=ba(r);return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),!n&&ri()&&ba(ri())&&(n=ba(ri())),ty(e,t,{locale:n||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function pn(e,t){var r=t.dateFormat,n=t.locale;return e&&ht(e,Array.isArray(r)?r[0]:r,n)||""}function P6(e,t,r){if(!e)return"";var n=pn(e,r),a=t?pn(t,r):"";return"".concat(n," - ").concat(a)}function A6(e,t){if(!(e!=null&&e.length))return"";var r=pn(e[0],t);if(e.length===1)return r;if(e.length===2){var n=pn(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function _f(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,i=a===void 0?0:a,o=t.second,l=o===void 0?0:o;return Au(Pu(Du(e,l),i),n)}function O6(e,t){return ri()&&ba(ri()),bm(e)}function R6(e,t){return ht(e,"ddd",t)}function M6(e){return ss(e)}function wa(e,t,r){var n=ba(t||ri());return Fs(e,{locale:n,weekStartsOn:r})}function Na(e){return r2(e)}function ll(e){return Sh(e)}function vy(e){return np(e)}function wy(){return ss(rt())}function F6(e){return qD(e)}function Gn(e,t){return e&&t?ZD(e,t):!e&&!t}function Zr(e,t){return e&&t?JD(e,t):!e&&!t}function Ed(e,t){return e&&t?eP(e,t):!e&&!t}function ze(e,t){return e&&t?XD(e,t):!e&&!t}function Qa(e,t){return e&&t?GD(e,t):!e&&!t}function cl(e,t,r){var n,a=ss(t),i=sp(r);try{n=Zl(e,{start:a,end:i})}catch{n=!1}return n}function ri(){var e=typeof window<"u"?window:globalThis;return e.__localeId__}function ba(e){if(typeof e=="string"){var t=typeof window<"u"?window:globalThis;return t.__localeData__?t.__localeData__[e]:null}else return e}function L6(e,t,r){return t(ht(e,"EEEE",r))}function I6(e,t){return ht(e,"EEEEEE",t)}function B6(e,t){return ht(e,"EEE",t)}function Mm(e,t){return ht(Er(rt(),e),"LLLL",t)}function j2(e,t){return ht(Er(rt(),e),"LLL",t)}function H6(e,t){return ht(Ri(rt(),e),"QQQ",t)}function Dh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,a=t.excludeDates,i=t.excludeDateIntervals,o=t.includeDates,l=t.includeDateIntervals,c=t.filterDate;return Ph(e,{minDate:r,maxDate:n})||a&&a.some(function(u){return ze(e,u.date?u.date:u)})||i&&i.some(function(u){var d=u.start,h=u.end;return Zl(e,{start:d,end:h})})||o&&!o.some(function(u){return ze(e,u)})||l&&!l.some(function(u){var d=u.start,h=u.end;return Zl(e,{start:d,end:h})})||c&&!c(rt(e))||!1}function Fm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.excludeDates,n=t.excludeDateIntervals;return n&&n.length>0?n.some(function(a){var i=a.start,o=a.end;return Zl(e,{start:i,end:o})}):r&&r.some(function(a){return ze(e,a.date?a.date:a)})||!1}function Ru(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return Ph(e,{minDate:r2(r),maxDate:QD(n)})||a&&a.some(function(l){return Zr(e,l)})||i&&!i.some(function(l){return Zr(e,l)})||o&&!o(rt(e))||!1}function eu(e,t,r,n){var a=$e(e),i=Pr(e),o=$e(t),l=Pr(t),c=$e(n);if(a===o&&a===c)return i<=r&&r<=l;if(a<o)return c===a&&i<=r||c===o&&l>=r||c<o&&c>a}function Df(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate;return Ph(e,{minDate:r,maxDate:n})||a&&a.some(function(l){return Ed(e,l)})||i&&!i.some(function(l){return Ed(e,l)})||o&&!o(rt(e))||!1}function tu(e,t,r){if(!Xl(t)||!Xl(r))return!1;var n=$e(t),a=$e(r);return n<=e&&a>=e}function T2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate,a=t.excludeDates,i=t.includeDates,o=t.filterDate,l=new Date(e,0,1);return Ph(l,{minDate:Sh(r),maxDate:n2(n)})||a&&a.some(function(c){return Gn(l,c)})||i&&!i.some(function(c){return Gn(l,c)})||o&&!o(rt(l))||!1}function ru(e,t,r,n){var a=$e(e),i=ei(e),o=$e(t),l=ei(t),c=$e(n);if(a===o&&a===c)return i<=r&&r<=l;if(a<o)return c===a&&i<=r||c===o&&l>=r||c<o&&c>a}function Ph(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.maxDate;return r&&Jl(e,r)<0||n&&Jl(e,n)>0}function Ny(e,t){return t.some(function(r){return is(r)===is(e)&&as(r)===as(e)&&Cs(r)===Cs(e)})}function by(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.excludeTimes,n=t.includeTimes,a=t.filterTime;return r&&Ny(e,r)||n&&!Ny(e,n)||a&&!a(e)||!1}function jy(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=rt();a=Au(a,is(e)),a=Pu(a,as(e)),a=Du(a,Cs(e));var i=rt();i=Au(i,is(r)),i=Pu(i,as(r)),i=Du(i,Cs(r));var o=rt();o=Au(o,is(n)),o=Pu(o,as(n)),o=Du(o,Cs(n));var l;try{l=!Zl(a,{start:i,end:o})}catch{l=!1}return l}function Ty(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.includeDates,a=To(e,1);return r&&vd(r,a)>0||n&&n.every(function(i){return vd(i,a)>0})||!1}function ky(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.includeDates,a=$n(e,1);return r&&vd(a,r)>0||n&&n.every(function(i){return vd(a,i)>0})||!1}function $6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.includeDates,a=Sh(e),i=t2(a);return r&&Nd(r,i)>0||n&&n.every(function(o){return Nd(o,i)>0})||!1}function U6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.includeDates,a=n2(e),i=km(a,1);return r&&Nd(i,r)>0||n&&n.every(function(o){return Nd(i,o)>0})||!1}function Sy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.includeDates,a=ko(e,1);return r&&wd(r,a)>0||n&&n.every(function(i){return wd(i,a)>0})||!1}function V6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.minDate,n=t.yearItemNumber,a=n===void 0?bc:n,i=ll(ko(e,a)),o=ia(i,a),l=o.endPeriod,c=r&&$e(r);return c&&c>l||!1}function Cy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.includeDates,a=Ss(e,1);return r&&wd(a,r)>0||n&&n.every(function(i){return wd(a,i)>0})||!1}function W6(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.maxDate,n=t.yearItemNumber,a=n===void 0?bc:n,i=Ss(e,a),o=ia(i,a),l=o.startPeriod,c=r&&$e(r);return c&&c<l||!1}function k2(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Jl(a,t)>=0});return sy(n)}else return r?sy(r):t}function S2(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Jl(a,t)<=0});return ay(n)}else return r?ay(r):t}function Ey(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",r=new Map,n=0,a=e.length;n<a;n++){var i=e[n];if(ci(i)){var o=ht(i,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(t)||(l.push(t),r.set(o,l))}else if(up(i)==="object"){var c=Object.keys(i),u=c[0],d=i[c[0]];if(typeof u=="string"&&d.constructor===Array)for(var h=0,f=d.length;h<f;h++){var p=ht(d[h],"MM.dd.yyyy"),x=r.get(p)||[];x.includes(u)||(x.push(u),r.set(p,x))}}}return r}function K6(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function Y6(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",r=new Map;return e.forEach(function(n){var a=n.date,i=n.holidayName;if(ci(a)){var o=ht(a,"MM.dd.yyyy"),l=r.get(o)||{};if(!("className"in l&&l.className===t&&K6(l.holidayNames,[i]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?[].concat(Ea(c),[i]):[i],r.set(o,l)}}}),r}function z6(e,t,r,n,a){for(var i=a.length,o=[],l=0;l<i;l++){var c=e;c=WD(c,is(a[l])),c=tp(c,as(a[l])),c=f3(c,Cs(a[l]));var u=tp(e,(r+1)*n);ka(c,t)&&ui(c,u)&&o.push(a[l])}return o}function _y(e){return e<10?"0".concat(e):"".concat(e)}function ia(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bc,r=Math.ceil($e(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function q6(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function Dy(e){var t=e.getSeconds(),r=e.getMilliseconds();return Oe(e.getTime()-t*1e3-r)}function Q6(e,t){return Dy(e).getTime()===Dy(t).getTime()}function Py(e){if(!ci(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Ay(e,t){if(!ci(e)||!ci(t))throw new Error("Invalid date received");var r=Py(e),n=Py(t);return ui(r,n)}function C2(e){var t=" ";return e.key===t}function G6(e,t,r,n){for(var a=[],i=0;i<2*t+1;i++){var o=e+t-i,l=!0;r&&(l=$e(r)<=o),n&&l&&(l=$e(n)>=o),l&&a.push(o)}return a}var X6=function(e){function t(r){var n;Gt(this,t),n=Qt(this,t,[r]),R(n,"renderOptions",function(){var l=n.props.year,c=n.state.yearsList.map(function(h){return ie.createElement("div",{className:l===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:n.onChange.bind(n,h),"aria-selected":l===h?"true":void 0},l===h?ie.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),u=n.props.minDate?$e(n.props.minDate):null,d=n.props.maxDate?$e(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(h){return h===d}))&&c.unshift(ie.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(h){return h===u}))&&c.push(ie.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c}),R(n,"onChange",function(l){n.props.onChange(l)}),R(n,"handleClickOutside",function(){n.props.onCancel()}),R(n,"shiftYears",function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})}),R(n,"incrementYears",function(){return n.shiftYears(1)}),R(n,"decrementYears",function(){return n.shiftYears(-1)});var a=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=a||(i?10:5);return n.state={yearsList:G6(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=N.createRef(),n}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){var n=this.dropdownRef.current;if(n){var a=n.children?Array.from(n.children):null,i=a?a.find(function(o){return o.ariaSelected}):null;n.scrollTop=i?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}}},{key:"render",value:function(){var n=cr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ie.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())}}])}(ie.Component),J6=Ch(X6),Z6=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"state",{dropdownVisible:!1}),R(r,"renderSelectOptions",function(){for(var o=r.props.minDate?$e(r.props.minDate):1900,l=r.props.maxDate?$e(r.props.maxDate):2100,c=[],u=o;u<=l;u++)c.push(ie.createElement("option",{key:u,value:u},u));return c}),R(r,"onSelectChange",function(o){r.onChange(o.target.value)}),R(r,"renderSelectMode",function(){return ie.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),R(r,"renderReadView",function(o){return ie.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(c){return r.toggleDropdown(c)}},ie.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))}),R(r,"renderDropdown",function(){return ie.createElement(J6,{key:"dropdown",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),R(r,"renderScrollMode",function(){var o=r.state.dropdownVisible,l=[r.renderReadView(!o)];return o&&l.unshift(r.renderDropdown()),l}),R(r,"onChange",function(o){r.toggleDropdown(),o!==r.props.year&&r.props.onChange(o)}),R(r,"toggleDropdown",function(o){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,o)})}),R(r,"handleYearChange",function(o,l){r.onSelect(o,l),r.setOpen()}),R(r,"onSelect",function(o,l){r.props.onSelect&&r.props.onSelect(o,l)}),R(r,"setOpen",function(){r.props.setOpen&&r.props.setOpen(!0)}),r}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)}}])}(ie.Component),e5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"isSelectedMonth",function(o){return r.props.month===o}),R(r,"renderOptions",function(){return r.props.monthNames.map(function(o,l){return ie.createElement("div",{className:r.isSelectedMonth(l)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:r.onChange.bind(r,l),"aria-selected":r.isSelectedMonth(l)?"true":void 0},r.isSelectedMonth(l)?ie.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})}),R(r,"onChange",function(o){return r.props.onChange(o)}),R(r,"handleClickOutside",function(){return r.props.onCancel()}),r}return Jt(t,e),Xt(t,[{key:"render",value:function(){return ie.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(ie.Component),t5=Ch(e5),r5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"state",{dropdownVisible:!1}),R(r,"renderSelectOptions",function(o){return o.map(function(l,c){return ie.createElement("option",{key:c,value:c},l)})}),R(r,"renderSelectMode",function(o){return ie.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(c){return r.onChange(c.target.value)}},r.renderSelectOptions(o))}),R(r,"renderReadView",function(o,l){return ie.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},l[r.props.month]))}),R(r,"renderDropdown",function(o){return ie.createElement(t5,{key:"dropdown",month:r.props.month,monthNames:o,onChange:r.onChange,onCancel:r.toggleDropdown})}),R(r,"renderScrollMode",function(o){var l=r.state.dropdownVisible,c=[r.renderReadView(!l,o)];return l&&c.unshift(r.renderDropdown(o)),c}),R(r,"onChange",function(o){r.toggleDropdown(),o!==r.props.month&&r.props.onChange(o)}),R(r,"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return j2(o,n.props.locale)}:function(o){return Mm(o,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(a);break;case"select":i=this.renderSelectMode(a);break}return ie.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)}}])}(ie.Component);function n5(e,t){for(var r=[],n=Na(e),a=Na(t);!ka(n,a);)r.push(rt(n)),n=$n(n,1);return r}var s5=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),R(n,"renderOptions",function(){return n.state.monthYearsList.map(function(a){var i=rp(a),o=Gn(n.props.date,a)&&Zr(n.props.date,a);return ie.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?ie.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",ht(a,n.props.dateFormat,n.props.locale))})}),R(n,"onChange",function(a){return n.props.onChange(a)}),R(n,"handleClickOutside",function(){n.props.onCancel()}),n.state={monthYearsList:n5(n.props.minDate,n.props.maxDate)},n}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n=cr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ie.createElement("div",{className:n},this.renderOptions())}}])}(ie.Component),a5=Ch(s5),i5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"state",{dropdownVisible:!1}),R(r,"renderSelectOptions",function(){for(var o=Na(r.props.minDate),l=Na(r.props.maxDate),c=[];!ka(o,l);){var u=rp(o);c.push(ie.createElement("option",{key:u,value:u},ht(o,r.props.dateFormat,r.props.locale))),o=$n(o,1)}return c}),R(r,"onSelectChange",function(o){r.onChange(o.target.value)}),R(r,"renderSelectMode",function(){return ie.createElement("select",{value:rp(Na(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())}),R(r,"renderReadView",function(o){var l=ht(r.props.date,r.props.dateFormat,r.props.locale);return ie.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return r.toggleDropdown(u)}},ie.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},l))}),R(r,"renderDropdown",function(){return ie.createElement(a5,{key:"dropdown",date:r.props.date,dateFormat:r.props.dateFormat,onChange:r.onChange,onCancel:r.toggleDropdown,minDate:r.props.minDate,maxDate:r.props.maxDate,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,locale:r.props.locale})}),R(r,"renderScrollMode",function(){var o=r.state.dropdownVisible,l=[r.renderReadView(!o)];return o&&l.unshift(r.renderDropdown()),l}),R(r,"onChange",function(o){r.toggleDropdown();var l=rt(parseInt(o));Gn(r.props.date,l)&&Zr(r.props.date,l)||r.props.onChange(l)}),R(r,"toggleDropdown",function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})}),r}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)}}])}(ie.Component),o5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"dayEl",ie.createRef()),R(r,"handleClick",function(o){!r.isDisabled()&&r.props.onClick&&r.props.onClick(o)}),R(r,"handleMouseEnter",function(o){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(o)}),R(r,"handleOnKeyDown",function(o){var l=o.key;l===" "&&(o.preventDefault(),o.key="Enter"),r.props.handleOnKeyDown(o)}),R(r,"isSameDay",function(o){return ze(r.props.day,o)}),R(r,"isKeyboardSelected",function(){var o;if(r.props.disabledKeyboardNavigation)return!1;var l=r.props.selectsMultiple?(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(c){return r.isSameDayOrWeek(c)}):r.isSameDayOrWeek(r.props.selected);return!l&&r.isSameDayOrWeek(r.props.preSelection)}),R(r,"isDisabled",function(){return Dh(r.props.day,r.props)}),R(r,"isExcluded",function(){return Fm(r.props.day,r.props)}),R(r,"isStartOfWeek",function(){return ze(r.props.day,wa(r.props.day,r.props.locale,r.props.calendarStartDay))}),R(r,"isSameWeek",function(o){return r.props.showWeekPicker&&ze(o,wa(r.props.day,r.props.locale,r.props.calendarStartDay))}),R(r,"isSameDayOrWeek",function(o){return r.isSameDay(o)||r.isSameWeek(o)}),R(r,"getHighLightedClass",function(){var o=r.props,l=o.day,c=o.highlightDates;if(!c)return!1;var u=ht(l,"MM.dd.yyyy");return c.get(u)}),R(r,"getHolidaysClass",function(){var o=r.props,l=o.day,c=o.holidays;if(!c)return!1;var u=ht(l,"MM.dd.yyyy");if(c.has(u))return[c.get(u).className]}),R(r,"isInRange",function(){var o=r.props,l=o.day,c=o.startDate,u=o.endDate;return!c||!u?!1:cl(l,c,u)}),R(r,"isInSelectingRange",function(){var o,l=r.props,c=l.day,u=l.selectsStart,d=l.selectsEnd,h=l.selectsRange,f=l.selectsDisabledDaysInRange,p=l.startDate,x=l.endDate,m=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return!(u||d||h)||!m||!f&&r.isDisabled()?!1:u&&x&&(ui(m,x)||Qa(m,x))?cl(c,m,x):d&&p&&(ka(m,p)||Qa(m,p))||h&&p&&!x&&(ka(m,p)||Qa(m,p))?cl(c,p,m):!1}),R(r,"isSelectingRangeStart",function(){var o;if(!r.isInSelectingRange())return!1;var l=r.props,c=l.day,u=l.startDate,d=l.selectsStart,h=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return d?ze(c,h):ze(c,u)}),R(r,"isSelectingRangeEnd",function(){var o;if(!r.isInSelectingRange())return!1;var l=r.props,c=l.day,u=l.endDate,d=l.selectsEnd,h=l.selectsRange,f=(o=r.props.selectingDate)!==null&&o!==void 0?o:r.props.preSelection;return d||h?ze(c,f):ze(c,u)}),R(r,"isRangeStart",function(){var o=r.props,l=o.day,c=o.startDate,u=o.endDate;return!c||!u?!1:ze(c,l)}),R(r,"isRangeEnd",function(){var o=r.props,l=o.day,c=o.startDate,u=o.endDate;return!c||!u?!1:ze(u,l)}),R(r,"isWeekend",function(){var o=YD(r.props.day);return o===0||o===6}),R(r,"isAfterMonth",function(){return r.props.month!==void 0&&(r.props.month+1)%12===Pr(r.props.day)}),R(r,"isBeforeMonth",function(){return r.props.month!==void 0&&(Pr(r.props.day)+1)%12===r.props.month}),R(r,"isCurrentDay",function(){return r.isSameDay(rt())}),R(r,"isSelected",function(){if(r.props.selectsMultiple){var o;return(o=r.props.selectedDates)===null||o===void 0?void 0:o.some(function(l){return r.isSameDayOrWeek(l)})}return r.isSameDayOrWeek(r.props.selected)}),R(r,"getClassNames",function(o){var l=r.props.dayClassName?r.props.dayClassName(o):void 0;return cr("react-datepicker__day",l,"react-datepicker__day--"+R6(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"),r.getHolidaysClass())}),R(r,"getAriaLabel",function(){var o=r.props,l=o.day,c=o.ariaLabelPrefixWhenEnabled,u=c===void 0?"Choose":c,d=o.ariaLabelPrefixWhenDisabled,h=d===void 0?"Not available":d,f=r.isDisabled()||r.isExcluded()?h:u;return"".concat(f," ").concat(ht(l,"PPPP",r.props.locale))}),R(r,"getTitle",function(){var o=r.props,l=o.day,c=o.holidays,u=c===void 0?new Map:c,d=o.excludeDates,h=ht(l,"MM.dd.yyyy"),f=[];return u.has(h)&&f.push.apply(f,Ea(u.get(h).holidayNames)),r.isExcluded()&&f.push(d==null?void 0:d.filter(function(p){return ze(p.date?p.date:p,l)}).map(function(p){return p.message})),f.join(", ")}),R(r,"getTabIndex",function(o,l){var c=o||r.props.selected,u=l||r.props.preSelection,d=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(c)&&ze(u,c))?0:-1;return d}),R(r,"handleFocusDay",function(){var o,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=!1;r.getTabIndex()===0&&!l.isInputFocused&&r.isSameDay(r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(c=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(c=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(c=!0),r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()&&(c=!1),r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()&&(c=!1)),c&&((o=r.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),R(r,"renderDayContents",function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(ny(r.props.day),r.props.day):ny(r.props.day)}),R(r,"render",function(){return ie.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ie.createElement("span",{className:"overlay"},r.getTitle()))}),r}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(n){this.handleFocusDay(n)}}])}(ie.Component),l5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"weekNumberEl",ie.createRef()),R(r,"handleClick",function(o){r.props.onClick&&r.props.onClick(o)}),R(r,"handleOnKeyDown",function(o){var l=o.key;l===" "&&(o.preventDefault(),o.key="Enter"),r.props.handleOnKeyDown(o)}),R(r,"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!ze(r.props.date,r.props.selected)&&ze(r.props.date,r.props.preSelection)}),R(r,"getTabIndex",function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||ze(r.props.date,r.props.selected)&&ze(r.props.preSelection,r.props.selected))?0:-1}),R(r,"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;r.getTabIndex()===0&&!o.isInputFocused&&ze(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(l=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(l=!0)),l&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})}),r}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(n){this.handleFocusWeekNumber(n)}},{key:"render",value:function(){var n=this.props,a=n.weekNumber,i=n.ariaLabelPrefix,o=i===void 0?"week ":i,l=n.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l,"react-datepicker__week-number--selected":!!l&&ze(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return ie.createElement("div",{ref:this.weekNumberEl,className:cr(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(ie.Component),c5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"handleDayClick",function(o,l){r.props.onDayClick&&r.props.onDayClick(o,l)}),R(r,"handleDayMouseEnter",function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)}),R(r,"handleWeekClick",function(o,l,c){typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(o,l,c),r.props.showWeekPicker&&r.handleDayClick(o,c),r.props.shouldCloseOnSelect&&r.props.setOpen(!1)}),R(r,"formatWeekNumber",function(o){return r.props.formatWeekNumber?r.props.formatWeekNumber(o):O6(o)}),R(r,"renderDays",function(){var o=r.startOfWeek(),l=[],c=r.formatWeekNumber(o);if(r.props.showWeekNumber){var u=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,o,c):void 0;l.push(ie.createElement(l5,{key:"W",weekNumber:c,date:o,onClick:u,selected:r.props.selected,preSelection:r.props.preSelection,ariaLabelPrefix:r.props.ariaLabelPrefix,showWeekPicker:r.props.showWeekPicker,showWeekNumber:r.props.showWeekNumber,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef}))}return l.concat([0,1,2,3,4,5,6].map(function(d){var h=Fa(o,d);return ie.createElement(o5,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,month:r.props.month,onClick:r.handleDayClick.bind(r,h),usePointerEvent:r.props.usePointerEvent,onMouseEnter:r.handleDayMouseEnter.bind(r,h),minDate:r.props.minDate,maxDate:r.props.maxDate,calendarStartDay:r.props.calendarStartDay,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,showWeekPicker:r.props.showWeekPicker,showWeekNumber:r.props.showWeekNumber,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,renderDayContents:r.props.renderDayContents,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart,locale:r.props.locale})}))}),R(r,"startOfWeek",function(){return wa(r.props.day,r.props.locale,r.props.calendarStartDay)}),R(r,"isKeyboardSelected",function(){return!r.props.disabledKeyboardNavigation&&!ze(r.startOfWeek(),r.props.selected)&&ze(r.startOfWeek(),r.props.preSelection)}),r}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":ze(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ie.createElement("div",{className:cr(n)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(ie.Component),u5=6,ro={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Pf=R(R(R({},ro.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),ro.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),ro.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),nu=1;function Oy(e,t){return e?ro.FOUR_COLUMNS:t?ro.TWO_COLUMNS:ro.THREE_COLUMNS}var d5=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"MONTH_REFS",Ea(Array(12)).map(function(){return ie.createRef()})),R(r,"QUARTER_REFS",Ea(Array(4)).map(function(){return ie.createRef()})),R(r,"isDisabled",function(o){return Dh(o,r.props)}),R(r,"isExcluded",function(o){return Fm(o,r.props)}),R(r,"handleDayClick",function(o,l){r.props.onDayClick&&r.props.onDayClick(o,l,r.props.orderInDisplay)}),R(r,"handleDayMouseEnter",function(o){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(o)}),R(r,"handleMouseLeave",function(){r.props.onMouseLeave&&r.props.onMouseLeave()}),R(r,"isRangeStartMonth",function(o){var l=r.props,c=l.day,u=l.startDate,d=l.endDate;return!u||!d?!1:Zr(Er(c,o),u)}),R(r,"isRangeStartQuarter",function(o){var l=r.props,c=l.day,u=l.startDate,d=l.endDate;return!u||!d?!1:Ed(Ri(c,o),u)}),R(r,"isRangeEndMonth",function(o){var l=r.props,c=l.day,u=l.startDate,d=l.endDate;return!u||!d?!1:Zr(Er(c,o),d)}),R(r,"isRangeEndQuarter",function(o){var l=r.props,c=l.day,u=l.startDate,d=l.endDate;return!u||!d?!1:Ed(Ri(c,o),d)}),R(r,"isInSelectingRangeMonth",function(o){var l,c=r.props,u=c.day,d=c.selectsStart,h=c.selectsEnd,f=c.selectsRange,p=c.startDate,x=c.endDate,m=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return!(d||h||f)||!m?!1:d&&x?eu(m,x,o,u):h&&p||f&&p&&!x?eu(p,m,o,u):!1}),R(r,"isSelectingMonthRangeStart",function(o){var l;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,u=c.day,d=c.startDate,h=c.selectsStart,f=Er(u,o),p=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return h?Zr(f,p):Zr(f,d)}),R(r,"isSelectingMonthRangeEnd",function(o){var l;if(!r.isInSelectingRangeMonth(o))return!1;var c=r.props,u=c.day,d=c.endDate,h=c.selectsEnd,f=c.selectsRange,p=Er(u,o),x=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return h||f?Zr(p,x):Zr(p,d)}),R(r,"isInSelectingRangeQuarter",function(o){var l,c=r.props,u=c.day,d=c.selectsStart,h=c.selectsEnd,f=c.selectsRange,p=c.startDate,x=c.endDate,m=(l=r.props.selectingDate)!==null&&l!==void 0?l:r.props.preSelection;return!(d||h||f)||!m?!1:d&&x?ru(m,x,o,u):h&&p||f&&p&&!x?ru(p,m,o,u):!1}),R(r,"isWeekInMonth",function(o){var l=r.props.day,c=Fa(o,6);return Zr(o,l)||Zr(c,l)}),R(r,"isCurrentMonth",function(o,l){return $e(o)===$e(rt())&&l===Pr(rt())}),R(r,"isCurrentQuarter",function(o,l){return $e(o)===$e(rt())&&l===ei(rt())}),R(r,"isSelectedMonth",function(o,l,c){return Pr(c)===l&&$e(o)===$e(c)}),R(r,"isSelectedQuarter",function(o,l,c){return ei(o)===l&&$e(o)===$e(c)}),R(r,"renderWeeks",function(){for(var o=[],l=r.props.fixedHeight,c=0,u=!1,d=wa(Na(r.props.day),r.props.locale,r.props.calendarStartDay),h=r.props.showWeekPicker?wa(r.props.selected,r.props.locale,r.props.calendarStartDay):r.props.selected,f=r.props.showWeekPicker?wa(r.props.preSelection,r.props.locale,r.props.calendarStartDay):r.props.preSelection;o.push(ie.createElement(c5,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,key:c,day:d,month:Pr(r.props.day),onDayClick:r.handleDayClick,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:f,selected:h,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumber:r.props.showWeekNumbers,showWeekPicker:r.props.showWeekPicker,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderDayContents:r.props.renderDayContents,handleOnKeyDown:r.props.handleOnKeyDown,isInputFocused:r.props.isInputFocused,containerRef:r.props.containerRef,calendarStartDay:r.props.calendarStartDay,monthShowsDuplicateDaysEnd:r.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:r.props.monthShowsDuplicateDaysStart})),!u;){c++,d=yd(d,1);var p=l&&c>=u5,x=!l&&!r.isWeekInMonth(d);if(p||x)if(r.props.peekNextMonth)u=!0;else break}return o}),R(r,"onMonthClick",function(o,l){var c=Er(r.props.day,l);Ru(c,r.props)||r.handleDayClick(Na(c),o)}),R(r,"onMonthMouseEnter",function(o){var l=Er(r.props.day,o);Ru(l,r.props)||r.handleDayMouseEnter(Na(l))}),R(r,"handleMonthNavigation",function(o,l){r.isDisabled(l)||r.isExcluded(l)||(r.props.setPreSelection(l),r.MONTH_REFS[o].current&&r.MONTH_REFS[o].current.focus())}),R(r,"onMonthKeyDown",function(o,l){var c=r.props,u=c.selected,d=c.preSelection,h=c.disabledKeyboardNavigation,f=c.showTwoColumnMonthYearPicker,p=c.showFourColumnMonthYearPicker,x=c.setPreSelection,m=c.handleOnMonthKeyDown,v=o.key;if(v!=="Tab"&&o.preventDefault(),!h){var y=Oy(p,f),g=Pf[y].verticalNavigationOffset,w=Pf[y].grid;switch(v){case"Enter":r.onMonthClick(o,l),x(u);break;case"ArrowRight":r.handleMonthNavigation(l===11?0:l+nu,$n(d,nu));break;case"ArrowLeft":r.handleMonthNavigation(l===0?11:l-nu,To(d,nu));break;case"ArrowUp":r.handleMonthNavigation(w[0].includes(l)?l+12-g:l-g,To(d,g));break;case"ArrowDown":r.handleMonthNavigation(w[w.length-1].includes(l)?l-12+g:l+g,$n(d,g));break}}m&&m(o)}),R(r,"onQuarterClick",function(o,l){var c=Ri(r.props.day,l);Df(c,r.props)||r.handleDayClick(vy(c),o)}),R(r,"onQuarterMouseEnter",function(o){var l=Ri(r.props.day,o);Df(l,r.props)||r.handleDayMouseEnter(vy(l))}),R(r,"handleQuarterNavigation",function(o,l){r.isDisabled(l)||r.isExcluded(l)||(r.props.setPreSelection(l),r.QUARTER_REFS[o-1].current&&r.QUARTER_REFS[o-1].current.focus())}),R(r,"onQuarterKeyDown",function(o,l){var c=o.key;if(!r.props.disabledKeyboardNavigation)switch(c){case"Enter":r.onQuarterClick(o,l),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleQuarterNavigation(l===4?1:l+1,km(r.props.preSelection,1));break;case"ArrowLeft":r.handleQuarterNavigation(l===1?4:l-1,t2(r.props.preSelection));break}}),R(r,"isMonthDisabled",function(o){var l=r.props,c=l.day,u=l.minDate,d=l.maxDate,h=l.excludeDates,f=l.includeDates,p=Er(c,o);return(u||d||h||f)&&Ru(p,r.props)}),R(r,"getMonthClassNames",function(o){var l=r.props,c=l.day,u=l.startDate,d=l.endDate,h=l.selected,f=l.preSelection,p=l.monthClassName,x=p?p(Er(c,o)):void 0;return cr("react-datepicker__month-text","react-datepicker__month-".concat(o),x,{"react-datepicker__month-text--disabled":r.isMonthDisabled(o),"react-datepicker__month-text--selected":r.isSelectedMonth(c,o,h),"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&r.isSelectedMonth(c,o,f),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":eu(u,d,o,c),"react-datepicker__month-text--range-start":r.isRangeStartMonth(o),"react-datepicker__month-text--range-end":r.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":r.isCurrentMonth(c,o)})}),R(r,"getTabIndex",function(o){var l=Pr(r.props.preSelection),c=!r.props.disabledKeyboardNavigation&&o===l?"0":"-1";return c}),R(r,"getQuarterTabIndex",function(o){var l=ei(r.props.preSelection),c=!r.props.disabledKeyboardNavigation&&o===l?"0":"-1";return c}),R(r,"getAriaLabel",function(o){var l=r.props,c=l.chooseDayAriaLabelPrefix,u=c===void 0?"Choose":c,d=l.disabledDayAriaLabelPrefix,h=d===void 0?"Not available":d,f=l.day,p=l.locale,x=Er(f,o),m=r.isDisabled(x)||r.isExcluded(x)?h:u;return"".concat(m," ").concat(ht(x,"MMMM yyyy",p))}),R(r,"getQuarterClassNames",function(o){var l=r.props,c=l.day,u=l.startDate,d=l.endDate,h=l.selected,f=l.minDate,p=l.maxDate,x=l.preSelection,m=l.disabledKeyboardNavigation;return cr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(f||p)&&Df(Ri(c,o),r.props),"react-datepicker__quarter-text--selected":r.isSelectedQuarter(c,o,h),"react-datepicker__quarter-text--keyboard-selected":!m&&r.isSelectedQuarter(c,o,x),"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":ru(u,d,o,c),"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(o)})}),R(r,"getMonthContent",function(o){var l=r.props,c=l.showFullMonthYearPicker,u=l.renderMonthContent,d=l.locale,h=l.day,f=j2(o,d),p=Mm(o,d);return u?u(o,f,p,h):c?p:f}),R(r,"getQuarterContent",function(o){var l=r.props,c=l.renderQuarterContent,u=l.locale,d=H6(o,u);return c?c(o,d):d}),R(r,"renderMonths",function(){var o=r.props,l=o.showTwoColumnMonthYearPicker,c=o.showFourColumnMonthYearPicker,u=o.day,d=o.selected,h=Pf[Oy(c,l)].grid;return h.map(function(f,p){return ie.createElement("div",{className:"react-datepicker__month-wrapper",key:p},f.map(function(x,m){return ie.createElement("div",{ref:r.MONTH_REFS[x],key:m,onClick:function(y){r.onMonthClick(y,x)},onKeyDown:function(y){C2(y)&&(y.preventDefault(),y.key="Enter"),r.onMonthKeyDown(y,x)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(x)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(x)}:void 0,tabIndex:r.getTabIndex(x),className:r.getMonthClassNames(x),"aria-disabled":r.isMonthDisabled(x),role:"option","aria-label":r.getAriaLabel(x),"aria-current":r.isCurrentMonth(u,x)?"date":void 0,"aria-selected":r.isSelectedMonth(u,x,d)},r.getMonthContent(x))}))})}),R(r,"renderQuarters",function(){var o=r.props,l=o.day,c=o.selected,u=[1,2,3,4];return ie.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,h){return ie.createElement("div",{key:h,ref:r.QUARTER_REFS[h],role:"option",onClick:function(p){r.onQuarterClick(p,d)},onKeyDown:function(p){r.onQuarterKeyDown(p,d)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(d)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(d)}:void 0,className:r.getQuarterClassNames(d),"aria-selected":r.isSelectedQuarter(l,d,c),tabIndex:r.getQuarterTabIndex(d),"aria-current":r.isCurrentQuarter(l,d)?"date":void 0},r.getQuarterContent(d))}))}),R(r,"getClassNames",function(){var o=r.props,l=o.selectingDate,c=o.selectsStart,u=o.selectsEnd,d=o.showMonthYearPicker,h=o.showQuarterYearPicker,f=o.showWeekPicker;return cr("react-datepicker__month",{"react-datepicker__month--selecting-range":l&&(c||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":f})}),r}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n=this.props,a=n.showMonthYearPicker,i=n.showQuarterYearPicker,o=n.day,l=n.ariaLabelPrefix,c=l===void 0?"Month ":l,u=c?c.trim()+" ":"";return ie.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(ht(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}])}(ie.Component),E2=function(e){function t(){var r;Gt(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qt(this,t,[].concat(a)),R(r,"state",{height:null}),R(r,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){r.list&&(r.list.scrollTop=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-r.header.clientHeight:r.list.clientHeight,r.centerLi))})}),R(r,"handleClick",function(o){(r.props.minTime||r.props.maxTime)&&jy(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&by(o,r.props)||r.props.onChange(o)}),R(r,"isSelectedTime",function(o){return r.props.selected&&Q6(r.props.selected,o)}),R(r,"isDisabledTime",function(o){return(r.props.minTime||r.props.maxTime)&&jy(o,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&by(o,r.props)}),R(r,"liClasses",function(o){var l=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(o):void 0];return r.isSelectedTime(o)&&l.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(o)&&l.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(is(o)*3600+as(o)*60+Cs(o))%(r.props.intervals*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")}),R(r,"handleOnKeyDown",function(o,l){o.key===" "&&(o.preventDefault(),o.key="Enter"),(o.key==="ArrowUp"||o.key==="ArrowLeft")&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling.focus()),(o.key==="ArrowDown"||o.key==="ArrowRight")&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&r.handleClick(l),r.props.handleOnKeyDown(o)}),R(r,"renderTimes",function(){for(var o=[],l=r.props.format?r.props.format:"p",c=r.props.intervals,u=r.props.selected||r.props.openToDate||rt(),d=M6(u),h=r.props.injectTimes&&r.props.injectTimes.sort(function(g,w){return g-w}),f=60*q6(u),p=f/c,x=0;x<p;x++){var m=tp(d,x*c);if(o.push(m),h){var v=z6(d,m,x,c,h);o=o.concat(v)}}var y=o.reduce(function(g,w){return w.getTime()<=u.getTime()?w:g},o[0]);return o.map(function(g,w){return ie.createElement("li",{key:w,onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(k){g===y&&(r.centerLi=k)},onKeyDown:function(k){r.handleOnKeyDown(k,g)},tabIndex:g===y?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},ht(g,l,r.props.locale))})}),r}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var n=this,a=this.state.height;return ie.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},ie.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),ie.createElement("div",{className:"react-datepicker__time"},ie.createElement("div",{className:"react-datepicker__time-box"},ie.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){n.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(ie.Component);R(E2,"calcCenterPosition",function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)});var Ry=3,h5=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),R(n,"YEAR_REFS",Ea(Array(n.props.yearItemNumber)).map(function(){return ie.createRef()})),R(n,"isDisabled",function(a){return Dh(a,n.props)}),R(n,"isExcluded",function(a){return Fm(a,n.props)}),R(n,"selectingDate",function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection}),R(n,"updateFocusOnPaginate",function(a){var i=(function(){this.YEAR_REFS[a].current.focus()}).bind(n);window.requestAnimationFrame(i)}),R(n,"handleYearClick",function(a,i){n.props.onDayClick&&n.props.onDayClick(a,i)}),R(n,"handleYearNavigation",function(a,i){var o=n.props,l=o.date,c=o.yearItemNumber,u=ia(l,c),d=u.startPeriod;n.isDisabled(i)||n.isExcluded(i)||(n.props.setPreSelection(i),a-d<0?n.updateFocusOnPaginate(c-(d-a)):a-d>=c?n.updateFocusOnPaginate(Math.abs(c-(a-d))):n.YEAR_REFS[a-d].current.focus())}),R(n,"isSameDay",function(a,i){return ze(a,i)}),R(n,"isCurrentYear",function(a){return a===$e(rt())}),R(n,"isRangeStart",function(a){return n.props.startDate&&n.props.endDate&&Gn(qn(rt(),a),n.props.startDate)}),R(n,"isRangeEnd",function(a){return n.props.startDate&&n.props.endDate&&Gn(qn(rt(),a),n.props.endDate)}),R(n,"isInRange",function(a){return tu(a,n.props.startDate,n.props.endDate)}),R(n,"isInSelectingRange",function(a){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,u=i.startDate,d=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&d?tu(a,n.selectingDate(),d):l&&u||c&&u&&!d?tu(a,u,n.selectingDate()):!1}),R(n,"isSelectingRangeStart",function(a){if(!n.isInSelectingRange(a))return!1;var i=n.props,o=i.startDate,l=i.selectsStart,c=qn(rt(),a);return l?Gn(c,n.selectingDate()):Gn(c,o)}),R(n,"isSelectingRangeEnd",function(a){if(!n.isInSelectingRange(a))return!1;var i=n.props,o=i.endDate,l=i.selectsEnd,c=i.selectsRange,u=qn(rt(),a);return l||c?Gn(u,n.selectingDate()):Gn(u,o)}),R(n,"isKeyboardSelected",function(a){var i=ll(qn(n.props.date,a));return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!ze(i,ll(n.props.selected))&&ze(i,ll(n.props.preSelection))}),R(n,"onYearClick",function(a,i){var o=n.props.date;n.handleYearClick(ll(qn(o,i)),a)}),R(n,"onYearKeyDown",function(a,i){var o=a.key,l=n.props,c=l.date,u=l.yearItemNumber,d=l.handleOnKeyDown;if(o!=="Tab"&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(o){case"Enter":n.onYearClick(a,i),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleYearNavigation(i+1,Ss(n.props.preSelection,1));break;case"ArrowLeft":n.handleYearNavigation(i-1,ko(n.props.preSelection,1));break;case"ArrowUp":{var h=ia(c,u),f=h.startPeriod,p=Ry,x=i-p;if(x<f){var m=u%p;i>=f&&i<f+m?p=m:p+=m,x=i-p}n.handleYearNavigation(x,ko(n.props.preSelection,p));break}case"ArrowDown":{var v=ia(c,u),y=v.endPeriod,g=Ry,w=i+g;if(w>y){var b=u%g;i<=y&&i>y-b?g=b:g+=b,w=i+g}n.handleYearNavigation(w,Ss(n.props.preSelection,g));break}}d&&d(a)}),R(n,"getYearClassNames",function(a){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,u=i.selected,d=i.excludeDates,h=i.includeDates,f=i.filterDate,p=i.yearClassName;return cr("react-datepicker__year-text","react-datepicker__year-".concat(a),p?p(qn(o,a)):void 0,{"react-datepicker__year-text--selected":a===$e(u),"react-datepicker__year-text--disabled":(l||c||d||h||f)&&T2(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})}),R(n,"getYearTabIndex",function(a){if(n.props.disabledKeyboardNavigation)return"-1";var i=$e(n.props.preSelection);return a===i?"0":"-1"}),R(n,"getYearContainerClassNames",function(){var a=n.props,i=a.selectingDate,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange;return cr("react-datepicker__year",{"react-datepicker__year--selecting-range":i&&(o||l||c)})}),R(n,"getYearContent",function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a}),n}return Jt(t,e),Xt(t,[{key:"render",value:function(){for(var n=this,a=[],i=this.props,o=i.date,l=i.yearItemNumber,c=i.onYearMouseEnter,u=i.onYearMouseLeave,d=ia(o,l),h=d.startPeriod,f=d.endPeriod,p=function(v){a.push(ie.createElement("div",{ref:n.YEAR_REFS[v-h],onClick:function(g){n.onYearClick(g,v)},onKeyDown:function(g){C2(g)&&(g.preventDefault(),g.key="Enter"),n.onYearKeyDown(g,v)},tabIndex:n.getYearTabIndex(v),className:n.getYearClassNames(v),onMouseEnter:n.props.usePointerEvent?void 0:function(y){return c(y,v)},onPointerEnter:n.props.usePointerEvent?function(y){return c(y,v)}:void 0,onMouseLeave:n.props.usePointerEvent?void 0:function(y){return u(y,v)},onPointerLeave:n.props.usePointerEvent?function(y){return u(y,v)}:void 0,key:v,"aria-current":n.isCurrentYear(v)?"date":void 0},n.getYearContent(v)))},x=h;x<=f;x++)p(x);return ie.createElement("div",{className:this.getYearContainerClassNames()},ie.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))}}])}(ie.Component),f5=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),R(n,"onTimeChange",function(a){n.setState({time:a});var i=n.props.date,o=i instanceof Date&&!isNaN(i),l=o?i:new Date;l.setHours(a.split(":")[0]),l.setMinutes(a.split(":")[1]),n.props.onChange(l)}),R(n,"renderTimeInput",function(){var a=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?ie.cloneElement(c,{date:o,value:a,onChange:n.onTimeChange}):ie.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:a,onChange:function(d){n.onTimeChange(d.target.value||l)}})}),n.state={time:n.props.timeString},n}return Jt(t,e),Xt(t,[{key:"render",value:function(){return ie.createElement("div",{className:"react-datepicker__input-time-container"},ie.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ie.createElement("div",{className:"react-datepicker-time__input-container"},ie.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.timeString!==a.time?{time:n.timeString}:null}}])}(ie.Component);function p5(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,i=e.className,o=e.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return ie.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)}var m5=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],x5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=(t.className||"").split(/\s+/);return m5.some(function(n){return r.indexOf(n)>=0})},g5=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),R(n,"handleClickOutside",function(a){n.props.onClickOutside(a)}),R(n,"setClickOutsideRef",function(){return n.containerRef.current}),R(n,"handleDropdownFocus",function(a){x5(a.target)&&n.props.onDropdownFocus()}),R(n,"getDateInView",function(){var a=n.props,i=a.preSelection,o=a.selected,l=a.openToDate,c=k2(n.props),u=S2(n.props),d=rt(),h=l||o||i;return h||(c&&ui(d,c)?c:u&&ka(d,u)?u:d)}),R(n,"increaseMonth",function(){n.setState(function(a){var i=a.date;return{date:$n(i,1)}},function(){return n.handleMonthChange(n.state.date)})}),R(n,"decreaseMonth",function(){n.setState(function(a){var i=a.date;return{date:To(i,1)}},function(){return n.handleMonthChange(n.state.date)})}),R(n,"handleDayClick",function(a,i,o){n.props.onSelect(a,i,o),n.props.setPreSelection&&n.props.setPreSelection(a)}),R(n,"handleDayMouseEnter",function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)}),R(n,"handleMonthMouseLeave",function(){n.setState({selectingDate:null}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()}),R(n,"handleYearMouseEnter",function(a,i){n.setState({selectingDate:qn(rt(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,i)}),R(n,"handleYearMouseLeave",function(a,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,i)}),R(n,"handleYearChange",function(a){n.props.onYearChange&&(n.props.onYearChange(a),n.setState({isRenderAriaLiveMessage:!0})),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(a),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(a)}),R(n,"handleMonthChange",function(a){n.handleCustomMonthChange(a),n.props.adjustDateOnChange&&(n.props.onSelect&&n.props.onSelect(a),n.props.setOpen&&n.props.setOpen(!0)),n.props.setPreSelection&&n.props.setPreSelection(a)}),R(n,"handleCustomMonthChange",function(a){n.props.onMonthChange&&(n.props.onMonthChange(a),n.setState({isRenderAriaLiveMessage:!0}))}),R(n,"handleMonthYearChange",function(a){n.handleYearChange(a),n.handleMonthChange(a)}),R(n,"changeYear",function(a){n.setState(function(i){var o=i.date;return{date:qn(o,a)}},function(){return n.handleYearChange(n.state.date)})}),R(n,"changeMonth",function(a){n.setState(function(i){var o=i.date;return{date:Er(o,a)}},function(){return n.handleMonthChange(n.state.date)})}),R(n,"changeMonthYear",function(a){n.setState(function(i){var o=i.date;return{date:qn(Er(o,Pr(a)),$e(a))}},function(){return n.handleMonthYearChange(n.state.date)})}),R(n,"header",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.state.date,i=wa(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(ie.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(l){var c=Fa(i,l),u=n.formatWeekday(c,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return ie.createElement("div",{key:l,"aria-label":ht(c,"EEEE",n.props.locale),className:cr("react-datepicker__day-name",d)},u)}))}),R(n,"formatWeekday",function(a,i){return n.props.formatWeekDay?L6(a,n.props.formatWeekDay,i):n.props.useWeekdaysShort?B6(a,i):I6(a,i)}),R(n,"decreaseYear",function(){n.setState(function(a){var i=a.date;return{date:ko(i,n.props.showYearPicker?n.props.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})}),R(n,"clearSelectingDate",function(){n.setState({selectingDate:null})}),R(n,"renderPreviousButton",function(){if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=Sy(n.state.date,n.props);break;case n.props.showYearPicker:a=V6(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=$6(n.state.date,n.props);break;default:a=Ty(n.state.date,n.props);break}if(!(!n.props.forceShowMonthNavigation&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],o=["react-datepicker__navigation","react-datepicker__navigation--previous"],l=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(l=n.decreaseYear),a&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--previous--disabled"),l=null);var c=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,u=n.props,d=u.previousMonthButtonLabel,h=u.previousYearButtonLabel,f=n.props,p=f.previousMonthAriaLabel,x=p===void 0?typeof d=="string"?d:"Previous Month":p,m=f.previousYearAriaLabel,v=m===void 0?typeof h=="string"?h:"Previous Year":m;return ie.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:n.props.handleOnKeyDown,"aria-label":c?v:x},ie.createElement("span",{className:i.join(" ")},c?n.props.previousYearButtonLabel:n.props.previousMonthButtonLabel))}}}),R(n,"increaseYear",function(){n.setState(function(a){var i=a.date;return{date:Ss(i,n.props.showYearPicker?n.props.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})}),R(n,"renderNextButton",function(){if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.showMonthYearPicker:a=Cy(n.state.date,n.props);break;case n.props.showYearPicker:a=W6(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=U6(n.state.date,n.props);break;default:a=ky(n.state.date,n.props);break}if(!(!n.props.forceShowMonthNavigation&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var l=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(l=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),l=null);var c=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,u=n.props,d=u.nextMonthButtonLabel,h=u.nextYearButtonLabel,f=n.props,p=f.nextMonthAriaLabel,x=p===void 0?typeof d=="string"?d:"Next Month":p,m=f.nextYearAriaLabel,v=m===void 0?typeof h=="string"?h:"Next Year":m;return ie.createElement("button",{type:"button",className:i.join(" "),onClick:l,onKeyDown:n.props.handleOnKeyDown,"aria-label":c?v:x},ie.createElement("span",{className:o.join(" ")},c?n.props.nextYearButtonLabel:n.props.nextMonthButtonLabel))}}}),R(n,"renderCurrentMonth",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.state.date,i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),ie.createElement("div",{className:i.join(" ")},ht(a,n.props.dateFormat,n.props.locale))}),R(n,"renderYearDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n.props.showYearDropdown||a))return ie.createElement(Z6,{adjustDateOnChange:n.props.adjustDateOnChange,date:n.state.date,onSelect:n.props.onSelect,setOpen:n.props.setOpen,dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:$e(n.state.date),scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),R(n,"renderMonthDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n.props.showMonthDropdown||a))return ie.createElement(r5,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,onChange:n.changeMonth,month:Pr(n.state.date),useShortMonthInDropdown:n.props.useShortMonthInDropdown})}),R(n,"renderMonthYearDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!n.props.showMonthYearDropdown||a))return ie.createElement(i5,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonthYear,minDate:n.props.minDate,maxDate:n.props.maxDate,date:n.state.date,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown})}),R(n,"handleTodayButtonClick",function(a){n.props.onSelect(wy(),a),n.props.setPreSelection&&n.props.setPreSelection(wy())}),R(n,"renderTodayButton",function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ie.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return n.handleTodayButtonClick(i)}},n.props.todayButton)}),R(n,"renderDefaultHeader",function(a){var i=a.monthDate,o=a.i;return ie.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),ie.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),ie.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))}),R(n,"renderCustomHeader",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.monthDate,o=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var l=Ty(n.state.date,n.props),c=ky(n.state.date,n.props),u=Sy(n.state.date,n.props),d=Cy(n.state.date,n.props),h=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},n.props.renderCustomHeader(bs(bs({},n.state),{},{customHeaderCount:o,monthDate:i,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:c,prevYearButtonDisabled:u,nextYearButtonDisabled:d})),h&&ie.createElement("div",{className:"react-datepicker__day-names"},n.header(i)))}),R(n,"renderYearHeader",function(a){var i=a.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,u=ia(i,c),d=u.startPeriod,h=u.endPeriod;return ie.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(d," - ").concat(h):$e(i))}),R(n,"renderHeader",function(a){switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(a);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(a);default:return n.renderDefaultHeader(a)}}),R(n,"renderMonths",function(){var a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var i=[],o=n.props.showPreviousMonths?n.props.monthsShown-1:0,l=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ss(n.state.date,o):To(n.state.date,o),c=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:o,u=0;u<n.props.monthsShown;++u){var d=u-c+o,h=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ss(l,d):$n(l,d),f="month-".concat(u),p=u<n.props.monthsShown-1,x=u>0;i.push(ie.createElement("div",{key:f,ref:function(v){n.monthContainer=v},className:"react-datepicker__month-container"},n.renderHeader({monthDate:h,i:u}),ie.createElement(d5,{chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:n.props.weekAriaLabelPrefix,ariaLabelPrefix:n.props.monthAriaLabelPrefix,onChange:n.changeMonthYear,day:h,dayClassName:n.props.dayClassName,calendarStartDay:n.props.calendarStartDay,monthClassName:n.props.monthClassName,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,onWeekSelect:n.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,setPreSelection:n.props.setPreSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,renderDayContents:n.props.renderDayContents,renderMonthContent:n.props.renderMonthContent,renderQuarterContent:n.props.renderQuarterContent,renderYearContent:n.props.renderYearContent,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,showMonthYearPicker:n.props.showMonthYearPicker,showFullMonthYearPicker:n.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:n.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:n.props.showFourColumnMonthYearPicker,showYearPicker:n.props.showYearPicker,showQuarterYearPicker:n.props.showQuarterYearPicker,showWeekPicker:n.props.showWeekPicker,isInputFocused:n.props.isInputFocused,containerRef:n.containerRef,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:x})))}return i}}),R(n,"renderYears",function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ie.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ie.createElement(h5,tc({onDayClick:n.handleDayClick,selectingDate:n.state.selectingDate,clearSelectingDate:n.clearSelectingDate,date:n.state.date},n.props,{onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))}),R(n,"renderTimeSection",function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ie.createElement(E2,{selected:n.props.selected,openToDate:n.props.openToDate,onChange:n.props.onTimeChange,timeClassName:n.props.timeClassName,format:n.props.timeFormat,includeTimes:n.props.includeTimes,intervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,filterTime:n.props.filterTime,timeCaption:n.props.timeCaption,todayButton:n.props.todayButton,showMonthDropdown:n.props.showMonthDropdown,showMonthYearDropdown:n.props.showMonthYearDropdown,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,monthRef:n.state.monthContainer,injectTimes:n.props.injectTimes,locale:n.props.locale,handleOnKeyDown:n.props.handleOnKeyDown,showTimeSelectOnly:n.props.showTimeSelectOnly})}),R(n,"renderInputTimeSection",function(){var a=new Date(n.props.selected),i=Js(a)&&!!n.props.selected,o=i?"".concat(_y(a.getHours()),":").concat(_y(a.getMinutes())):"";if(n.props.showTimeInput)return ie.createElement(f5,{date:a,timeString:o,timeInputLabel:n.props.timeInputLabel,onChange:n.props.onTimeChange,customTimeInput:n.props.customTimeInput})}),R(n,"renderAriaLiveRegion",function(){var a=ia(n.state.date,n.props.yearItemNumber),i=a.startPeriod,o=a.endPeriod,l;return n.props.showYearPicker?l="".concat(i," - ").concat(o):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?l=$e(n.state.date):l="".concat(Mm(Pr(n.state.date),n.props.locale)," ").concat($e(n.state.date)),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&l)}),R(n,"renderChildren",function(){if(n.props.children)return ie.createElement("div",{className:"react-datepicker__children-container"},n.props.children)}),n.containerRef=ie.createRef(),n.state={date:n.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},n}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())}},{key:"componentDidUpdate",value:function(n){var a=this;if(this.props.preSelection&&(!ze(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!Zr(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!ze(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var n=this.props.container||p5;return ie.createElement("div",{style:{display:"contents"},ref:this.containerRef},ie.createElement(n,{className:cr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:bc}}}])}(ie.Component),y5=function(t){var r=t.icon,n=t.className,a=n===void 0?"":n,i=t.onClick,o="react-datepicker__calendar-icon";return ie.isValidElement(r)?ie.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(o," ").concat(a),onClick:function(c){typeof r.props.onClick=="function"&&r.props.onClick(c),typeof i=="function"&&i(c)}}):typeof r=="string"?ie.createElement("i",{className:"".concat(o," ").concat(r," ").concat(a),"aria-hidden":"true",onClick:i}):ie.createElement("svg",{className:"".concat(o," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},ie.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},v5=y5,_2=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),n.el=document.createElement("div"),n}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return Hw.createPortal(this.props.children,this.el)}}])}(ie.Component),w5="[tabindex], a, button, input, select, textarea",N5=function(t){return!t.disabled&&t.tabIndex!==-1},D2=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),R(n,"getTabChildren",function(){return Array.prototype.slice.call(n.tabLoopRef.current.querySelectorAll(w5),1,-1).filter(N5)}),R(n,"handleFocusStart",function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()}),R(n,"handleFocusEnd",function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()}),n.tabLoopRef=ie.createRef(),n}return Jt(t,e),Xt(t,[{key:"render",value:function(){return this.props.enableTabLoop?ie.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ie.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,ie.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(ie.Component);function b5(e){var t=function(n){var a=bs(bs({},n),{},{popperModifiers:n.popperModifiers||[],popperProps:n.popperProps||{},hidePopper:typeof n.hidePopper=="boolean"?n.hidePopper:!0}),i=ie.useRef(),o=N6(bs({open:!a.hidePopper,whileElementsMounted:n6,placement:a.popperPlacement,middleware:[a6({padding:15}),s6(10),o6({element:i})].concat(Ea(a.popperModifiers))},a.popperProps));return ie.createElement(e,tc({},a,{popperProps:bs(bs({},o),{},{arrowRef:i})}))};return t}var j5=function(e){function t(){return Gt(this,t),Qt(this,t,arguments)}return Jt(t,e),Xt(t,[{key:"render",value:function(){var n=this.props,a=n.className,i=n.wrapperClassName,o=n.hidePopper,l=n.popperComponent,c=n.targetComponent,u=n.enableTabLoop,d=n.popperOnKeyDown,h=n.portalId,f=n.portalHost,p=n.popperProps,x=n.showArrow,m;if(!o){var v=cr("react-datepicker-popper",a);m=ie.createElement(D2,{enableTabLoop:u},ie.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:v,"data-placement":p.placement,onKeyDown:d},l,x&&ie.createElement(m6,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(m=ie.createElement(this.props.popperContainer,{},m)),h&&!o&&(m=ie.createElement(_2,{portalId:h,portalHost:f},m));var y=cr("react-datepicker-wrapper",i);return ie.createElement(ie.Fragment,null,ie.createElement("div",{ref:p.refs.setReference,className:y},c),m)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(ie.Component),T5=b5(j5),My="react-datepicker-ignore-onclickoutside",k5=Ch(g5);function S5(e,t){return e&&t?Pr(e)!==Pr(t)||$e(e)!==$e(t):e!==t}var Af="Date input not valid.",Fy=function(e){function t(r){var n;return Gt(this,t),n=Qt(this,t,[r]),R(n,"getPreSelection",function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:rt()}),R(n,"modifyHolidays",function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(i,o){var l=new Date(o.date);return Xl(l)?[].concat(Ea(i),[bs(bs({},o),{},{date:l})]):i},[])}),R(n,"calcInitialState",function(){var a,i=n.getPreSelection(),o=k2(n.props),l=S2(n.props),c=o&&ui(i,ss(o))?o:l&&ka(i,sp(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:Ey(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),R(n,"clearPreventFocusTimeout",function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)}),R(n,"setFocus",function(){n.input&&n.input.focus&&n.input.focus({preventScroll:!0})}),R(n,"setBlur",function(){n.input&&n.input.blur&&n.input.blur(),n.cancelFocusInput()}),R(n,"setOpen",function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Of},function(){a||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.setBlur(),n.setState({inputValue:null})})})}),R(n,"inputOk",function(){return ci(n.state.preSelection)}),R(n,"isCalendarOpen",function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open}),R(n,"handleFocus",function(a){n.state.preventFocus||(n.props.onFocus(a),!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})}),R(n,"sendFocusBackToInput",function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})}),R(n,"cancelFocusInput",function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null}),R(n,"deferFocusInput",function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)}),R(n,"handleDropdownFocus",function(){n.cancelFocusInput()}),R(n,"handleBlur",function(a){(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&n.props.onBlur(a),n.setState({focused:!1})}),R(n,"handleCalendarClickOutside",function(a){n.props.inline||n.setOpen(!1),n.props.onClickOutside(a),n.props.withPortal&&a.preventDefault()}),R(n,"handleChange",function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var l=i[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,i),typeof l.isDefaultPrevented!="function"||l.isDefaultPrevented()))){n.setState({inputValue:l.target.value,lastPreSelectChange:C5});var c=D6(l.target.value,n.props.dateFormat,n.props.locale,n.props.strictParsing,n.props.minDate);n.props.showTimeSelectOnly&&n.props.selected&&c&&!ze(c,n.props.selected)&&(c=p3(n.props.selected,{hours:is(c),minutes:as(c),seconds:Cs(c)})),(c||!l.target.value)&&n.setSelected(c,l,!0)}}),R(n,"handleSelect",function(a,i,o){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(a,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var l=n.props,c=l.startDate,u=l.endDate;c&&!u&&(n.props.swapRange||!Ay(a,c))&&n.setOpen(!1)}}),R(n,"setSelected",function(a,i,o,l){var c=a;if(n.props.showYearPicker){if(c!==null&&T2($e(c),n.props))return}else if(n.props.showMonthYearPicker){if(c!==null&&Ru(c,n.props))return}else if(c!==null&&Dh(c,n.props))return;var u=n.props,d=u.onChange,h=u.selectsRange,f=u.startDate,p=u.endDate,x=u.selectsMultiple,m=u.selectedDates,v=u.minTime,y=u.swapRange;if(!Qa(n.props.selected,c)||n.props.allowSameDay||h||x)if(c!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(c=_f(c,{hour:is(n.props.selected),minute:as(n.props.selected),second:Cs(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&v&&(c=_f(c,{hour:v.getHours(),minute:v.getMinutes(),second:v.getSeconds()})),n.props.inline||n.setState({preSelection:c}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),h){var g=!f&&!p,w=f&&!p,b=f&&p;g?d([c,null],i):w&&(c===null?d([null,null],i):Ay(c,f)?d(y?[c,f]:[c,null],i):d([f,c],i)),b&&d([c,null],i)}else if(x)if(!(m!=null&&m.length))d([c],i);else{var k=m.some(function(j){return ze(j,c)});if(k){var D=m.filter(function(j){return!ze(j,c)});d(D,i)}else d([].concat(Ea(m),[c]),i)}else d(c,i);o||(n.props.onSelect(c,i),n.setState({inputValue:null}))}),R(n,"setPreSelection",function(a){var i=typeof n.props.minDate<"u",o=typeof n.props.maxDate<"u",l=!0;if(a){var c=ss(a);if(i&&o)l=cl(a,n.props.minDate,n.props.maxDate);else if(i){var u=ss(n.props.minDate);l=ka(a,u)||Qa(c,u)}else if(o){var d=sp(n.props.maxDate);l=ui(a,d)||Qa(c,d)}}l&&n.setState({preSelection:a})}),R(n,"toggleCalendar",function(){n.setOpen(!n.state.open)}),R(n,"handleTimeChange",function(a){var i=n.props.selected?n.props.selected:n.getPreSelection(),o=n.props.selected?a:_f(i,{hour:is(a),minute:as(a)});n.setState({preSelection:o}),n.props.onChange(o),n.props.shouldCloseOnSelect&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}),R(n,"onInputClick",function(){!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),n.props.onInputClick()}),R(n,"onInputKeyDown",function(a){n.props.onKeyDown(a);var i=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(i==="ArrowDown"||i==="ArrowUp"||i==="Enter")&&n.onInputClick();return}if(n.state.open){if(i==="ArrowDown"||i==="ArrowUp"){a.preventDefault();var o=n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',l=n.calendar.componentNode&&n.calendar.componentNode.querySelector(o);l&&l.focus({preventScroll:!0});return}var c=rt(n.state.preSelection);i==="Enter"?(a.preventDefault(),n.inputOk()&&n.state.lastPreSelectChange===Of?(n.handleSelect(c,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(c)):n.setOpen(!1)):i==="Escape"?(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1)):i==="Tab"&&n.setOpen(!1),n.inputOk()||n.props.onInputError({code:1,msg:Af})}}),R(n,"onPortalKeyDown",function(a){var i=a.key;i==="Escape"&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))}),R(n,"onDayKeyDown",function(a){n.props.onKeyDown(a);var i=a.key,o=a.shiftKey,l=rt(n.state.preSelection);if(i==="Enter")a.preventDefault(),n.handleSelect(l,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(l);else if(i==="Escape")a.preventDefault(),n.setOpen(!1),n.inputOk()||n.props.onInputError({code:1,msg:Af});else if(!n.props.disabledKeyboardNavigation){var c;switch(i){case"ArrowLeft":n.props.showWeekPicker?c=ry(l):c=KD(l);break;case"ArrowRight":n.props.showWeekPicker?c=yd(l,1):c=Fa(l,1);break;case"ArrowUp":c=ry(l);break;case"ArrowDown":c=yd(l,1);break;case"PageUp":c=o?ko(l,1):To(l,1);break;case"PageDown":c=o?Ss(l,1):$n(l,1);break;case"Home":c=wa(l,n.props.locale,n.props.calendarStartDay);break;case"End":c=F6(l);break;default:c=null;break}if(!c){n.props.onInputError&&n.props.onInputError({code:1,msg:Af});return}if(a.preventDefault(),n.setState({lastPreSelectChange:Of}),n.props.adjustDateOnChange&&n.setSelected(c),n.setPreSelection(c),n.props.inline){var u=Pr(l),d=Pr(c),h=$e(l),f=$e(c);u!==d||h!==f?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}}),R(n,"onPopperKeyDown",function(a){var i=a.key;i==="Escape"&&(a.preventDefault(),n.sendFocusBackToInput())}),R(n,"onClearClick",function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput(),n.props.selectsRange?n.props.onChange([null,null],a):n.props.onChange(null,a),n.setState({inputValue:null})}),R(n,"clear",function(){n.onClearClick()}),R(n,"onScroll",function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)}),R(n,"renderCalendar",function(){return!n.props.inline&&!n.isCalendarOpen()?null:ie.createElement(k5,{ref:function(i){n.calendar=i},locale:n.props.locale,calendarStartDay:n.props.calendarStartDay,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:n.props.weekAriaLabelPrefix,monthAriaLabelPrefix:n.props.monthAriaLabelPrefix,adjustDateOnChange:n.props.adjustDateOnChange,setOpen:n.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,dateFormat:n.props.dateFormatCalendar,useWeekdaysShort:n.props.useWeekdaysShort,formatWeekDay:n.props.formatWeekDay,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,onWeekSelect:n.props.onWeekSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,formatWeekNumber:n.props.formatWeekNumber,highlightDates:n.state.highlightDates,holidays:Y6(n.modifyHolidays()),includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,includeTimes:n.props.includeTimes,injectTimes:n.props.injectTimes,inline:n.props.inline,shouldFocusDayInline:n.state.shouldFocusDayInline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,showPreviousMonths:n.props.showPreviousMonths,useShortMonthInDropdown:n.props.useShortMonthInDropdown,showMonthYearDropdown:n.props.showMonthYearDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,withPortal:n.props.withPortal,forceShowMonthNavigation:n.props.forceShowMonthNavigation,showDisabledMonthNavigation:n.props.showDisabledMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,todayButton:n.props.todayButton,weekLabel:n.props.weekLabel,outsideClickIgnoreClass:My,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,monthSelectedIn:n.state.monthSelectedIn,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,onYearChange:n.props.onYearChange,dayClassName:n.props.dayClassName,weekDayClassName:n.props.weekDayClassName,monthClassName:n.props.monthClassName,timeClassName:n.props.timeClassName,showDateSelect:n.props.showDateSelect,showTimeSelect:n.props.showTimeSelect,showTimeSelectOnly:n.props.showTimeSelectOnly,onTimeChange:n.handleTimeChange,timeFormat:n.props.timeFormat,timeIntervals:n.props.timeIntervals,minTime:n.props.minTime,maxTime:n.props.maxTime,excludeTimes:n.props.excludeTimes,filterTime:n.props.filterTime,timeCaption:n.props.timeCaption,className:n.props.calendarClassName,container:n.props.calendarContainer,yearItemNumber:n.props.yearItemNumber,yearDropdownItemNumber:n.props.yearDropdownItemNumber,previousMonthAriaLabel:n.props.previousMonthAriaLabel,previousMonthButtonLabel:n.props.previousMonthButtonLabel,nextMonthAriaLabel:n.props.nextMonthAriaLabel,nextMonthButtonLabel:n.props.nextMonthButtonLabel,previousYearAriaLabel:n.props.previousYearAriaLabel,previousYearButtonLabel:n.props.previousYearButtonLabel,nextYearAriaLabel:n.props.nextYearAriaLabel,nextYearButtonLabel:n.props.nextYearButtonLabel,timeInputLabel:n.props.timeInputLabel,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderCustomHeader:n.props.renderCustomHeader,popperProps:n.props.popperProps,renderDayContents:n.props.renderDayContents,renderMonthContent:n.props.renderMonthContent,renderQuarterContent:n.props.renderQuarterContent,renderYearContent:n.props.renderYearContent,onDayMouseEnter:n.props.onDayMouseEnter,onMonthMouseLeave:n.props.onMonthMouseLeave,onYearMouseEnter:n.props.onYearMouseEnter,onYearMouseLeave:n.props.onYearMouseLeave,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,showTimeInput:n.props.showTimeInput,showMonthYearPicker:n.props.showMonthYearPicker,showFullMonthYearPicker:n.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:n.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:n.props.showFourColumnMonthYearPicker,showYearPicker:n.props.showYearPicker,showQuarterYearPicker:n.props.showQuarterYearPicker,showWeekPicker:n.props.showWeekPicker,excludeScrollbar:n.props.excludeScrollbar,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,isInputFocused:n.state.focused,customTimeInput:n.props.customTimeInput,setPreSelection:n.setPreSelection,usePointerEvent:n.props.usePointerEvent,yearClassName:n.props.yearClassName},n.props.children)}),R(n,"renderAriaLiveRegion",function(){var a=n.props,i=a.dateFormat,o=a.locale,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return n.props.selectsRange?u="Selected start date: ".concat(pn(n.props.startDate,{dateFormat:c,locale:o}),". ").concat(n.props.endDate?"End date: "+pn(n.props.endDate,{dateFormat:c,locale:o}):""):n.props.showTimeSelectOnly?u="Selected time: ".concat(pn(n.props.selected,{dateFormat:i,locale:o})):n.props.showYearPicker?u="Selected year: ".concat(pn(n.props.selected,{dateFormat:"yyyy",locale:o})):n.props.showMonthYearPicker?u="Selected month: ".concat(pn(n.props.selected,{dateFormat:"MMMM yyyy",locale:o})):n.props.showQuarterYearPicker?u="Selected quarter: ".concat(pn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:o})):u="Selected date: ".concat(pn(n.props.selected,{dateFormat:c,locale:o})),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),R(n,"renderDateInput",function(){var a,i=cr(n.props.className,R({},My,n.state.open)),o=n.props.customInput||ie.createElement("input",{type:"text"}),l=n.props.customInputRef||"ref",c=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?P6(n.props.startDate,n.props.endDate,n.props):n.props.selectsMultiple?A6(n.props.selectedDates,n.props):pn(n.props.selected,n.props);return ie.cloneElement(o,(a={},R(R(R(R(R(R(R(R(R(R(a,l,function(u){n.input=u}),"value",c),"onBlur",n.handleBlur),"onChange",n.handleChange),"onClick",n.onInputClick),"onFocus",n.handleFocus),"onKeyDown",n.onInputKeyDown),"id",n.props.id),"name",n.props.name),"form",n.props.form),R(R(R(R(R(R(R(R(R(R(a,"autoFocus",n.props.autoFocus),"placeholder",n.props.placeholderText),"disabled",n.props.disabled),"autoComplete",n.props.autoComplete),"className",cr(o.props.className,i)),"title",n.props.title),"readOnly",n.props.readOnly),"required",n.props.required),"tabIndex",n.props.tabIndex),"aria-describedby",n.props.ariaDescribedBy),R(R(R(a,"aria-invalid",n.props.ariaInvalid),"aria-labelledby",n.props.ariaLabelledBy),"aria-required",n.props.ariaRequired)))}),R(n,"renderClearButton",function(){var a=n.props,i=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,h=a.clearButtonClassName,f=h===void 0?"":h,p=a.ariaLabelClose,x=p===void 0?"Close":p,m=a.selectedDates;return i&&(l!=null||c!=null||u!=null||m!=null&&m.length)?ie.createElement("button",{type:"button",className:cr("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":x,onClick:n.onClearClick,title:d,tabIndex:-1}):null}),n.state=n.calcInitialState(),n.preventFocusTimeout=null,n}return Jt(t,e),Xt(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(n,a){n.inline&&S5(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Ey(this.props.highlightDates)}),!a.focused&&!Qa(n.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),a.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var n=this.props,a=n.showIcon,i=n.icon,o=n.calendarIconClassname,l=n.toggleCalendarOnIconClick,c=this.state.open;return ie.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&ie.createElement(v5,tc({icon:i,className:"".concat(o," ").concat(c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var a=this.state.open?ie.createElement(D2,{enableTabLoop:this.props.enableTabLoop},ie.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(a=ie.createElement(_2,{portalId:this.props.portalId,portalHost:this.props.portalHost},a)),ie.createElement("div",null,this.renderInputContainer(),a)}return ie.createElement(T5,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:n,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:bc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(ie.Component),C5="input",Of="navigate";const _t={async getAllRooms(){var e;try{return(await W.get("/api/phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAvailableRooms(){var e;try{return(await W.get("/api/phong/available")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getOccupiedRooms(){var e;try{return(await W.get("/api/phong/occupied")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getMaintenanceRooms(){var e;try{return(await W.get("/api/phong/maintenance")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getCleaningRooms(){var e;try{return(await W.get("/api/phong/cleaning")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAvailableRoomsByDateRange(e,t){var r;try{return(await W.get("/api/phong/available-by-date",{params:{checkIn:e,checkOut:t}})).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async searchRoomsByPriceRange(e,t,r,n){var a;try{const i={checkIn:e,checkOut:t};return r!=null&&(i.minPrice=r),n!=null&&(i.maxPrice=n),(await W.get("/api/phong/search-by-price",{params:i})).data}catch(i){throw((a=i.response)==null?void 0:a.data)||i.message}},async getRoomById(e){var t;try{return(await W.get(`/api/phong/get-by-id/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getRoomDetails(e){var t;try{return(await W.get(`/api/phong/get-details/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async updateRoomStatus(e,t){var r;try{return(await W.put(`/api/phong/update-status/${e}`,null,{params:{idTrangThai:t}})).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async getRoomsByHangPhong(e){var t;try{return(await W.get(`/api/phong/by-hang-phong/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getRoomsByFloor(e){var t;try{return(await W.get(`/api/phong/by-tang/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getRoomsByStatus(e){var t;try{return(await W.get(`/api/phong/by-trang-thai/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async checkRoomAvailability(e,t,r){var n;try{return(await W.get(`/api/phong/check-availability/${e}`,{params:{checkIn:t,checkOut:r}})).data}catch(a){throw((n=a.response)==null?void 0:n.data)||a.message}},async searchRooms(e){var t;try{return(await W.get("/api/phong/search",{params:{keyword:e}})).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async filterRooms(e){var t;try{return(await W.get("/api/phong/filter",{params:e})).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async createRoom(e){var t;try{return(await W.post("/api/phong/create",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async updateRoom(e,t){var r;try{return(await W.put(`/api/phong/update/${e}`,t)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async deleteRoom(e){var t;try{return(await W.delete(`/api/phong/delete/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getAllRoomTypes(){var e;try{return(await W.get("/api/kieu-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAllRoomCategories(){var e;try{return(await W.get("/api/loai-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async updateRoomTypeAndCategory(e,t){var r;try{const n=new URLSearchParams;return t.idKieuPhong&&n.append("idKieuPhong",t.idKieuPhong),t.idLoaiPhong&&n.append("idLoaiPhong",t.idLoaiPhong),(await W.put(`/api/phong/update-type-category/${e}?${n.toString()}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}}},Ly=e=>{if(!e)return null;if(e instanceof Date){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${n}`}if(typeof e=="string"){const t=new Date(e),r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`}return null},E5=`
  .dual-range-slider {
    position: relative;
    height: 40px;
    margin: 15px 0;
    display: flex;
    align-items: center;
    min-width: 120px;
  }

  /* DatePicker styles */
  .react-datepicker-wrapper {
    width: 100% !important;
  }

  .react-datepicker__input-container {
    width: 100% !important;
  }

  .react-datepicker__input-container input {
    width: 100% !important;
    padding: 12px !important;
    border: 1px solid #d1d5db !important;
    border-radius: 8px !important;
    font-size: 16px !important;
    height: 48px !important;
    box-sizing: border-box !important;
    background-color: white !important;
    color: #374151 !important;
  }

  .react-datepicker__input-container input:focus {
    outline: none !important;
    border-color: #3B82F6 !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
  }

  .react-datepicker {
    z-index: 9999 !important;
  }

  .dual-range-slider .slider-track {
    position: absolute;
    width: 100%;
    height: 6px;
    background: #e5e7eb;
    border-radius: 3px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 1;
  }

  .dual-range-slider .slider-range {
    position: absolute;
    height: 6px;
    background: linear-gradient(to right, #3B82F6, #10B981);
    border-radius: 3px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
  }

  .dual-range-slider input[type="range"] {
    position: absolute;
    width: 100%;
    height: 6px;
    background: transparent;
    -webkit-appearance: none;
    appearance: none;
    pointer-events: none;
    outline: none;
    top: 50%;
    transform: translateY(-50%);
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb {
    pointer-events: all;
    position: relative;
    z-index: 10;
  }

  .dual-range-slider input[type="range"]::-moz-range-thumb {
    pointer-events: all;
    position: relative;
    z-index: 10;
  }

  .dual-range-slider input[type="range"]::-webkit-slider-track {
    background: transparent;
    border: none;
    height: 6px;
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: all 0.2s ease;
    position: relative;
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  }

  .dual-range-slider input[type="range"]::-webkit-slider-thumb:active {
    transform: scale(1.15);
  }

  .dual-range-slider input[type="range"]::-moz-range-thumb {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    background: #3B82F6;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: all 0.2s ease;
    -moz-appearance: none;
  }

  .dual-range-slider input[type="range"]::-moz-range-thumb:hover {
    background: #2563EB;
    transform: scale(1.1);
    box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  }

  .dual-range-slider input[type="range"]::-moz-range-track {
    background: transparent;
    border: none;
    height: 6px;
  }

  .dual-range-slider input[type="range"]:focus::-webkit-slider-thumb {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
  }

  .dual-range-slider .range-min::-webkit-slider-thumb {
    background: #10B981;
  }

  .dual-range-slider .range-min::-webkit-slider-thumb:hover {
    background: #059669;
  }

  .dual-range-slider .range-min::-moz-range-thumb {
    background: #10B981;
  }

  .dual-range-slider .range-min::-moz-range-thumb:hover {
    background: #059669;
  }

  .dual-range-slider .range-max::-webkit-slider-thumb {
    background: #EF4444;
  }

  .dual-range-slider .range-max::-webkit-slider-thumb:hover {
    background: #DC2626;
  }

  .dual-range-slider .range-max::-moz-range-thumb {
    background: #EF4444;
  }

  .dual-range-slider .range-max::-moz-range-thumb:hover {
    background: #DC2626;
  }

  /* Đảm bảo slider min có z-index thấp hơn */
  .dual-range-slider .range-min {
    z-index: 3;
  }

  /* Đảm bảo slider max có z-index cao hơn */
  .dual-range-slider .range-max {
    z-index: 5;
  }

  /* Khi giá trị min gần bằng max, ưu tiên max slider */
  .dual-range-slider .range-max::-webkit-slider-thumb {
    z-index: 6;
  }

  .dual-range-slider .range-max::-moz-range-thumb {
    z-index: 6;
  }

  /* Tooltip cho slider */
  .dual-range-slider input[type="range"]:hover::-webkit-slider-thumb::after {
    content: attr(data-value);
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    background: #333;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
  }
`,Lm=({handleSearchResult:e})=>{const[t,r]=N.useState(null),[n,a]=N.useState(null),[i,o]=N.useState([0,1e7]),[l,c]=N.useState(""),[u,d]=N.useState(null),h=()=>{const y=(i[0]-0)/1e7*100,g=(i[1]-0)/1e7*100;return{left:`${y}%`,width:`${g-y}%`}};N.useEffect(()=>{const m=document.createElement("style");return m.textContent=E5,document.head.appendChild(m),()=>{document.head.removeChild(m)}},[]);const f=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m),p=(m,v=5e3)=>{c(m),setTimeout(()=>{c("")},v)},x=async()=>{if(!t||!n)return p("Vui lòng chọn ngày nhận phòng và ngày trả phòng"),!1;if(t>=n)return p("Ngày trả phòng phải sau ngày nhận phòng"),!1;if(t<new Date().setHours(0,0,0,0))return p("Ngày nhận phòng không thể là ngày trong quá khứ"),!1;if(i[0]>=i[1])return p("Khoảng giá không hợp lệ"),!1;try{const m=Ly(t),v=Ly(n);console.log("Price range being sent to API:",{minPrice:i[0],maxPrice:i[1],checkIn:m,checkOut:v});const y=await _t.searchRoomsByPriceRange(m,v,i[0],i[1]);if(y.statusCode===200){if(console.log("API Response Data:",y.availableRoomsByHangPhongList),y.availableRoomsByHangPhongList&&y.availableRoomsByHangPhongList.length===0){p("Không có phòng trống trong khoảng thời gian và mức giá này.");return}e(y.availableRoomsByHangPhongList||[],{startDate:t,endDate:n,priceRange:i}),c("")}}catch(m){p("Có lỗi xảy ra: "+(m.message||"Không thể tìm kiếm phòng"))}};return s.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày nhận phòng"}),s.jsx(Fy,{selected:t,onChange:m=>r(m),dateFormat:"dd/MM/yyyy",placeholderText:"Chọn ngày nhận phòng",className:"w-full",minDate:new Date,showPopperArrow:!1,popperPlacement:"bottom-start"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày trả phòng"}),s.jsx(Fy,{selected:n,onChange:m=>a(m),dateFormat:"dd/MM/yyyy",placeholderText:"Chọn ngày trả phòng",className:"w-full",minDate:t||new Date,showPopperArrow:!1,popperPlacement:"bottom-start"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Giá: ",f(i[0])," - ",f(i[1])]}),s.jsx("div",{className:"px-1",style:{height:"48px",display:"flex",alignItems:"center"},children:s.jsxs("div",{className:"dual-range-slider",style:{width:"100%"},children:[s.jsx("div",{className:"slider-track"}),s.jsx("div",{className:"slider-range",style:h()}),s.jsx("input",{type:"range",min:"0",max:"10000000",step:"500000",value:i[0],onChange:m=>{const v=parseInt(m.target.value),y=i[1]-5e5,g=Math.min(v,y);o([g,i[1]])},onMouseDown:()=>d("min"),onMouseUp:()=>d(null),onTouchStart:()=>d("min"),onTouchEnd:()=>d(null),className:"range-min",style:{zIndex:u==="min"?6:i[0]>i[1]-1e6?5:3}}),s.jsx("input",{type:"range",min:"0",max:"10000000",step:"500000",value:i[1],onChange:m=>{const v=parseInt(m.target.value),y=i[0]+5e5,g=Math.max(v,y);o([i[0],g])},onMouseDown:()=>d("max"),onMouseUp:()=>d(null),onTouchStart:()=>d("max"),onTouchEnd:()=>d(null),className:"range-max",style:{zIndex:u==="max"?6:5}})]})}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1 px-1",children:[s.jsx("span",{children:"0đ"}),s.jsx("span",{children:"10 triệu"})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),s.jsx("button",{className:"btn-primary w-full h-12 text-lg font-semibold",onClick:x,children:"Tìm phòng"})]})]}),l&&s.jsx("p",{className:"text-red-600 text-sm mt-2",children:l})]})},Im=[{value:"wifi",label:"Wi-Fi",icon:Z0,category:"basic"},{value:"tv",label:"TV",icon:Gc,category:"basic"},{value:"ac",label:"Air Conditioner",icon:z_,category:"basic"},{value:"fridge",label:"Mini Fridge",icon:qg,category:"basic"},{value:"tv-32",label:"TV 32 inch",icon:Gc,category:"entertainment"},{value:"tv-42",label:"TV 42 inch",icon:Gc,category:"entertainment"},{value:"tv-50",label:"TV 50 inch",icon:Gc,category:"entertainment"},{value:"single-sofa",label:"Single sofa",icon:f_,category:"furniture"},{value:"double-sofa",label:"Double sofa",icon:U_,category:"furniture"},{value:"work-table",label:"Work Table",icon:v_,category:"furniture"},{value:"bathtub",label:"Bathtub",icon:x_,category:"bathroom"},{value:"shower",label:"Separate shower",icon:H_,category:"bathroom"},{value:"jacuzzi",label:"Jacuzzi",icon:Gg,category:"bathroom"},{value:"balcony",label:"Private balcony",icon:ln,category:"room"},{value:"living-room",label:"Separate living room",icon:yc,category:"room"},{value:"dining-area",label:"Private dining area",icon:Qg,category:"room"},{value:"city-view",label:"City/Pool view",icon:Mr,category:"room"},{value:"coffee-machine",label:"Coffee machine",icon:wo,category:"dining"},{value:"coffee-set",label:"Coffee set",icon:wo,category:"dining"},{value:"mini-bar",label:"Mini bar",icon:qg,category:"dining"},{value:"bluetooth-speaker",label:"Bluetooth speaker",icon:Y_,category:"entertainment"},{value:"parking",label:"Bãi đỗ xe",icon:VN,category:"basic"},{value:"bed",label:"Giường thoải mái",icon:g_,category:"basic"},{value:"restaurant",label:"Nhà hàng",icon:Qg,category:"dining"},{value:"microwave",label:"Lò vi sóng",icon:D_,category:"dining"},{value:"gym",label:"Phòng tập gym",icon:KN,category:"entertainment"},{value:"pool",label:"Hồ bơi",icon:Gg,category:"entertainment"},{value:"music",label:"Hệ thống âm thanh",icon:O_,category:"entertainment"},{value:"security",label:"An ninh 24/7",icon:jh,category:"service"},{value:"phone",label:"Điện thoại",icon:cs,category:"service"},{value:"laundry",label:"Dịch vụ giặt ủi",icon:B_,category:"service"},{value:"reception-24h",label:"Lễ tân 24h",icon:lr,category:"service"},{value:"concierge",label:"Dịch vụ concierge",icon:wr,category:"service"},{value:"heating",label:"Hệ thống sưởi",icon:W_,category:"comfort"},{value:"cooling",label:"Hệ thống làm mát",icon:$_,category:"comfort"},{value:"night-service",label:"Dịch vụ đêm",icon:A_,category:"comfort"},{value:"location",label:"Vị trí thuận lợi",icon:Hn,category:"location"},{value:"eco-friendly",label:"Thân thiện môi trường",icon:C_,category:"special"},{value:"luxury",label:"Dịch vụ cao cấp",icon:fd,category:"special"},{value:"family-friendly",label:"Thân thiện gia đình",icon:k_,category:"special"},{value:"business",label:"Tiện ích kinh doanh",icon:q_,category:"business"},{value:"photography",label:"Dịch vụ chụp ảnh",icon:N_,category:"special"},{value:"gift-shop",label:"Cửa hàng quà tặng",icon:T_,category:"shopping"}],_5={TN01:"wifi",TN02:"tv",TN03:"ac",TN04:"fridge",TN06:"tv-32",TN07:"tv-42",TN08:"tv-50",TN09:"single-sofa",TN10:"double-sofa",TN11:"bathtub",TN12:"shower",TN13:"balcony",TN14:"coffee-machine",TN15:"coffee-set",TN16:"city-view",TN17:"living-room",TN18:"jacuzzi",TN19:"mini-bar",TN20:"bluetooth-speaker",TN22:"dining-area",TN23:"work-table",wifi:"wifi",tv:"tv",ac:"ac",fridge:"fridge","tv-32":"tv-32","tv-42":"tv-42","tv-50":"tv-50","single-sofa":"single-sofa","double-sofa":"double-sofa",bathtub:"bathtub",shower:"shower",balcony:"balcony","coffee-machine":"coffee-machine","coffee-set":"coffee-set","city-view":"city-view","living-room":"living-room",jacuzzi:"jacuzzi","mini-bar":"mini-bar","bluetooth-speaker":"bluetooth-speaker","dining-area":"dining-area","work-table":"work-table","/icons/wifi.png":"wifi","/icons/tv.png":"tv","/icons/ac.png":"ac","/icons/fridge.png":"fridge","/icons/safe.png":"security"},P2=(e,t="w-5 h-5")=>{const r=_5[e]||e,n=Im.find(a=>a.value===r);if(n){const a=n.icon;return s.jsx(a,{className:t})}return s.jsx("div",{className:`${t} bg-gray-300 rounded flex items-center justify-center text-xs text-gray-600`,title:`Icon not found: ${e}`,children:"?"})},D5=(e,t,r="w-5 h-5")=>{if(e)try{let n=e;if(e instanceof ArrayBuffer){const i=new Uint8Array(e);n=btoa(String.fromCharCode.apply(null,i))}const a=atob(n);return s.jsx("div",{className:r,dangerouslySetInnerHTML:{__html:a},style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}})}catch(n){console.warn("Failed to render blob icon:",n)}return P2(t,r)},P5=()=>[...new Set(Im.map(t=>t.category))].map(t=>({value:t,label:A5(t)})),A5=e=>({basic:"Tiện ích cơ bản",dining:"Ăn uống",entertainment:"Giải trí",service:"Dịch vụ",comfort:"Tiện nghi",location:"Vị trí",special:"Đặc biệt",business:"Kinh doanh",shopping:"Mua sắm",furniture:"Nội thất",bathroom:"Phòng tắm",room:"Tiện ích phòng"})[e]||e,O5=e=>{const t=new Uint8Array(e);let r="";for(let n=0;n<t.byteLength;n++)r+=String.fromCharCode(t[n]);return btoa(r)},R5=e=>{try{if(typeof e=="string"){if(e.includes("base64,"))return atob(e.split("base64,")[1]);try{return atob(e)}catch{return e}}if(e instanceof ArrayBuffer){const t=O5(e);return atob(t)}if(e instanceof Uint8Array){const t=btoa(String.fromCharCode.apply(null,e));return atob(t)}return null}catch(t){return console.warn("Failed to convert blob to SVG string:",t),null}},A2=e=>!e||typeof e!="string"?!1:e.trim().startsWith("<svg")&&e.includes("</svg>"),M5=e=>A2(e)?e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/on\w+="[^"]*"/gi,"").replace(/on\w+='[^']*'/gi,"").replace(/javascript:/gi,""):null,F5=(e,t="",r={})=>{const n=R5(e);if(!n||!A2(n))return null;const a=M5(n);if(!a)return null;let i=a;if(t&&(i.includes('class="')?i=i.replace(/class="([^"]*)"/,`class="$1 ${t}"`):i=i.replace("<svg",`<svg class="${t}"`)),Object.keys(r).length>0){const o=Object.entries(r).map(([l,c])=>`${l.replace(/([A-Z])/g,"-$1").toLowerCase()}:${c}`).join(";");i.includes('style="')?i=i.replace(/style="([^"]*)"/,`style="$1;${o}"`):i=i.replace("<svg",`<svg style="${o}"`)}return i},fp=({amenity:e,className:t="w-5 h-5",showTooltip:r=!1})=>{if(e!=null&&e.ICON||e!=null&&e.icon){const a=e.ICON||e.icon,i=e.ID_TN||e.idTn||e.iconName,o=F5(a,t);return o?s.jsxs("div",{className:r?"relative group":"",title:r?e.TEN_TN||e.tenTn:void 0,children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:o},style:{display:"inline-flex",alignItems:"center",justifyContent:"center"}}),r&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:e.TEN_TN||e.tenTn})]}):s.jsxs("div",{className:r?"relative group":"",title:r?e.TEN_TN||e.tenTn:void 0,children:[D5(a,i,t),r&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:e.TEN_TN||e.tenTn})]})}const n=(e==null?void 0:e.iconName)||(e==null?void 0:e.icon)||"wifi";return s.jsxs("div",{className:r?"relative group":"",title:r?e.TEN_TN||e.tenTn:void 0,children:[P2(n,t),r&&s.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap z-10",children:e.TEN_TN||e.tenTn})]})},yr=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),L5=(e,t)=>{const r=new Date(e),n=new Date(t);return r.toDateString()===n.toDateString()||Math.ceil((n-r)/(1e3*60*60*24))===1?r.toLocaleDateString("vi-VN"):`${r.toLocaleDateString("vi-VN")} - ${n.toLocaleDateString("vi-VN")}`},I5=e=>{if(!e||e.length===0)return null;const t=e.map(a=>a.pricePerNight),r=Math.min(...t),n=Math.max(...t);return{min:r,max:n,isSamePrice:r===n}},O2=e=>!e||e.length===0?[]:e.map(t=>({...t,formattedDateRange:L5(t.startDate,t.endDate),formattedPrice:yr(t.pricePerNight),formattedTotal:yr(t.totalPrice),nightsText:t.numberOfNights===1?"1 đêm":`${t.numberOfNights} đêm`})),B5=e=>{if(e.priceSegments&&e.priceSegments.length>0){const t=I5(e.priceSegments);return t.isSamePrice?{price:t.min,label:"/đêm",type:"single"}:{price:t.min,label:"/đêm",prefix:"Từ",type:"range"}}return e.averagePrice?{price:e.averagePrice,label:"/đêm",type:"average"}:e.totalPrice&&e.numberOfNights?{price:e.totalPrice/e.numberOfNights,label:"/đêm",type:"calculated"}:e.giaHienTai?{price:e.giaHienTai,label:"/đêm",type:"current"}:null},H5=({room:e,bookingData:t,setBookingData:r,searchDates:n,onNext:a,onClose:i})=>{const[o,l]=N.useState((n==null?void 0:n.checkIn)||null),[c,u]=N.useState((n==null?void 0:n.checkOut)||null),[d,h]=N.useState(0),[f,p]=N.useState(1),[x,m]=N.useState("");N.useEffect(()=>{if(o&&c){const j=v(o,c);h(j)}},[o,c]);const v=(j,T)=>{if(j&&T){const L=Math.abs(T-j);return Math.ceil(L/(1e3*60*60*24))}return 0},y=()=>e.totalPrice&&f?e.totalPrice*f:e.giaHienTai&&d>0?e.giaHienTai*d*f:0,g=()=>y()*.2,w=j=>{if(m(""),j<1){m("Số lượng phòng phải ít nhất là 1");return}if(j>e.soPhongTrong){m(`Chỉ còn ${e.soPhongTrong} phòng trống`);return}p(j)},b=()=>{w(f+1)},k=()=>{w(f-1)},D=()=>{if(!o||!c){alert("Vui lòng điền đầy đủ thông tin");return}if(x){alert("Vui lòng kiểm tra lại số lượng phòng");return}const j=y(),T=g();r({...t,checkIn:o,checkOut:c,nights:d,roomQuantity:f,totalAmount:j,depositAmount:T}),a()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Thông tin phòng đã chọn"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-lg text-gray-800",children:[e.tenKieuPhong," - ",e.tenLoaiPhong]}),s.jsx("p",{className:"text-gray-600 mt-1",children:e.moTaKieuPhong}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wr,{size:16}),e.moTaKieuPhong]}),s.jsxs("span",{className:"text-green-600 font-medium",children:[e.soPhongTrong,"/",e.tongSoPhong," phòng trống"]})]})]}),s.jsx("div",{className:"text-right",children:e.priceSegments&&e.priceSegments.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Chi tiết giá"}),s.jsx("div",{className:"space-y-1 mb-3",children:O2(e.priceSegments).map((j,T)=>s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-600",children:[j.formattedDateRange," (",j.nightsText,")"]}),s.jsx("span",{className:"font-medium text-blue-600",children:j.formattedPrice})]},T))}),e.totalPrice&&s.jsx("div",{className:"border-t pt-2",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Tổng:"}),s.jsx("span",{className:"text-xl font-bold text-blue-600",children:yr(e.totalPrice)})]})})]}):e.averagePrice?s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:yr(e.averagePrice)}),s.jsx("div",{className:"text-sm text-gray-500",children:"/ đêm (trung bình)"}),e.totalPrice&&s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Tổng: ",yr(e.totalPrice)]})]}):s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:yr(e.giaHienTai)}),s.jsx("div",{className:"text-sm text-gray-500",children:"/ đêm"})]})})]})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Lưu ý:"})," Ngày nhận phòng và ngày trả phòng được lấy từ form tìm kiếm. Nếu muốn thay đổi ngày, vui lòng quay lại trang tìm kiếm để tìm lại phòng phù hợp."]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ft,{className:"inline w-4 h-4 mr-1"}),"Ngày nhận phòng"]}),s.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:o?o.toLocaleDateString("vi-VN"):"Chưa chọn ngày"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ft,{className:"inline w-4 h-4 mr-1"}),"Ngày trả phòng"]}),s.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700",children:c?c.toLocaleDateString("vi-VN"):"Chưa chọn ngày"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số đêm"}),s.jsxs("div",{className:"px-3 py-2 bg-gray-100 rounded-lg text-gray-700",children:[d," đêm"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng phòng"}),s.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-300 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("button",{onClick:k,disabled:f<=1,className:"w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center hover:border-blue-500 hover:text-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(P_,{size:16})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-gray-800",children:f}),s.jsx("div",{className:"text-xs text-gray-500",children:"phòng"})]}),s.jsx("button",{onClick:b,disabled:f>=e.soPhongTrong,className:"w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center hover:border-blue-500 hover:text-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(br,{size:16})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xs text-gray-600",children:"Phòng trống"}),s.jsx("div",{className:"text-sm font-semibold text-green-600",children:e.soPhongTrong})]})]}),x&&s.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-600 text-xs",children:x})})]})]}),d>0&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Tóm tắt chi phí"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[e.totalPrice?s.jsxs("span",{children:["Giá phòng cho ",d," đêm x ",f," phòng"]}):s.jsxs("span",{children:[yr(e.giaHienTai)," x ",d," đêm x ",f," phòng"]}),s.jsx("span",{children:yr(y())})]}),e.totalPrice&&e.averagePrice&&s.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:["Giá trung bình: ",yr(e.averagePrice)," / đêm"]}),s.jsx("span",{})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[s.jsx("span",{children:"Tổng cộng"}),s.jsx("span",{className:"text-xl text-blue-600",children:yr(y())})]}),s.jsxs("div",{className:"flex justify-between text-orange-600",children:[s.jsx("span",{children:"Tiền đặt cọc (20%)"}),s.jsx("span",{className:"font-semibold",children:yr(g())})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:i,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Hủy"}),s.jsx("button",{onClick:D,disabled:!o||!c||d===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Tiếp tục"})]})]})},$5=({bookingData:e,setBookingData:t,onNext:r,onBack:n})=>{var p,x;const{user:a}=kn(),[i,o]=N.useState({fullName:"",phone:"",email:"",idCard:""}),[l,c]=N.useState({});N.useEffect(()=>{a&&(console.log("User data for auto-fill:",a),o({fullName:a.hoTen||a.tenKhachHang||a.fullName||a.name||"",phone:a.sdt||a.soDienThoai||a.phone||a.phoneNumber||"",email:a.email||"",idCard:a.cccd||a.cmnd||a.idCard||a.identityCard||""}))},[a]);const u=()=>{const m={};return(!i.fullName||!i.fullName.trim())&&(m.fullName="Vui lòng nhập họ tên"),!i.phone||!i.phone.trim()?m.phone="Vui lòng nhập số điện thoại":/^[0-9]{10,11}$/.test(i.phone.trim())||(m.phone="Số điện thoại không hợp lệ (10-11 số)"),!i.email||!i.email.trim()?m.email="Vui lòng nhập email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email.trim())||(m.email="Email không hợp lệ"),!i.idCard||!i.idCard.trim()?m.idCard="Vui lòng nhập CCCD/CMND":/^[0-9]{9,12}$/.test(i.idCard.trim())||(m.idCard="CCCD/CMND không hợp lệ (9-12 số)"),c(m),Object.keys(m).length===0},d=(m,v)=>{o(y=>({...y,[m]:v})),l[m]&&c(y=>({...y,[m]:""}))},h=()=>{if(!e.checkIn||!e.checkOut||!e.totalAmount){alert("Thông tin đặt phòng không đầy đủ. Vui lòng quay lại bước trước để kiểm tra.");return}if(u()){const m={...e,customerInfo:i};t(m),setTimeout(()=>{r()},100)}},f=m=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(m);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(os,{className:"text-yellow-600 mt-1",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Thông tin liên lạc khách sạn"}),s.jsxs("div",{className:"space-y-2 text-yellow-700",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cs,{size:16}),s.jsx("span",{className:"font-medium",children:"Hotline: 1900-1234"})]}),s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Lưu ý quan trọng:"})," Sau khi điền thông tin, vui lòng chú ý nghe máy. Nhân viên khách sạn sẽ gọi để xác nhận đặt phòng và hướng dẫn thanh toán trong vòng 15 phút."]})]})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Tóm tắt đặt phòng"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Phòng:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[e.room.tenKieuPhong," - ",e.room.tenLoaiPhong]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[e.roomQuantity||1," phòng"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Số đêm:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[e.nights," đêm"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Nhận phòng:"}),s.jsx("span",{className:"ml-2 font-medium",children:(p=e.checkIn)==null?void 0:p.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Trả phòng:"}),s.jsx("span",{className:"ml-2 font-medium",children:(x=e.checkOut)==null?void 0:x.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tổng tiền:"}),s.jsx("span",{className:"ml-2 font-medium text-blue-600",children:f(e.totalAmount)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Đặt cọc:"}),s.jsx("span",{className:"ml-2 font-medium text-orange-600",children:f(e.depositAmount)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Thông tin khách hàng"}),a&&s.jsx("div",{className:"text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:"Đã điền từ tài khoản của bạn"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Pt,{className:"inline w-4 h-4 mr-1"}),"Họ và tên *"]}),s.jsx("input",{type:"text",value:i.fullName,onChange:m=>d("fullName",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.fullName?"border-red-500":"border-gray-300"}`,placeholder:"Nhập họ và tên"}),l.fullName&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.fullName})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(cs,{className:"inline w-4 h-4 mr-1"}),"Số điện thoại *"]}),s.jsx("input",{type:"tel",value:i.phone,onChange:m=>d("phone",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.phone?"border-red-500":"border-gray-300"}`,placeholder:"Nhập số điện thoại"}),l.phone&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.phone})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ls,{className:"inline w-4 h-4 mr-1"}),"Email *"]}),s.jsx("input",{type:"email",value:i.email,onChange:m=>d("email",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"Nhập email"}),l.email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCCD/CMND *"}),s.jsx("input",{type:"text",value:i.idCard,onChange:m=>d("idCard",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.idCard?"border-red-500":"border-gray-300"}`,placeholder:"Nhập số CCCD/CMND"}),l.idCard&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.idCard})]})]})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:n,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Quay lại"}),s.jsx("button",{onClick:h,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Tiếp tục thanh toán"})]})]})},U5=({amount:e,currency:t="VND",onSuccess:r,onError:n,onCancel:a,disabled:i=!1,bookingData:o})=>{const[{isPending:l}]=xN(),[c,u]=N.useState(!1),d=K4(e),h=(m,v)=>{var y;return console.log("Creating PayPal order with amount:",d,"USD"),console.log("Booking data:",o),v.order.create({purchase_units:[{amount:{currency_code:"USD",value:d.toString()},description:`Đặt cọc phòng khách sạn - ${((y=o==null?void 0:o.room)==null?void 0:y.tenKieuPhong)||"Phòng"}`,custom_id:`booking_${Date.now()}`}],application_context:{shipping_preference:"NO_SHIPPING"}}).catch(g=>{throw console.error("Error creating PayPal order:",g),g})},f=async(m,v)=>{var y,g;u(!0);try{const w=await v.order.capture();console.log("PayPal Payment Success:",w);const b={paypalOrderId:w.id,paypalPayerId:w.payer.payer_id,paymentStatus:w.status,amountPaid:{usd:parseFloat(w.purchase_units[0].amount.value),vnd:e},paymentMethod:"PAYPAL",transactionId:w.purchase_units[0].payments.captures[0].id,paymentTime:new Date().toISOString(),payerInfo:{email:w.payer.email_address,name:((y=w.payer.name)==null?void 0:y.given_name)+" "+((g=w.payer.name)==null?void 0:g.surname),payerId:w.payer.payer_id}};J.success("Thanh toán PayPal thành công!"),r&&r(b)}catch(w){console.error("PayPal payment error:",w),J.error("Có lỗi xảy ra khi xử lý thanh toán"),n&&n(w)}finally{u(!1)}},p=m=>{console.error("PayPal Error:",m),J.error("Có lỗi xảy ra với PayPal"),n&&n(m)},x=m=>{console.log("PayPal Payment Cancelled:",m),J.info("Thanh toán đã bị hủy"),a&&a(m)};return l?s.jsxs("div",{className:"flex justify-center items-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Đang tải PayPal..."})]}):s.jsxs("div",{className:"paypal-button-container",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Số tiền thanh toán"}),s.jsx("p",{className:"text-lg font-bold text-blue-800",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}),s.jsxs("p",{className:"text-sm text-blue-500",children:["≈ $",d," USD"]})]})}),s.jsx(xm,{style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal",height:45},disabled:i||c,createOrder:h,onApprove:f,onError:p,onCancel:x}),c&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:"inline-flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),s.jsx("span",{className:"text-blue-600",children:"Đang xử lý thanh toán..."})]})})]})},V5=({amount:e,bookingData:t,onSuccess:r,onError:n,onBack:a})=>{const[i,o]=N.useState(!1),l=async d=>{var h,f,p;o(!0);try{console.log("PayPal payment successful, processing booking..."),console.log("Payment data received:",d),console.log("Booking data:",t);const x={...t,paymentData:d,paymentStatus:"PAID",paymentMethod:"PAYPAL"};console.log("Original bookingData:",t),console.log("checkIn type:",typeof t.checkIn,t.checkIn),console.log("checkOut type:",typeof t.checkOut,t.checkOut),console.log("Customer info from bookingData:",{fullName:t.fullName,phone:t.phone,email:t.email,idCard:t.idCard}),console.log("Customer info from customerInfo:",t.customerInfo);const m=w=>{if(!w)return null;if(w instanceof Date){const b=w.getFullYear(),k=String(w.getMonth()+1).padStart(2,"0"),D=String(w.getDate()).padStart(2,"0");return`${b}-${k}-${D}`}if(typeof w=="string"){const b=new Date(w),k=b.getFullYear(),D=String(b.getMonth()+1).padStart(2,"0"),j=String(b.getDate()).padStart(2,"0");return`${k}-${D}-${j}`}return null},v=t.customerInfo;if(!v||!v.fullName||!v.phone||!v.email||!v.idCard)throw new Error("Thông tin khách hàng không đầy đủ. Vui lòng kiểm tra lại.");const y={checkIn:m(t.checkIn),checkOut:m(t.checkOut),nights:t.nights,fullName:v.fullName.trim(),phone:v.phone.trim(),email:v.email.trim(),idCard:v.idCard.trim(),room:{idHangPhong:t.room.idHangPhong,tenKieuPhong:t.room.tenKieuPhong,tenLoaiPhong:t.room.tenLoaiPhong,tenHangPhong:t.room.tenHangPhong,giaPhong:t.room.giaPhong,soLuongPhongDat:t.roomQuantity||1},totalAmount:t.totalAmount,depositAmount:t.depositAmount,paymentMethod:"PAYPAL",paymentStatus:"PAID",paymentData:d};console.log("Calling PayPal booking API with:",y);const g=await W.post("/api/phieu-dat/create-paypal",y);if(console.log("API response:",g.data),g.data.statusCode===200)J.success("Đặt phòng thành công!"),r&&r(g.data);else throw new Error(g.data.message||"Có lỗi xảy ra khi tạo booking")}catch(x){console.error("Booking creation error:",x),console.error("Error details:",((h=x.response)==null?void 0:h.data)||x.message);let m="Có lỗi xảy ra khi tạo đặt phòng";(p=(f=x.response)==null?void 0:f.data)!=null&&p.message?m+=": "+x.response.data.message:x.message&&(m+=": "+x.message),J.error(m),n&&n(x)}finally{o(!1)}},c=d=>{console.error("Payment error:",d),J.error("Có lỗi xảy ra khi thanh toán"),n&&n(d)},u=d=>{console.log("Payment cancelled:",d),J.info("Thanh toán đã bị hủy")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Thanh toán PayPal"}),a&&s.jsxs("button",{onClick:a,className:"flex items-center text-gray-600 hover:text-gray-800",children:[s.jsx(X0,{size:20,className:"mr-1"}),"Quay lại"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h5",{className:"font-medium text-blue-800 mb-2",children:"Thông tin thanh toán"}),s.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("p",{children:"• Bạn chỉ cần thanh toán 20% tổng tiền phòng để đặt cọc"}),s.jsx("p",{children:"• Số tiền còn lại sẽ thanh toán khi nhận phòng"}),s.jsx("p",{children:"• Tiền cọc sẽ được hoàn lại nếu hủy phòng trước 24h"}),s.jsx("p",{children:"• Sau khi thanh toán, nhân viên sẽ gọi xác nhận trong 15 phút"})]})]}),s.jsx("div",{className:"bg-white border rounded-lg p-6",children:s.jsx(U5,{amount:e,bookingData:t,onSuccess:l,onError:c,onCancel:u,disabled:i})}),s.jsx("div",{className:"text-center text-xs text-gray-500",children:s.jsx("p",{children:"Bằng cách thanh toán, bạn đồng ý với điều khoản sử dụng của chúng tôi"})})]})},W5=({bookingData:e,onBack:t,onComplete:r})=>{var f,p,x,m;const[n,a]=N.useState("paypal"),[i,o]=N.useState(!1),[l,c]=N.useState(!1),u=v=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v),d=v=>{c(!0),o(!1),console.log("Payment successful:",v),console.log("Booking data:",e),setTimeout(()=>{r()},3e3)},h=v=>{o(!1),console.error("Payment error:",v),alert("Có lỗi xảy ra trong quá trình thanh toán. Vui lòng thử lại.")};return l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Or,{className:"mx-auto text-green-500 mb-4",size:64}),s.jsx("h3",{className:"text-2xl font-bold text-green-600 mb-2",children:"Đặt phòng thành công!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Cảm ơn bạn đã đặt phòng. Chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất."}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 max-w-md mx-auto",children:s.jsx("p",{className:"text-sm text-green-700",children:"Mã đặt phòng của bạn sẽ được gửi qua email và SMS."})})]}):!e||!e.room||!e.customerInfo?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(os,{className:"mx-auto text-red-500 mb-4",size:64}),s.jsx("h3",{className:"text-xl font-bold text-red-600 mb-2",children:"Thiếu thông tin đặt phòng"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Vui lòng quay lại các bước trước để điền đầy đủ thông tin."}),s.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Quay lại"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(os,{className:"text-blue-600 mt-1",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Thông tin thanh toán"}),s.jsxs("div",{className:"space-y-2 text-blue-700 text-sm",children:[s.jsx("p",{children:"• Bạn chỉ cần thanh toán 20% tổng tiền phòng để đặt cọc"}),s.jsx("p",{children:"• Số tiền còn lại sẽ thanh toán khi nhận phòng"}),s.jsx("p",{children:"• Tiền cọc sẽ được hoàn lại nếu hủy phòng trước 24h"}),s.jsx("p",{children:"• Sau khi thanh toán, nhân viên sẽ gọi xác nhận trong 15 phút"})]})]})]})}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Chi tiết đặt phòng"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Phòng:"}),s.jsxs("span",{className:"font-medium",children:[e.room.tenKieuPhong," - ",e.room.tenLoaiPhong]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số lượng:"}),s.jsxs("span",{className:"font-medium",children:[e.roomQuantity||1," phòng"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Khách hàng:"}),s.jsx("span",{className:"font-medium",children:(f=e.customerInfo)==null?void 0:f.fullName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số điện thoại:"}),s.jsx("span",{className:"font-medium",children:(p=e.customerInfo)==null?void 0:p.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:(x=e.checkIn)==null?void 0:x.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-out:"}),s.jsx("span",{className:"font-medium",children:(m=e.checkOut)==null?void 0:m.toLocaleDateString("vi-VN")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số đêm:"}),s.jsxs("span",{className:"font-medium",children:[e.nights," đêm"]})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg",children:[s.jsx("span",{className:"text-gray-600",children:"Tổng tiền:"}),s.jsx("span",{className:"font-bold text-blue-600",children:u(e.totalAmount)})]}),s.jsxs("div",{className:"flex justify-between text-lg",children:[s.jsx("span",{className:"text-orange-600 font-medium",children:"Tiền đặt cọc (20%):"}),s.jsx("span",{className:"font-bold text-orange-600",children:u(e.depositAmount)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Phương thức thanh toán"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"paypal",checked:n==="paypal",onChange:v=>a(v.target.value),className:"mr-3"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-8 bg-blue-600 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"PayPal"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"PayPal"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Thanh toán an toàn với PayPal"})]})]})]}),s.jsxs("label",{className:"flex items-center p-4 border rounded-lg cursor-pointer hover:bg-gray-50 opacity-50",children:[s.jsx("input",{type:"radio",name:"paymentMethod",value:"card",disabled:!0,className:"mr-3"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gl,{className:"text-gray-400",size:32}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-400",children:"Thẻ tín dụng/ghi nợ"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Sắp ra mắt"})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx(jh,{size:16}),s.jsx("span",{children:"Thông tin thanh toán của bạn được bảo mật với mã hóa SSL 256-bit"})]}),n==="paypal"&&s.jsx(V5,{amount:e.depositAmount,bookingData:e,onSuccess:d,onError:h}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsx("button",{onClick:t,disabled:i,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Quay lại"}),n!=="paypal"&&s.jsx("button",{disabled:i,className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Đang xử lý...":`Thanh toán ${u(e.depositAmount)}`})]})]})},K5=({room:e,searchDates:t,onClose:r})=>{const[n,a]=N.useState(1),[i,o]=N.useState({room:e,checkIn:null,checkOut:null,guests:1,nights:0,roomQuantity:1,customerInfo:null,totalAmount:0,depositAmount:0}),l=()=>{switch(n){case 1:return s.jsx(H5,{room:e,bookingData:i,setBookingData:o,searchDates:t,onNext:()=>a(2),onClose:r});case 2:return s.jsx($5,{bookingData:i,setBookingData:o,onNext:()=>a(3),onBack:()=>a(1)});case 3:return s.jsx(W5,{bookingData:i,onBack:()=>a(2),onComplete:r});default:return null}},c=()=>{switch(n){case 1:return"Xác nhận thông tin đặt phòng";case 2:return"Thông tin liên lạc";case 3:return"Thanh toán đặt cọc";default:return""}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:c()}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("div",{className:`flex items-center ${n>=1?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=1?"bg-blue-600 text-white":"bg-gray-200"}`,children:"1"}),s.jsx("span",{className:"ml-2 text-sm",children:"Xác nhận"})]}),s.jsx("div",{className:`w-8 h-1 ${n>=2?"bg-blue-600":"bg-gray-200"}`}),s.jsxs("div",{className:`flex items-center ${n>=2?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=2?"bg-blue-600 text-white":"bg-gray-200"}`,children:"2"}),s.jsx("span",{className:"ml-2 text-sm",children:"Liên lạc"})]}),s.jsx("div",{className:`w-8 h-1 ${n>=3?"bg-blue-600":"bg-gray-200"}`}),s.jsxs("div",{className:`flex items-center ${n>=3?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${n>=3?"bg-blue-600 text-white":"bg-gray-200"}`,children:"3"}),s.jsx("span",{className:"ml-2 text-sm",children:"Thanh toán"})]})]})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx(Nr,{size:24})})]}),s.jsx("div",{className:"p-6",children:l()})]})})},R2=({searchResults:e,searchDates:t})=>{const[r,n]=N.useState(null),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),d=h=>{u(h),l(!0)};return!e||e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Không có kết quả tìm kiếm"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Kết quả tìm kiếm"}),s.jsxs("p",{className:"text-gray-600",children:["Tìm thấy ",e.length," hạng phòng phù hợp"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((h,f)=>s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-shadow duration-300",children:[s.jsx("div",{className:"relative",children:h.danhSachAnhUrl&&h.danhSachAnhUrl.length>0?s.jsx("img",{src:h.danhSachAnhUrl[0],alt:`${h.tenKieuPhong} - ${h.tenLoaiPhong}`,className:"w-full h-56 object-cover"}):s.jsx("div",{className:"w-full h-56 bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-400 text-sm",children:"Không có hình ảnh"})})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2",children:[h.tenKieuPhong," - ",h.tenLoaiPhong]}),s.jsx("div",{className:"text-right mb-3",children:(()=>{const p=B5(h);return p?s.jsxs("div",{children:[p.prefix&&s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:p.prefix}),s.jsx("div",{className:"text-xl font-bold text-blue-600",children:yr(p.price)}),s.jsx("div",{className:"text-xs text-gray-500",children:p.label})]}):null})()}),s.jsxs("div",{className:"flex gap-1 mb-3 flex-wrap",children:[s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:h.tenKieuPhong}),s.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:h.tenLoaiPhong})]}),s.jsx("p",{className:"text-gray-600 text-xs mb-3 line-clamp-2",children:h.moTaKieuPhong}),h.danhSachTienNghi&&h.danhSachTienNghi.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[h.danhSachTienNghi.slice(0,3).map((p,x)=>s.jsxs("span",{className:"flex items-center gap-1 text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded border",children:[s.jsx(fp,{amenity:p,className:"w-3 h-3"}),p.tenTn]},x)),h.danhSachTienNghi.length>3&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",h.danhSachTienNghi.length-3]})]}),s.jsxs("div",{className:"text-green-600 font-medium text-xs mb-3",children:[h.soPhongTrong,"/",h.tongSoPhong," phòng trống"]}),s.jsx("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-3 rounded-lg transition-colors duration-200 text-sm",onClick:()=>d(h),children:"Xem Chi Tiết & Đặt Phòng"})]})]},f))}),a&&r&&s.jsx(K5,{room:r,searchDates:t,onClose:()=>{i(!1),n(null)}}),o&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[c.tenKieuPhong," - ",c.tenLoaiPhong]}),s.jsx("button",{onClick:()=>{l(!1),u(null)},className:"text-gray-500 hover:text-gray-700 text-2xl w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100",children:"×"})]}),s.jsxs("div",{className:"flex h-[calc(90vh-80px)]",children:[s.jsxs("div",{className:"flex-[2] p-6 overflow-y-auto",children:[c.danhSachAnhUrl&&c.danhSachAnhUrl.length>0&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:c.danhSachAnhUrl[0],alt:c.tenKieuPhong,className:"w-full h-72 object-cover rounded-xl"})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Thông tin hạng phòng"}),s.jsx("p",{className:"text-gray-600 mb-3",children:c.moTaKieuPhong}),s.jsxs("div",{className:"inline-block bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[c.soPhongTrong,"/",c.tongSoPhong," phòng trống"]})]}),c.danhSachTienNghi&&c.danhSachTienNghi.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Tiện nghi"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-3",children:c.danhSachTienNghi.map((h,f)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[s.jsx(fp,{amenity:h,className:"w-4 h-4 text-blue-500",showTooltip:!0}),s.jsx("span",{className:"text-sm text-gray-700",children:h.tenTn})]},f))})]}),c.danhSachKhuyenMai&&c.danhSachKhuyenMai.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Khuyến mãi"}),s.jsx("div",{className:"space-y-2",children:c.danhSachKhuyenMai.map((h,f)=>s.jsx("div",{className:"bg-red-50 border border-red-200 p-3 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-red-700 font-medium",children:["🎉 ",h.moTaKm]}),h.phanTramGiam&&s.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",h.phanTramGiam,"%"]})]})},f))})]}),c.danhSachAnhUrl&&c.danhSachAnhUrl.length>1&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-3",children:"Hình ảnh khác"}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:c.danhSachAnhUrl.slice(1,9).map((h,f)=>s.jsx("img",{src:h,alt:`${c.tenKieuPhong} - ${f+2}`,className:"w-full h-32 object-cover rounded-lg hover:scale-105 transition-transform cursor-pointer"},f))})]})]})]}),s.jsxs("div",{className:"flex-1 bg-gray-50 p-6 flex flex-col min-w-[320px] max-w-[400px]",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 text-center",children:"Giá hạng phòng"}),s.jsx("div",{className:"text-center mb-6",children:c.priceSegments&&c.priceSegments.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Chi tiết giá"}),s.jsx("div",{className:"space-y-2",children:O2(c.priceSegments).map((h,f)=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-700",children:h.formattedDateRange}),s.jsx("div",{className:"text-xs text-gray-500",children:h.nightsText})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-medium text-blue-600",children:h.formattedPrice}),s.jsx("div",{className:"text-xs text-gray-500",children:"/đêm"})]})]},f))}),c.totalPrice&&s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-800",children:"Tổng cộng:"}),s.jsx("span",{className:"text-2xl font-bold text-blue-600",children:yr(c.totalPrice)})]})})]}):c.totalPrice?s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:yr(c.totalPrice)}),s.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"tổng cộng"}),c.averagePrice&&s.jsxs("div",{className:"text-sm text-gray-600",children:[yr(c.averagePrice)," / đêm"]})]}):c.giaHienTai?s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:yr(c.giaHienTai)}),s.jsx("div",{className:"text-sm text-gray-500",children:"/ đêm"})]}):null}),s.jsx("button",{onClick:()=>{l(!1),n(c),i(!0)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-xl transition-colors text-lg shadow-lg",children:"Đặt hạng phòng ngay"}),s.jsxs("div",{className:"mt-4 space-y-2 text-center text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Miễn phí hủy trong 24h"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Xác nhận ngay lập tức"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{children:"Thanh toán an toàn"})]})]})]})}),s.jsx("button",{onClick:()=>{l(!1),u(null)},className:"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-100 transition-colors",children:"Đóng"})]})]})]})})]})},M2={async getAllHangPhong(){var e;try{return(await W.get("/api/hang-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHotHangPhongThisMonth(){var e;try{return(await W.get("/api/hang-phong/hot-this-month")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getAllHangPhongWithPrices(){var e;try{return(await W.get("/api/hang-phong/all-with-prices")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHangPhongById(e){var t;try{return(await W.get(`/api/hang-phong/get-by-id/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getHangPhongByKieuPhong(e){var t;try{return(await W.get(`/api/hang-phong/by-kieu-phong/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getHangPhongByLoaiPhong(e){var t;try{return(await W.get(`/api/hang-phong/by-loai-phong/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getHangPhongByKieuAndLoai(e,t){var r;try{return(await W.get("/api/hang-phong/by-kieu-and-loai",{params:{idKp:e,idLp:t}})).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async getRoomPriceByKieuAndLoai(e,t){var r;try{return(await W.get("/api/hang-phong/room-price",{params:{idKp:e,idLp:t}})).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async createHangPhong(e){var t;try{return(await W.post("/api/hang-phong/create",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async updateHangPhong(e,t){var r;try{return(await W.put(`/api/hang-phong/update/${e}`,t)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async deleteHangPhong(e){var t;try{return(await W.delete(`/api/hang-phong/delete/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getAvailableHangPhong(){var e;try{return(await W.get("/api/hang-phong/available")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHangPhongWithAvailableRooms(){var e;try{return(await W.get("/api/hang-phong/with-available-rooms")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getHangPhongStatistics(){var e;try{return(await W.get("/api/hang-phong/statistics")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async searchHangPhong(e){var t;try{return(await W.get("/api/hang-phong/search",{params:{keyword:e}})).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async filterHangPhong(e,t){var r;try{return(await W.get("/api/hang-phong/filter",{params:{idKp:e,idLp:t}})).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}}},Y5=()=>{const[e,t]=N.useState([]),[r,n]=N.useState({checkIn:null,checkOut:null}),a=(h,f)=>{t(h),f&&n({checkIn:f.startDate,checkOut:f.endDate})},[i,o]=N.useState([]);N.useEffect(()=>{l()},[]);const l=async()=>{try{const h=await M2.getAllHangPhongWithPrices();if(h.statusCode===200&&h.hotHangPhongList){const f=h.hotHangPhongList.map(p=>({id:p.idHangPhong,name:`${p.tenKp} - ${p.tenLp}`,type:p.tenKp||"Standard",category:p.tenLp||"Single",price:p.giaHienTai||1e6,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV màn hình phẳng","Minibar"],description:p.moTa||`Hạng phòng ${p.tenKp} - ${p.tenLp}`,soLuotThue:p.soLuotThue||0}));o(f)}else o([{id:1,name:"Standard - Single",type:"Standard",category:"Single",price:11e5,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV","Minibar"],description:"Hạng phòng được yêu thích nhất",soLuotThue:15},{id:2,name:"Standard - Double",type:"Standard",category:"Double",price:13e5,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV","Minibar"],description:"Hạng phòng được yêu thích nhất",soLuotThue:12},{id:3,name:"Superior - Double",type:"Superior",category:"Double",price:15e5,image:"/api/placeholder/400/300",amenities:["WiFi miễn phí","Điều hòa","TV","Minibar"],description:"Hạng phòng được yêu thích nhất",soLuotThue:10}])}catch(h){console.error("Error fetching hot hang phong:",h),o([])}},[c,u]=N.useState([]);N.useEffect(()=>{d()},[]);const d=async()=>{try{const p=((await W.get("/api/services/dich-vu")).data.dichVuList||[]).slice(0,6).map(x=>({icon:Z0,title:x.tenDv,description:x.moTa||"Dịch vụ chất lượng cao"}));u(p)}catch(h){console.error("Error fetching services:",h),u([{icon:Z0,title:"Wifi miễn phí",description:"Kết nối internet tốc độ cao trong toàn bộ khách sạn"},{icon:VN,title:"Bãi đỗ xe",description:"Bãi đỗ xe rộng rãi, an toàn cho khách hàng"},{icon:wo,title:"Nhà hàng",description:"Nhà hàng phục vụ các món ăn ngon, đa dạng"},{icon:KN,title:"Phòng gym",description:"Phòng tập gym hiện đại với đầy đủ thiết bị"}])}};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("img",{src:"/home.webp",alt:"Hotel Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 hero-overlay"})]}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 text-center text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight animate-fadeInUp",children:["Khách Sạn Sang Trọng",s.jsx("span",{className:"block text-3xl md:text-5xl text-yellow-400 mt-2",children:"Trải Nghiệm Đẳng Cấp"})]}),s.jsx("p",{className:"text-xl md:text-2xl mb-12 text-gray-200 max-w-3xl mx-auto leading-relaxed animate-fadeInUp",style:{animationDelay:"0.2s"},children:"Chào mừng bạn đến với không gian nghỉ dưỡng tuyệt vời, nơi sự thoải mái và dịch vụ chất lượng cao hòa quyện cùng thiết kế hiện đại"}),s.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-2xl max-w-7xl mx-auto animate-fadeInUp",style:{animationDelay:"0.4s"},children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Tìm Kiếm Phòng Lý Tưởng"}),s.jsx(Lm,{handleSearchResult:a})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})]}),e.length>0&&s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsx("div",{className:"container",children:s.jsx(R2,{searchResults:e,searchDates:r})})}),s.jsx("section",{className:"py-20 bg-gradient-to-br from-blue-50 to-indigo-100",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-6",children:"Về Khách Sạn Của Chúng Tôi"}),s.jsx("p",{className:"text-lg text-gray-700 mb-8 leading-relaxed",children:"Với hơn 10 năm kinh nghiệm trong ngành khách sạn, chúng tôi tự hào mang đến cho quý khách những trải nghiệm nghỉ dưỡng đẳng cấp nhất. Từ thiết kế nội thất sang trọng đến dịch vụ chu đáo, mọi chi tiết đều được chăm chút tỉ mỉ."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(p_,{className:"w-6 h-6 text-amber-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Chất lượng 5 sao"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Được chứng nhận bởi các tổ chức uy tín"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(jh,{className:"w-6 h-6 text-emerald-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"An toàn tuyệt đối"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Hệ thống bảo mật hiện đại"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(lr,{className:"w-6 h-6 text-blue-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Phục vụ 24/7"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Luôn sẵn sàng hỗ trợ quý khách"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-white rounded-xl shadow-sm",children:[s.jsx(Hn,{className:"w-6 h-6 text-rose-500 mt-1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Vị trí đắc địa"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Trung tâm thành phố, giao thông thuận lợi"})]})]})]})]}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/abouthotel.jpg",alt:"Hotel Interior",className:"rounded-2xl shadow-2xl w-full h-auto"})})]})})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Hạng Phòng Hot Trong Tháng"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Top 3 hạng phòng được khách hàng yêu thích và đặt nhiều nhất trong tháng"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map((h,f)=>{var p;return s.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-lg card-hover animate-fadeInUp",style:{animationDelay:`${.1*f}s`},children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:h.image,alt:h.name,className:"w-full h-64 object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:h.name}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[(p=h.price)==null?void 0:p.toLocaleString("vi-VN"),"₫"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"/đêm"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:h.type}),s.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm rounded-full",children:h.category})]}),s.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:h.description}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:h.amenities.map((x,m)=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:x},m))}),s.jsx(Fe,{to:`/rooms/${h.id}`,className:"block w-full bg-primary-600 hover:bg-primary-700 text-white text-center py-3 rounded-xl font-semibold transition-colors duration-200 btn-glow",children:"Xem Chi Tiết & Đặt Phòng"})]})]},h.id)})}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(Fe,{to:"/rooms",className:"inline-flex items-center px-8 py-4 bg-white border-2 border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white rounded-xl font-semibold transition-all duration-200",children:["Xem Tất Cả Phòng",s.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Dịch Vụ Đẳng Cấp"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Những tiện ích và dịch vụ cao cấp được thiết kế để mang lại trải nghiệm hoàn hảo"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map((h,f)=>{const p=h.icon;return s.jsxs("div",{className:"group text-center p-6 rounded-2xl hover:bg-gray-50 transition-all duration-300",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:s.jsx(p,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:h.title}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.description})]},f)})})]})}),s.jsx("section",{className:"py-20 gradient-primary text-white",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Sẵn Sàng Đặt Phòng?"}),s.jsx("p",{className:"text-xl text-primary-100 mb-8 leading-relaxed",children:"Liên hệ với chúng tôi ngay hôm nay để được tư vấn và đặt phòng với giá tốt nhất. Đội ngũ chăm sóc khách hàng chuyên nghiệp luôn sẵn sàng hỗ trợ bạn 24/7."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(cs,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Hotline"}),s.jsx("div",{className:"text-primary-100",children:"1900 1234 (24/7)"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(ls,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Email"}),s.jsx("div",{className:"text-primary-100",children:"booking@hotel.com"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx(Hn,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Địa chỉ"}),s.jsx("div",{className:"text-primary-100",children:"123 Đường ABC, Quận 1, TP.HCM"})]})]})]})]}),s.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl p-8",children:[s.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"Đặt Phòng Ngay"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-4 rounded-xl transition-colors duration-200 btn-glow",children:"Gọi Ngay: 1900 1234"}),s.jsx("button",{className:"w-full bg-white bg-opacity-20 hover:bg-opacity-30 border-2 border-white text-white font-semibold py-4 rounded-xl transition-all duration-200 btn-glow",children:"Chat Trực Tuyến"}),s.jsx(Fe,{to:"/rooms",className:"block w-full bg-transparent border-2 border-white text-white hover:bg-white hover:text-primary-600 font-semibold py-4 rounded-xl text-center transition-all duration-200 btn-glow",children:"Xem Tất Cả Phòng"})]})]})]})})}),s.jsx("section",{className:"py-16 bg-gray-900 text-white",children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Đăng Ký Nhận Ưu Đãi"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Nhận thông tin về các chương trình khuyến mãi và ưu đãi đặc biệt từ chúng tôi"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 max-w-md mx-auto",children:[s.jsx("input",{type:"email",placeholder:"Nhập email của bạn",className:"flex-1 px-6 py-3 rounded-xl bg-gray-800 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:border-primary-500"}),s.jsx("button",{className:"px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-xl transition-colors duration-200 btn-glow",children:"Đăng Ký"})]})]})})})]})},z5=({roomSearchResults:e})=>{const t=Vn(),r=go.isAdmin();return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e&&e.length>0&&e.map(n=>s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsx("img",{className:"w-full h-48 object-cover rounded-lg mb-4",src:"/api/placeholder/400/300",alt:n.tenKp||"Room"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:["Phòng ",n.soPhong]}),s.jsxs("p",{className:"text-gray-600",children:[n.tenKp," - ",n.tenLp]}),s.jsxs("p",{className:"text-gray-600",children:["Tầng: ",n.tang]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Trạng thái: ",n.tenTrangThai]})]}),s.jsx("div",{className:"mt-4",children:r?s.jsx("button",{className:"btn-secondary w-full",onClick:()=>t(`/admin/rooms/edit/${n.soPhong}`),children:"Chỉnh sửa phòng"}):s.jsx("button",{className:"btn-primary w-full",onClick:()=>t(`/rooms/${n.soPhong}`),children:"Xem chi tiết / Đặt phòng"})})]},n.soPhong))})},wi=({itemsPerPage:e,totalItems:t,currentPage:r,paginate:n})=>{const a=[],i=Math.ceil(t/e);for(let c=1;c<=i;c++)a.push(c);const o=()=>{r>1&&n(r-1)},l=()=>{r<i&&n(r+1)};return i<=1?null:s.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[s.jsxs("button",{onClick:o,disabled:r===1,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(j_,{className:"w-4 h-4 mr-1"}),"Trước"]}),s.jsx("div",{className:"flex space-x-1",children:a.map(c=>s.jsx("button",{onClick:()=>n(c),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${r===c?"bg-primary-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-100"}`,children:c},c))}),s.jsxs("button",{onClick:l,disabled:r===i,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:["Sau",s.jsx(WN,{className:"w-4 h-4 ml-1"})]})]})},q5=()=>{cC();const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(1),[o]=N.useState(9);N.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const p=await _t.getAvailableRooms();p.statusCode===200&&t(p.phongList||[])}catch(p){console.error("Error fetching rooms:",p)}finally{n(!1)}},c=p=>{t(p),i(1)},u=a*o,d=u-o,h=e.slice(d,u),f=p=>i(p);return r?s.jsx("div",{className:"container py-8",children:s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})})}):s.jsxs("div",{className:"container py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Danh sách phòng"}),s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tìm kiếm phòng"}),s.jsx(Lm,{handleSearchResult:c})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-600",children:["Hiển thị ",h.length," trong tổng số ",e.length," phòng"]})}),e.length>0?s.jsxs(s.Fragment,{children:[s.jsx(z5,{roomSearchResults:h}),s.jsx(wi,{itemsPerPage:o,totalItems:e.length,currentPage:a,paginate:f})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"Không tìm thấy phòng nào"})})]})},Q5=()=>{const{id:e}=qw();return s.jsxs("div",{className:"container py-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:["Chi tiết phòng #",e]}),s.jsx("p",{className:"text-gray-600",children:"Trang chi tiết phòng đang được phát triển..."})]})},G5=()=>{var f,p;const[e,t]=N.useState({email:"",password:""}),[r,n]=N.useState(!1),[a,i]=N.useState(!1),{login:o}=kn(),l=Vn(),u=((p=(f=$s().state)==null?void 0:f.from)==null?void 0:p.pathname)||"/",d=x=>{t({...e,[x.target.name]:x.target.value})},h=async x=>{x.preventDefault(),i(!0);try{const m={email:e.email,matKhau:e.password},v=await o(m);if(v.success){J.success("Đăng nhập thành công!");const y=v.user;let g=u;if(u==="/")switch(y.role){case"ADMIN":g="/admin";break;case"EMPLOYEE":g="/staff";break;case"CUSTOMER":g="/customer";break;default:g="/"}l(g,{replace:!0})}else J.error(v.message||"Đăng nhập thất bại")}catch{J.error("Có lỗi xảy ra khi đăng nhập")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"H"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đăng nhập vào tài khoản"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoặc"," ",s.jsx(Fe,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"tạo tài khoản mới"})]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",name:"email",type:"text",required:!0,value:e.email,onChange:d,className:"input mt-1",placeholder:"Nhập email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:e.password,onChange:d,className:"input pr-10",placeholder:"Nhập mật khẩu"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?s.jsx(bo,{className:"h-5 w-5 text-gray-400"}):s.jsx(Mr,{className:"h-5 w-5 text-gray-400"})})]})]})]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"text-sm",children:s.jsx(Fe,{to:"/forgot-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Quên mật khẩu?"})})}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full flex justify-center items-center",children:a?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):s.jsxs(s.Fragment,{children:[s.jsx(E_,{className:"w-5 h-5 mr-2"}),"Đăng nhập"]})})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Chưa có tài khoản?"," ",s.jsx(Fe,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Đăng ký ngay"})]})})]})]})})},X5=()=>{const e=Vn(),[t,r]=N.useState(!1),[n,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState({cccd:"",ho:"",ten:"",sdt:"",email:"",diaChi:"",maSoThue:"",matKhau:"",confirmPassword:""}),[u,d]=N.useState({}),h=x=>{const{name:m,value:v}=x.target;c(y=>({...y,[m]:v})),u[m]&&d(y=>({...y,[m]:""}))},f=()=>{const x={};l.cccd.trim()||(x.cccd="CCCD/CMND là bắt buộc"),l.ho.trim()||(x.ho="Họ là bắt buộc"),l.ten.trim()||(x.ten="Tên là bắt buộc"),l.email.trim()||(x.email="Email là bắt buộc"),l.sdt.trim()||(x.sdt="Số điện thoại là bắt buộc"),l.matKhau||(x.matKhau="Mật khẩu là bắt buộc"),l.confirmPassword||(x.confirmPassword="Xác nhận mật khẩu là bắt buộc");const m=/^[0-9]{9,12}$/;l.cccd&&!m.test(l.cccd)&&(x.cccd="CCCD/CMND phải có 9-12 chữ số");const v=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;l.email&&!v.test(l.email)&&(x.email="Email không hợp lệ");const y=/^[0-9]{10,11}$/;return l.sdt&&!y.test(l.sdt)&&(x.sdt="Số điện thoại phải có 10-11 chữ số"),l.matKhau&&l.matKhau.length<6&&(x.matKhau="Mật khẩu phải có ít nhất 6 ký tự"),l.matKhau!==l.confirmPassword&&(x.confirmPassword="Mật khẩu xác nhận không khớp"),d(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!f()){o(!0);try{const{confirmPassword:m,...v}=l,y=await go.register(v);J.success("Đăng ký thành công! Vui lòng đăng nhập."),e("/login")}catch(m){console.error("Registration error:",m),J.error(m.message||"Có lỗi xảy ra khi đăng ký")}finally{o(!1)}}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"H"})})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đăng ký tài khoản"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Hoặc"," ",s.jsx(Fe,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"đăng nhập nếu đã có tài khoản"})]})]}),s.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cccd",className:"block text-sm font-medium text-gray-700",children:"CCCD/CMND *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"cccd",name:"cccd",type:"text",value:l.cccd,onChange:h,className:`input ${u.cccd?"border-red-500":""}`,placeholder:"Nhập số CCCD/CMND"}),s.jsx(Pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.cccd&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.cccd})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ho",className:"block text-sm font-medium text-gray-700",children:"Họ *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"ho",name:"ho",type:"text",value:l.ho,onChange:h,className:`input ${u.ho?"border-red-500":""}`,placeholder:"Nhập họ"}),s.jsx(Pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.ho&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.ho})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ten",className:"block text-sm font-medium text-gray-700",children:"Tên *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"ten",name:"ten",type:"text",value:l.ten,onChange:h,className:`input ${u.ten?"border-red-500":""}`,placeholder:"Nhập tên"}),s.jsx(Pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.ten&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.ten})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"email",name:"email",type:"email",value:l.email,onChange:h,className:`input ${u.email?"border-red-500":""}`,placeholder:"Nhập email"}),s.jsx(ls,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sdt",className:"block text-sm font-medium text-gray-700",children:"Số điện thoại *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"sdt",name:"sdt",type:"tel",value:l.sdt,onChange:h,className:`input ${u.sdt?"border-red-500":""}`,placeholder:"Nhập số điện thoại"}),s.jsx(cs,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]}),u.sdt&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.sdt})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"diaChi",className:"block text-sm font-medium text-gray-700",children:"Địa chỉ"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"diaChi",name:"diaChi",type:"text",value:l.diaChi,onChange:h,className:"input",placeholder:"Nhập địa chỉ"}),s.jsx(Hn,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"maSoThue",className:"block text-sm font-medium text-gray-700",children:"Mã số thuế"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"maSoThue",name:"maSoThue",type:"text",value:l.maSoThue,onChange:h,className:"input",placeholder:"Nhập mã số thuế (tùy chọn)"}),s.jsx(Pt,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"matKhau",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"matKhau",name:"matKhau",type:t?"text":"password",value:l.matKhau,onChange:h,className:`input ${u.matKhau?"border-red-500":""}`,placeholder:"Nhập mật khẩu"}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 h-4 w-4 text-gray-400",onClick:()=>r(!t),children:t?s.jsx(bo,{}):s.jsx(Mr,{})})]}),u.matKhau&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.matKhau})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Xác nhận mật khẩu *"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",value:l.confirmPassword,onChange:h,className:`input ${u.confirmPassword?"border-red-500":""}`,placeholder:"Nhập lại mật khẩu"}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 h-4 w-4 text-gray-400",onClick:()=>a(!n),children:n?s.jsx(bo,{}):s.jsx(Mr,{})})]}),u.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword})]})]}),s.jsx("div",{children:s.jsxs("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,i?"Đang đăng ký...":"Đăng ký"]})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-600",children:["Bằng việc đăng ký, bạn đồng ý với"," ",s.jsx(Fe,{to:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Điều khoản dịch vụ"})," ","và"," ",s.jsx(Fe,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Chính sách bảo mật"})," ","của chúng tôi."]})})]})]})})},J5=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(!1),[a,i]=N.useState(!1),o=async l=>{var c,u;if(l.preventDefault(),!e){J.error("Vui lòng nhập email");return}if(!e.includes("@")){J.error("Email không hợp lệ");return}n(!0);try{const d=await W.post("/auth/forgot-password",null,{params:{email:e}});d.data.statusCode===200?(i(!0),J.success("Link đặt lại mật khẩu đã được gửi đến email của bạn")):J.error(d.data.message||"Có lỗi xảy ra")}catch(d){console.error("Forgot password error:",d),J.error(((u=(c=d.response)==null?void 0:c.data)==null?void 0:u.message)||"Có lỗi xảy ra khi gửi email")}finally{n(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx(ls,{className:"h-6 w-6 text-green-600"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Email đã được gửi"}),s.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Chúng tôi đã gửi link đặt lại mật khẩu đến email ",s.jsx("strong",{children:e})]}),s.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"Vui lòng kiểm tra email và nhấn vào link để đặt lại mật khẩu. Link sẽ hết hạn sau 1 giờ."}),s.jsx("div",{className:"mt-6",children:s.jsxs(Fe,{to:"/login",className:"flex items-center justify-center space-x-2 w-full px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[s.jsx(X0,{className:"w-4 h-4"}),s.jsx("span",{children:"Quay lại đăng nhập"})]})})]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Quên mật khẩu"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Nhập email của bạn để nhận link đặt lại mật khẩu"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("form",{className:"space-y-6",onSubmit:o,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:l=>t(l.target.value),className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Nhập email của bạn"}),s.jsx(ls,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:r?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Đang gửi..."})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I_,{className:"w-4 h-4"}),s.jsx("span",{children:"Gửi link đặt lại mật khẩu"})]})})}),s.jsx("div",{className:"text-center",children:s.jsxs(Fe,{to:"/login",className:"flex items-center justify-center space-x-2 text-sm text-primary-600 hover:text-primary-500",children:[s.jsx(X0,{className:"w-4 h-4"}),s.jsx("span",{children:"Quay lại đăng nhập"})]})})]})})})]})},Z5=()=>{const{token:e}=qw(),t=Vn(),[r,n]=N.useState({newPassword:"",confirmPassword:""}),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[d,h]=N.useState(!1);N.useEffect(()=>{e||(J.error("Token không hợp lệ"),t("/login"))},[e,t]);const f=m=>{const{name:v,value:y}=m.target;n(g=>({...g,[v]:y}))},p=m=>m.length<6?"Mật khẩu phải có ít nhất 6 ký tự":null,x=async m=>{var w,b;m.preventDefault();const{newPassword:v,confirmPassword:y}=r;if(!v||!y){J.error("Vui lòng nhập đầy đủ thông tin");return}const g=p(v);if(g){J.error(g);return}if(v!==y){J.error("Mật khẩu xác nhận không khớp");return}u(!0);try{const k=await W.post("/auth/reset-password",null,{params:{token:e,newPassword:v}});k.data.statusCode===200?(h(!0),J.success("Đặt lại mật khẩu thành công!"),setTimeout(()=>{t("/login")},3e3)):J.error(k.data.message||"Có lỗi xảy ra")}catch(k){console.error("Reset password error:",k),J.error(((b=(w=k.response)==null?void 0:w.data)==null?void 0:b.message)||"Có lỗi xảy ra khi đặt lại mật khẩu")}finally{u(!1)}};return d?s.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:s.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:s.jsx(Or,{className:"h-6 w-6 text-green-600"})}),s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đặt lại mật khẩu thành công"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Mật khẩu của bạn đã được cập nhật thành công."}),s.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"Bạn sẽ được chuyển hướng đến trang đăng nhập trong 3 giây..."}),s.jsx("div",{className:"mt-6",children:s.jsx(Fe,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Đăng nhập ngay"})})]})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[s.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Đặt lại mật khẩu"}),s.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Nhập mật khẩu mới của bạn"})]}),s.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:s.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:s.jsxs("form",{className:"space-y-6",onSubmit:x,children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Mật khẩu mới"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"newPassword",name:"newPassword",type:a?"text":"password",required:!0,value:r.newPassword,onChange:f,className:"appearance-none block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Nhập mật khẩu mới"}),s.jsx(J0,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),s.jsx("button",{type:"button",className:"absolute right-3 top-2.5",onClick:()=>i(!a),children:a?s.jsx(bo,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mr,{className:"h-4 w-4 text-gray-400"})})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Mật khẩu phải có ít nhất 6 ký tự"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Xác nhận mật khẩu"}),s.jsxs("div",{className:"mt-1 relative",children:[s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",required:!0,value:r.confirmPassword,onChange:f,className:"appearance-none block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Nhập lại mật khẩu mới"}),s.jsx(J0,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),s.jsx("button",{type:"button",className:"absolute right-3 top-2.5",onClick:()=>l(!o),children:o?s.jsx(bo,{className:"h-4 w-4 text-gray-400"}):s.jsx(Mr,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Đang cập nhật..."})]}):"Đặt lại mật khẩu"})}),s.jsx("div",{className:"text-center",children:s.jsx(Fe,{to:"/login",className:"text-sm text-primary-600 hover:text-primary-500",children:"Quay lại đăng nhập"})})]})})})]})},Nl={getEmployeeByEmail:async e=>{try{let t;return e&&e.includes("@")?t=`/api/nhanvien/my-info/${encodeURIComponent(e)}`:t=`/api/nhanvien/get-by-username/${encodeURIComponent(e)}`,(await W.get(t)).data}catch(t){throw console.error("Error fetching employee by email:",t),t}},getEmployeeById:async e=>{try{return(await W.get(`/api/nhanvien/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching employee by ID:",t),t}},getAllEmployees:async()=>{try{return(await W.get("/api/nhanvien/all")).data}catch(e){throw console.error("Error fetching all employees:",e),e}},createEmployee:async e=>{try{return(await W.post("/api/nhanvien/register",e)).data}catch(t){throw console.error("Error creating employee:",t),t}},getAllDepartments:async()=>{try{return(await W.get("/api/bo-phan/all")).data}catch(e){throw console.error("Error fetching departments:",e),e}},getAllRoles:async()=>{try{return(await W.get("/api/nhom-quyen/all")).data}catch(e){throw console.error("Error fetching roles:",e),e}}},Ah=()=>{const[e,t]=N.useState(!1),[r,n]=N.useState(null),{user:a,logout:i,setUser:o}=kn(),l=Vn(),c=h=>{try{const p=h.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),x=decodeURIComponent(atob(p).split("").map(function(m){return"%"+("00"+m.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(x)}catch(f){return console.error("Error decoding JWT:",f),null}};N.useEffect(()=>{(async()=>{if(!a||r)return;let f=a==null?void 0:a.email;if(!f){const p=localStorage.getItem("token")||(a==null?void 0:a.token);if(p){const x=c(p);f=x==null?void 0:x.sub}}if(f&&(a==null?void 0:a.role)==="EMPLOYEE")try{const p=await Nl.getEmployeeByEmail(f);if(p.statusCode===200&&p.nhanVien){const x=p.nhanVien;if(n(x),o&&typeof a=="object"){const m={...a,id:x.idNv||x.maNhanVien||x.id,idNv:x.idNv,maNhanVien:x.maNhanVien,hoTen:x.hoTen||x.tenNhanVien||a.hoTen,soDienThoai:x.soDienThoai||a.soDienThoai,diaChi:x.diaChi||a.diaChi,employeeData:x};o(m),localStorage.setItem("user",JSON.stringify(m))}}}catch(p){console.error("Error fetching employee data for header:",p)}})()},[a,r,o]);const u=()=>{i(),l("/")},d=()=>r&&(r.hoTen||r.tenNhanVien)||yo(a);return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Fe,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Hotel Booking"})]}),s.jsx("span",{className:"text-gray-400",children:"|"}),s.jsxs("span",{className:"text-gray-600",children:[G0(a==null?void 0:a.role)," Dashboard"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(y_,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-3 p-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"w-4 h-4 text-primary-600"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm font-medium",children:d()}),s.jsx("div",{className:"text-xs text-gray-500",children:G0(a==null?void 0:a.role)})]})]}),e&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:d()}),s.jsx("div",{className:"text-xs text-gray-500",children:a==null?void 0:a.email}),r&&s.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",r.idNv||r.maNhanVien]})]}),s.jsxs(Fe,{to:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:[s.jsx(bh,{className:"w-4 h-4 inline mr-2"}),"Thông tin cá nhân"]}),s.jsx(Fe,{to:"/",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>t(!1),children:"Về trang chủ"}),s.jsxs("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx(YN,{className:"w-4 h-4 inline mr-2"}),"Đăng xuất"]})]})]})]})]})})})},F2=()=>s.jsx("footer",{className:"bg-gray-900 text-white",children:s.jsxs("div",{className:"container py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"col-span-1 md:col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),s.jsx("span",{className:"text-xl font-bold",children:"HOTEL BOOKING"})]}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Hệ thống quản lý đặt phòng khách sạn hiện đại, mang đến trải nghiệm tuyệt vời cho khách hàng."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(cs,{className:"w-4 h-4"}),s.jsx("span",{children:"+84 818 181 948"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(ls,{className:"w-4 h-4"}),s.jsx("span",{children:"booking@hotel.com"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liên kết nhanh"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Fe,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Trang chủ"})}),s.jsx("li",{children:s.jsx(Fe,{to:"/rooms",className:"text-gray-300 hover:text-white transition-colors",children:"Phòng"})}),s.jsx("li",{children:s.jsx(Fe,{to:"/login",className:"text-gray-300 hover:text-white transition-colors",children:"Đăng nhập"})}),s.jsx("li",{children:s.jsx(Fe,{to:"/register",className:"text-gray-300 hover:text-white transition-colors",children:"Đăng ký"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Liên hệ"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start space-x-2 text-gray-300",children:[s.jsx(Hn,{className:"w-4 h-4 mt-1"}),s.jsx("span",{children:"97 Man Thiện, Hiệp Phú, Thủ Đức, Hồ Chí Minh"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(cs,{className:"w-4 h-4"}),s.jsx("span",{children:"+84 818 181 948"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[s.jsx(ls,{className:"w-4 h-4"}),s.jsx("span",{children:"booking@hotel.com"})]})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-300",children:s.jsx("p",{children:"© 2025 Hotel Booking Management System. All rights reserved."})})]})}),eA=()=>{const{user:e,setUser:t}=kn(),[r,n]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState({hoTen:"",email:"",soDienThoai:"",diaChi:"",ngaySinh:"",gioiTinh:"",cccd:""}),[d,h]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""});N.useEffect(()=>{e&&f()},[e]);const f=async()=>{try{i(!0);let y;if(e.role==="CUSTOMER")y=`/api/khach-hang/get-by-email/${encodeURIComponent(e.email)}`;else{const w=e.email||e.username;w&&w.includes("@")?y=`/api/nhanvien/my-info/${encodeURIComponent(w)}`:y=`/api/nhanvien/get-by-username/${encodeURIComponent(w)}`}const g=await W.get(y);if(g.data.statusCode===200){const w=g.data.nhanVien||g.data.khachHang||{};u({hoTen:w.hoTen||`${w.ho||""} ${w.ten||""}`.trim()||e.hoTen||"",email:w.email||e.email||"",soDienThoai:w.sdt||w.soDienThoai||"",diaChi:w.diaChi||"",ngaySinh:w.ngaySinh||"",gioiTinh:w.phai||w.gioiTinh||"",cccd:w.cccd||""})}else u({hoTen:e.hoTen||"",email:e.email||"",soDienThoai:e.soDienThoai||e.phone||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||"",gioiTinh:e.gioiTinh||e.gender||"",cccd:e.cccd||e.idCard||""})}catch(y){console.error("Error fetching profile:",y),u({hoTen:e.hoTen||"",email:e.email||"",soDienThoai:e.soDienThoai||e.phone||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||"",gioiTinh:e.gioiTinh||e.gender||"",cccd:e.cccd||e.idCard||""})}finally{i(!1)}},p=y=>{const{name:g,value:w}=y.target;u(b=>({...b,[g]:w}))},x=y=>{const{name:g,value:w}=y.target;h(b=>({...b,[g]:w}))},m=async()=>{try{i(!0);let y,g;if(e.role==="CUSTOMER"){const b=e.cccd||e.id;if(!b){J.error("Không tìm thấy CCCD của khách hàng");return}y=`/api/khach-hang/update/${b}`,g={ho:c.hoTen.split(" ").slice(0,-1).join(" ")||"",ten:c.hoTen.split(" ").slice(-1)[0]||"",sdt:c.soDienThoai,email:c.email,diaChi:c.diaChi,ngaySinh:c.ngaySinh,gioiTinh:c.gioiTinh}}else{const b=e.idNv||e.id;if(!b){J.error("Không tìm thấy ID nhân viên");return}y=`/api/nhanvien/update-profile/${b}`,g={ho:c.hoTen.split(" ").slice(0,-1).join(" ")||"",ten:c.hoTen.split(" ").slice(-1)[0]||"",sdt:c.soDienThoai,email:c.email,diaChi:c.diaChi,ngaySinh:c.ngaySinh,phai:c.gioiTinh}}const w=await W.put(y,g);if(w.data.statusCode===200){const b={...e,...c};t(b),localStorage.setItem("user",JSON.stringify(b)),J.success("Cập nhật thông tin thành công!"),n(!1)}else J.error(w.data.message||"Cập nhật thất bại")}catch(y){console.error("Update profile error:",y),J.error("Có lỗi xảy ra khi cập nhật thông tin")}finally{i(!1)}},v=async()=>{var y,g;if(d.newPassword!==d.confirmPassword){J.error("Mật khẩu xác nhận không khớp");return}if(d.newPassword.length<6){J.error("Mật khẩu mới phải có ít nhất 6 ký tự");return}try{if(i(!0),e.role==="CUSTOMER"){J.error("Chức năng đổi mật khẩu cho khách hàng đang được phát triển");return}const w=e.idNv||e.id;if(!w){J.error("Không tìm thấy ID nhân viên");return}const b=`/api/nhanvien/change-password/${w}`,k=await W.put(b,null,{params:{oldPassword:d.currentPassword,newPassword:d.newPassword}});k.data.statusCode===200?(J.success("Đổi mật khẩu thành công!"),l(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})):J.error(k.data.message||"Đổi mật khẩu thất bại")}catch(w){console.error("Change password error:",w),J.error(((g=(y=w.response)==null?void 0:y.data)==null?void 0:g.message)||"Có lỗi xảy ra khi đổi mật khẩu")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Ah,{}),s.jsx("main",{className:"flex-1 bg-gray-50 py-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-6 space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx(Pt,{className:"w-8 h-8 text-primary-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:yo(e)}),s.jsx("p",{className:"text-gray-600",children:G0(e==null?void 0:e.role)})]})]}),s.jsx("div",{className:"flex space-x-3",children:r?s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:m,disabled:a,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[s.jsx(Nm,{className:"w-4 h-4"}),s.jsx("span",{children:"Lưu"})]}),s.jsxs("button",{onClick:()=>{n(!1),u({hoTen:e.hoTen||"",email:e.email||"",soDienThoai:e.soDienThoai||e.phone||"",diaChi:e.diaChi||e.address||"",ngaySinh:e.ngaySinh||e.dateOfBirth||"",gioiTinh:e.gioiTinh||e.gender||"",cccd:e.cccd||e.idCard||""})},className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsx("span",{children:"Hủy"})]})]}):s.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[s.jsx(Tn,{className:"w-4 h-4"}),s.jsx("span",{children:"Chỉnh sửa"})]})})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Thông tin cá nhân"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ và tên"}),r?s.jsx("input",{type:"text",name:"hoTen",value:c.hoTen,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Pt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.hoTen||"Chưa cập nhật"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(ls,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.email||"Chưa cập nhật"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),r?s.jsx("input",{type:"tel",name:"soDienThoai",value:c.soDienThoai,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(cs,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.soDienThoai||"Chưa cập nhật"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),r?s.jsx("input",{type:"text",name:"diaChi",value:c.diaChi,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Hn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.diaChi||"Chưa cập nhật"})]})]}),e.role!=="CUSTOMER"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),r?s.jsx("input",{type:"date",name:"ngaySinh",value:c.ngaySinh,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.ngaySinh||"Chưa cập nhật"})]})]}),e.role!=="CUSTOMER"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính"}),r?s.jsxs("select",{name:"gioiTinh",value:c.gioiTinh,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[s.jsx("option",{value:"",children:"Chọn giới tính"}),s.jsx("option",{value:"Nam",children:"Nam"}),s.jsx("option",{value:"Nữ",children:"Nữ"}),s.jsx("option",{value:"Khác",children:"Khác"})]}):s.jsxs("div",{className:"flex items-center space-x-2 text-gray-900",children:[s.jsx(Pt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{children:c.gioiTinh||"Chưa cập nhật"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Đổi mật khẩu"}),s.jsxs("button",{onClick:()=>l(!o),className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[o?s.jsx(bo,{className:"w-4 h-4"}):s.jsx(Mr,{className:"w-4 h-4"}),s.jsx("span",{children:o?"Ẩn":"Hiển thị"})]})]}),o&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),s.jsx("input",{type:"password",name:"currentPassword",value:d.currentPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),s.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),s.jsx("input",{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:x,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),s.jsx("button",{onClick:v,disabled:a,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50",children:"Đổi mật khẩu"})]})]})]})}),s.jsx(F2,{})]})},tA=()=>{const{user:e}=kn(),[t,r]=N.useState({totalBookings:0,activeBookings:0,completedBookings:0,cancelledBookings:0}),[n,a]=N.useState([]);N.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await W.get("/api/dashboard/customer/stats"),u=await W.get("/api/phieu-dat/khach-hang/recent");r(c.data.stats||{}),a(u.data.bookings||[])}catch(c){console.error("Error fetching dashboard data:",c)}},o=c=>{switch(c){case"confirmed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=c=>{switch(c){case"confirmed":return"Đã xác nhận";case"pending":return"Chờ xác nhận";case"cancelled":return"Đã hủy";default:return"Không xác định"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 rounded-lg p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Chào mừng, ",yo(e),"!"]}),s.jsx("p",{className:"text-primary-100",children:"Quản lý đặt phòng và thông tin cá nhân của bạn"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(ft,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng đặt phòng"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalBookings})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Or,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang hoạt động"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.activeBookings})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(lr,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hoàn thành"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.completedBookings})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(vo,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã hủy"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.cancelledBookings})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Fe,{to:"/customer/booking",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-primary-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(ft,{className:"w-8 h-8 text-primary-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Đặt phòng mới"}),s.jsx("p",{className:"text-gray-600",children:"Tìm và đặt phòng phù hợp với nhu cầu"})]})}),s.jsx(Fe,{to:"/customer/history",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(lr,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Lịch sử đặt phòng"}),s.jsx("p",{className:"text-gray-600",children:"Xem tất cả đặt phòng đã thực hiện"})]})}),s.jsx(Fe,{to:"/customer/profile",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Pt,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Thông tin cá nhân"}),s.jsx("p",{className:"text-gray-600",children:"Cập nhật thông tin và mật khẩu"})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Đặt phòng gần đây"}),s.jsx(Fe,{to:"/customer/history",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(c=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Phòng ",c.roomNumber]}),s.jsx("div",{className:"text-sm text-gray-500",children:c.roomType})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[c.checkIn," - ",c.checkOut]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(c.status)}`,children:l(c.status)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[c.total.toLocaleString("vi-VN")," VNĐ"]})]},c.id))})]})})]})]})},rA=()=>{Vn();const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(1),[o]=N.useState(6),[l,c]=N.useState({checkIn:null,checkOut:null});N.useEffect(()=>{u()},[]);const u=async()=>{try{n(!0);const m=await _t.getAvailableRooms();m.statusCode===200&&t(m.phongList||[])}catch(m){console.error("Error fetching rooms:",m)}finally{n(!1)}},d=(m,v)=>{t(m),i(1),v&&c({checkIn:v.startDate,checkOut:v.endDate})},h=a*o,f=h-o,p=e.slice(f,h),x=m=>i(m);return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Tìm và đặt phòng phù hợp với nhu cầu của bạn"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[s.jsx(Hn,{className:"w-5 h-5"}),s.jsx("span",{children:"Hotel Booking"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(us,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm phòng"})]}),s.jsx(Lm,{handleSearchResult:d})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Kết quả (",e.length," phòng)"]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Hiển thị ",p.length," trong tổng số ",e.length," phòng"]})]}),e.length>0?s.jsxs(s.Fragment,{children:[s.jsx(R2,{searchResults:p,searchDates:l}),s.jsx(wi,{itemsPerPage:o,totalItems:e.length,currentPage:a,paginate:x})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(us,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Thử thay đổi tiêu chí tìm kiếm"})]})]})]})},nA=()=>{const{user:e}=kn(),[t,r]=N.useState([]),[n,a]=N.useState([]),[i,o]=N.useState(!0),[l,c]=N.useState(1),[u]=N.useState(10),[d,h]=N.useState(""),[f,p]=N.useState("");N.useEffect(()=>{e&&x()},[e]);const x=async()=>{var M,Y;try{if(o(!0),console.log("Current user data:",e),!e){console.error("User not found"),o(!1);return}const z=e.cccd||e.id||e.maKhachHang||e.userId;if(!z){console.error("CCCD not found in user data:",e),o(!1);return}console.log("Fetching booking history for CCCD:",z);const de=await W.get(`/api/phieu-dat/khach-hang/${z}`);console.log("API response:",de.data);const X=de.data.phieuDatList||[];console.log("Booking data:",X),console.log("First booking sample:",X[0]),X[0]&&(console.log("Available fields in booking:",Object.keys(X[0])),console.log("Status value:",X[0].trangThai),console.log("Room info:",{tenKp:X[0].tenKp,tenLp:X[0].tenLp,idHangPhong:X[0].idHangPhong}),console.log("Date info:",{ngayDat:X[0].ngayDat,ngayBdThue:X[0].ngayBdThue,ngayDi:X[0].ngayDi}),console.log("Money info:",{soTienCoc:X[0].soTienCoc})),r(X),a(X)}catch(z){console.error("Error fetching booking history:",z),console.error("Error details:",((M=z.response)==null?void 0:M.data)||z.message),((Y=z.response)==null?void 0:Y.status)===403&&console.error("Access denied - check authentication")}finally{o(!1)}},m=M=>{switch(M){case"completed":case"Đã hoàn thành":case"Hoàn thành":case"COMPLETED":return"text-green-600 bg-green-100";case"confirmed":case"Đã xác nhận":case"Xác nhận":case"CONFIRMED":return"text-blue-600 bg-blue-100";case"pending":case"Chờ xác nhận":case"PENDING":return"text-yellow-600 bg-yellow-100";case"cancelled":case"Đã hủy":case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},v=M=>{switch(M){case"completed":case"COMPLETED":case"Hoàn thành":return"Đã hoàn thành";case"confirmed":case"CONFIRMED":case"Xác nhận":return"Xác nhận";case"pending":case"PENDING":case"Chờ xác nhận":return"Chờ xác nhận";case"cancelled":case"CANCELLED":case"Đã hủy":return"Đã hủy";default:return M||"Không xác định"}},y=M=>{switch(M){case"completed":case"COMPLETED":case"Đã hoàn thành":case"Hoàn thành":return s.jsx(Or,{className:"w-4 h-4"});case"confirmed":case"CONFIRMED":case"Đã xác nhận":case"Xác nhận":return s.jsx(ft,{className:"w-4 h-4"});case"pending":case"PENDING":case"Chờ xác nhận":return s.jsx(lr,{className:"w-4 h-4"});case"cancelled":case"CANCELLED":case"Đã hủy":return s.jsx(vo,{className:"w-4 h-4"});default:return s.jsx(lr,{className:"w-4 h-4"})}},g=M=>{h(M),b(M,f)},w=M=>{p(M),b(d,M)},b=(M,Y)=>{let z=[...t];if(M&&(z=z.filter(de=>de.status===M)),Y){const de=new Date(Y);z=z.filter(X=>new Date(X.createdAt)>=de)}a(z),c(1)},k=()=>{h(""),p(""),a(t),c(1)},D=l*u,j=D-u,T=n.slice(j,D),L=M=>c(M);return i?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):e?e.cccd||e.id||e.maKhachHang||e.userId?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lịch sử đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Xem tất cả đặt phòng đã thực hiện"})]}),s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Bộ lọc"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:d,onChange:M=>g(M.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"pending",children:"Chờ xác nhận"}),s.jsx("option",{value:"confirmed",children:"Đã xác nhận"}),s.jsx("option",{value:"completed",children:"Đã hoàn thành"}),s.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Từ ngày"}),s.jsx("input",{type:"date",value:f,onChange:M=>w(M.target.value),className:"input"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:k,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Kết quả (",n.length," đặt phòng)"]})}),n.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.idPd||M.maPhieuThue||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:M.ngayDat||M.createdAt||"N/A"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.tenLp||M.roomNumber||"N/A"}),s.jsx("div",{className:"text-sm text-gray-500",children:M.tenKp||M.roomType||"N/A"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[M.ngayBdThue||M.checkIn||"N/A"," - ",M.ngayDi||M.checkOut||"N/A"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${m(M.trangThai)}`,children:[y(M.trangThai),s.jsx("span",{className:"ml-1",children:v(M.trangThai)})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(M.soTienCoc||M.total||0).toLocaleString("vi-VN")," VNĐ"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:s.jsx(wm,{className:"w-4 h-4"})})]})})]},M.idPd||M.id))})]})}),s.jsx(wi,{itemsPerPage:u,totalItems:n.length,currentPage:l,paginate:L})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ft,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có đặt phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Bạn chưa có đặt phòng nào hoặc thử thay đổi bộ lọc"})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-600",children:"Không tìm thấy thông tin khách hàng"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Vui lòng liên hệ hỗ trợ"}),s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Debug: User data"}),s.jsx("pre",{className:"text-xs text-gray-400 mt-2",children:JSON.stringify(e,null,2)})]})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-600",children:"Vui lòng đăng nhập để xem lịch sử đặt phòng"})})},Qn={getAllCustomers:async()=>{try{return(await W.get("/api/khach-hang/all")).data}catch(e){throw console.error("Error fetching all customers:",e),e}},getCustomerById:async e=>{try{return(await W.get(`/api/khach-hang/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching customer by CCCD:",t),t}},createCustomer:async e=>{try{return(await W.post("/api/khach-hang/create",e)).data}catch(t){throw console.error("Error creating customer:",t),t}},updateCustomer:async(e,t)=>{try{return(await W.put(`/api/khach-hang/update/${e}`,t)).data}catch(r){throw console.error("Error updating customer:",r),r}},deleteCustomer:async e=>{try{return(await W.delete(`/api/khach-hang/delete/${e}`)).data}catch(t){throw console.error("Error deleting customer:",t),t}},searchCustomers:async e=>{try{return(await W.get(`/api/khach-hang/search?keyword=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error searching customers:",t),t}},getCustomerByEmail:async e=>{try{return(await W.get(`/api/khach-hang/email/${e}`)).data}catch(t){throw console.error("Error fetching customer by email:",t),t}},getCustomerByPhone:async e=>{try{return(await W.get(`/api/khach-hang/phone/${e}`)).data}catch(t){throw console.error("Error fetching customer by phone:",t),t}},getCustomerBookingHistory:async e=>{try{return(await W.get(`/api/khach-hang/booking-history/${e}`)).data}catch(t){throw console.error("Error fetching customer booking history:",t),t}},getCustomerRentalHistory:async e=>{try{return(await W.get(`/api/khach-hang/rental-history/${e}`)).data}catch(t){throw console.error("Error fetching customer rental history:",t),t}},getCustomerStats:async e=>{try{return(await W.get(`/api/khach-hang/stats/${e}`)).data}catch(t){throw console.error("Error fetching customer statistics:",t),t}},validateCustomer:async e=>{try{return(await W.post("/api/khach-hang/validate",e)).data}catch(t){throw console.error("Error validating customer:",t),t}},checkCustomerExists:async e=>{try{return(await W.get(`/api/khach-hang/exists/${e}`)).data}catch(t){throw console.error("Error checking customer existence:",t),t}},getProfile:async()=>{try{return(await W.get("/api/khach-hang/profile")).data}catch(e){throw console.error("Error fetching customer profile:",e),e}},updateProfile:async(e,t)=>{try{return(await W.put(`/api/khach-hang/update-profile/${e}`,t)).data}catch(r){throw console.error("Error updating customer profile:",r),r}},changePassword:async(e,t)=>{try{return(await W.put(`/api/khach-hang/change-password/${e}`,null,{params:{oldPassword:t.currentPassword,newPassword:t.newPassword}})).data}catch(r){throw console.error("Error changing password:",r),r}},uploadAvatar:async e=>{try{return(await W.post("/api/khach-hang/avatar",e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error uploading avatar:",t),t}}},sA=()=>{const{user:e,updateUser:t}=kn(),[r,n]=N.useState(!0),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState({ho:"",ten:"",email:"",sdt:"",diaChi:"",maSoThue:"",cccd:""}),[d,h]=N.useState({currentPassword:"",newPassword:"",confirmPassword:""});N.useEffect(()=>{f()},[]);const f=async()=>{try{if(n(!0),e!=null&&e.cccd||e!=null&&e.id){const y=e.cccd||e.id,g=await Qn.getCustomerById(y);if(g.statusCode===200&&g.khachHang){const w=g.khachHang;u({ho:w.ho||"",ten:w.ten||"",email:w.email||"",sdt:w.sdt||"",diaChi:w.diaChi||"",maSoThue:w.maSoThue||"",cccd:w.cccd||""})}}else u({ho:(e==null?void 0:e.ho)||"",ten:(e==null?void 0:e.ten)||"",email:(e==null?void 0:e.email)||"",sdt:(e==null?void 0:e.sdt)||(e==null?void 0:e.soDienThoai)||"",diaChi:(e==null?void 0:e.diaChi)||"",maSoThue:(e==null?void 0:e.maSoThue)||"",cccd:(e==null?void 0:e.cccd)||(e==null?void 0:e.id)||""})}catch(y){console.error("Error fetching profile:",y),J.error("Không thể tải thông tin cá nhân"),u({ho:(e==null?void 0:e.ho)||"",ten:(e==null?void 0:e.ten)||"",email:(e==null?void 0:e.email)||"",sdt:(e==null?void 0:e.sdt)||(e==null?void 0:e.soDienThoai)||"",diaChi:(e==null?void 0:e.diaChi)||"",maSoThue:(e==null?void 0:e.maSoThue)||"",cccd:(e==null?void 0:e.cccd)||(e==null?void 0:e.id)||""})}finally{n(!1)}},p=y=>{const{name:g,value:w}=y.target;u(b=>({...b,[g]:w}))},x=y=>{const{name:g,value:w}=y.target;h(b=>({...b,[g]:w}))},m=async y=>{y.preventDefault();try{n(!0);const g={ho:c.ho,ten:c.ten,email:c.email,sdt:c.sdt,diaChi:c.diaChi,maSoThue:c.maSoThue};console.log("Updating profile with data:",g),console.log("User CCCD:",c.cccd);const w=await Qn.updateProfile(c.cccd,g);if(w.statusCode===200){J.success("Cập nhật thông tin thành công!"),i(!1);const b={ho:g.ho,ten:g.ten,email:g.email,sdt:g.sdt,diaChi:g.diaChi,maSoThue:g.maSoThue,hoTen:`${g.ho} ${g.ten}`.trim()};console.log("Updating user context with:",b),t(b),await f()}else J.error(w.message||"Có lỗi xảy ra khi cập nhật thông tin")}catch(g){console.error("Error updating profile:",g),J.error("Có lỗi xảy ra khi cập nhật thông tin")}finally{n(!1)}},v=async y=>{var g;if(y.preventDefault(),d.newPassword!==d.confirmPassword){J.error("Mật khẩu xác nhận không khớp");return}if(d.newPassword.length<6){J.error("Mật khẩu mới phải có ít nhất 6 ký tự");return}if(d.currentPassword===d.newPassword){J.error("Mật khẩu mới không được trùng với mật khẩu cũ");return}try{n(!0);const w={currentPassword:d.currentPassword,newPassword:d.newPassword};console.log("Changing password for user:",c.cccd);const b=await Qn.changePassword(c.cccd,w);b.statusCode===200?(J.success("Đổi mật khẩu thành công!"),l(!1),h({currentPassword:"",newPassword:"",confirmPassword:""})):J.error(b.message||"Có lỗi xảy ra khi đổi mật khẩu")}catch(w){console.error("Error changing password:",w),((g=w.response)==null?void 0:g.status)===400?J.error("Mật khẩu hiện tại không đúng"):J.error("Có lỗi xảy ra khi đổi mật khẩu")}finally{n(!1)}};return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Thông tin cá nhân"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý thông tin tài khoản của bạn"})]}),s.jsx("div",{className:"flex space-x-3",children:!a&&s.jsxs("button",{onClick:()=>i(!0),className:"btn-outline",disabled:r,children:[s.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Chỉnh sửa"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Pt,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin cơ bản"})]}),s.jsxs("form",{onSubmit:m,children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ"}),s.jsx("input",{type:"text",name:"ho",value:c.ho,onChange:p,disabled:!a,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên"}),s.jsx("input",{type:"text",name:"ten",value:c.ten,onChange:p,disabled:!a,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CCCD"}),s.jsx("input",{type:"text",name:"cccd",value:c.cccd,disabled:!0,className:"input bg-gray-50",placeholder:"Số CCCD"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",name:"email",value:c.email,onChange:p,disabled:!a,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),s.jsx("input",{type:"tel",name:"sdt",value:c.sdt,onChange:p,disabled:!a,className:"input"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),s.jsx("input",{type:"text",name:"diaChi",value:c.diaChi,onChange:p,disabled:!a,className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã số thuế"}),s.jsx("input",{type:"text",name:"maSoThue",value:c.maSoThue,onChange:p,disabled:!a,className:"input",placeholder:"Mã số thuế (tùy chọn)"})]})]}),a&&s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>i(!1),className:"btn-outline",children:"Hủy"}),s.jsxs("button",{type:"submit",className:"btn-primary",children:[s.jsx(Nm,{className:"w-4 h-4 mr-2"}),"Lưu thay đổi"]})]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-primary-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx(Pt,{className:"w-12 h-12 text-primary-600"})}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[c.ho," ",c.ten]}),s.jsx("p",{className:"text-gray-500",children:c.email}),s.jsx("button",{className:"btn-outline mt-4",children:"Thay đổi ảnh đại diện"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(J0,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Đổi mật khẩu"})]}),o?s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu hiện tại"}),s.jsx("input",{type:"password",name:"currentPassword",value:d.currentPassword,onChange:x,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mật khẩu mới"}),s.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,onChange:x,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Xác nhận mật khẩu mới"}),s.jsx("input",{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:x,className:"input",required:!0})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-outline flex-1",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary flex-1",children:"Lưu"})]})]}):s.jsx("button",{onClick:()=>l(!0),className:"btn-outline w-full",children:"Đổi mật khẩu"})]})]})]})]})},Mu={getStaffStats:async()=>{try{return(await W.get("/api/dashboard/staff/stats")).data}catch(e){throw console.error("Error fetching staff stats:",e),e}},getTodayCheckIns:async()=>{try{return(await W.get("/api/dashboard/staff/today-checkins")).data}catch(e){throw console.error("Error fetching today check-ins:",e),e}},getTodayCheckOuts:async()=>{try{return(await W.get("/api/dashboard/staff/today-checkouts")).data}catch(e){throw console.error("Error fetching today check-outs:",e),e}},getAdminStats:async()=>{try{const[e,t,r]=await Promise.all([W.get("/api/phong/all"),W.get("/api/nhanvien/all"),W.get("/api/khach-hang/all")]),n=e.data.phongList||[],a=t.data.nhanVienList||[],i=r.data.khachHangList||[],o=n.filter(h=>{var f;return h.tenTrangThai==="Trống"||((f=h.trangThai)==null?void 0:f.tenTrangThai)==="Trống"}).length,l=n.filter(h=>{var f;return h.tenTrangThai==="Đã có khách"||((f=h.trangThai)==null?void 0:f.tenTrangThai)==="Đã có khách"}).length,c=n.filter(h=>{var f;return h.tenTrangThai==="Đang dọn dẹp"||((f=h.trangThai)==null?void 0:f.tenTrangThai)==="Đang dọn dẹp"}).length,u=n.filter(h=>{var f;return h.tenTrangThai==="Đang bảo trì"||((f=h.trangThai)==null?void 0:f.tenTrangThai)==="Đang bảo trì"}).length,d=n.filter(h=>{var f;return h.tenTrangThai==="Đã đặt"||((f=h.trangThai)==null?void 0:f.tenTrangThai)==="Đã đặt"}).length;return{statusCode:200,stats:{totalRooms:n.length,availableRooms:o,occupiedRooms:l,cleaningRooms:c,maintenanceRooms:u,reservedRooms:d,totalStaff:a.length,totalCustomers:i.length,monthlyRevenue:25e8,todayRevenue:85e6,totalServices:25,totalAmenities:15,pendingReservations:12,checkInsToday:8,checkOutsToday:6,occupancyRate:n.length>0?((l+d)/n.length*100).toFixed(1):0}}}catch(e){throw console.error("Error fetching admin stats:",e),e}},getCurrentGuests:async()=>{try{return(await W.get("/api/dashboard/staff/current-guests")).data}catch(e){throw console.error("Error fetching current guests:",e),e}}},aA=({stats:e})=>{const t=[{title:"Phiếu đặt mới hôm nay",value:e.todayBookings||0,icon:yi,color:"bg-indigo-500",textColor:"text-indigo-600",bgColor:"bg-indigo-50",description:"Phiếu đặt nhận trong ngày"},{title:"Check-in hôm nay",value:e.checkInsToday||0,icon:wr,color:"bg-green-500",textColor:"text-green-600",bgColor:"bg-green-50"},{title:"Check-out hôm nay",value:e.checkOutsToday||0,icon:lr,color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"},{title:"Phòng còn trống",value:e.availableRooms||0,icon:Or,color:"bg-teal-500",textColor:"text-teal-600",bgColor:"bg-teal-50"},{title:"Phòng đã có khách",value:e.occupiedRooms||0,icon:yc,color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{title:"Phòng đang dọn dẹp",value:e.cleaningRooms||0,icon:V_,color:"bg-cyan-500",textColor:"text-cyan-600",bgColor:"bg-cyan-50"},{title:"Đặt phòng khả dụng",value:e.totalReservations||0,icon:ft,color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50",description:"Đã xác nhận, chưa check-in"},{title:"Đặt phòng chờ xử lý",value:e.pendingReservations||0,icon:os,color:"bg-yellow-500",textColor:"text-yellow-600",bgColor:"bg-yellow-50",description:"Chờ xác nhận"},{title:"Phòng đang bảo trì",value:e.maintenanceRooms||0,icon:md,color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"}];return s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-3 gap-4",children:t.map((r,n)=>{const a=r.icon;return s.jsx("div",{className:`card ${r.bgColor}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-lg ${r.color}`,children:s.jsx(a,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:r.title}),s.jsx("p",{className:`text-2xl font-bold ${r.textColor}`,children:r.value.toLocaleString()}),r.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.description})]})]})},n)})})},iA=()=>{const{user:e}=kn(),[t,r]=N.useState({totalReservations:0,checkInsToday:0,checkOutsToday:0,occupiedRooms:0,availableRooms:0,pendingReservations:0}),[n,a]=N.useState([]),[i,o]=N.useState([]);N.useEffect(()=>{l()},[]);const l=async()=>{let c=null;try{c=await Mu.getStaffStats()}catch(h){console.error("❌ Stats API failed:",h)}let u={phieuDatList:[]};try{u=await Mu.getTodayCheckIns()}catch(h){console.error("⚠️ Check-ins API failed (using empty data):",h.message)}let d={phieuThueList:[]};try{d=await Mu.getTodayCheckOuts()}catch(h){console.error("⚠️ Check-outs API failed (using empty data):",h.message)}if(c){const h=c.stats||c,f={totalReservations:h.confirmedBookings||0,checkInsToday:h.todayCheckIns||0,checkOutsToday:h.todayCheckOuts||0,occupiedRooms:h.occupiedRooms||0,availableRooms:h.availableRooms||0,cleaningRooms:h.cleaningRooms||0,maintenanceRooms:h.maintenanceRooms||0,todayBookings:h.todayBookings||0,pendingReservations:h.pendingBookings||0,totalRooms:h.totalRooms||0,occupancyRate:h.occupancyRate||0};r(f)}else r({totalReservations:0,checkInsToday:0,checkOutsToday:0,occupiedRooms:0,availableRooms:0,cleaningRooms:0,maintenanceRooms:0,todayBookings:0,pendingReservations:0,totalRooms:0,occupancyRate:0});a(u.activities||[]),o(d.activities||[])};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-lg p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Chào mừng, ",yo(e),"!"]}),s.jsx("p",{className:"text-blue-100",children:"Dashboard lễ tân - Quản lý đặt phòng và dịch vụ khách hàng"})]}),s.jsx(aA,{stats:t}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Fe,{to:"/staff/reservations",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(ft,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý đặt phòng"}),s.jsx("p",{className:"text-gray-600",children:"Xem và quản lý tất cả đặt phòng"})]})}),s.jsx(Fe,{to:"/staff/checkin",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(va,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check-in"}),s.jsx("p",{className:"text-gray-600",children:"Thực hiện check-in cho khách hàng"})]})}),s.jsx(Fe,{to:"/staff/checkout",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(Za,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check-out"}),s.jsx("p",{className:"text-gray-600",children:"Thực hiện check-out cho khách hàng"})]})}),s.jsx(Fe,{to:"/staff/walkin",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-teal-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(pd,{className:"w-8 h-8 text-teal-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Walk-in Check-in"}),s.jsx("p",{className:"text-gray-600",children:"Check-in khách không đặt trước"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[s.jsx(Fe,{to:"/staff/rooms",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-indigo-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(ln,{className:"w-8 h-8 text-indigo-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý thông tin phòng khách sạn"})]})}),s.jsx(Fe,{to:"/staff/services",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(bh,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dịch vụ & Phụ thu"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý dịch vụ và phụ thu khách sạn"})]})}),s.jsx(Fe,{to:"/staff/rentals",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-orange-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(wr,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý thuê phòng"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý chi tiết phiếu thuê và khách ở"})]})}),s.jsx(Fe,{to:"/staff/room-changes",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-cyan-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(vc,{className:"w-8 h-8 text-cyan-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý đổi phòng"}),s.jsx("p",{className:"text-gray-600",children:"Theo dõi và xử lý yêu cầu đổi phòng"})]})}),s.jsx(Fe,{to:"/staff/invoices",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-emerald-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(yi,{className:"w-8 h-8 text-emerald-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý hóa đơn"}),s.jsx("p",{className:"text-gray-600",children:"Xem và quản lý hóa đơn thanh toán"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Khách hàng sẽ tới hôm nay"}),s.jsx(Fe,{to:"/staff/checkin",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:n.length>0?n.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(va,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:c.customerName||c.hoTenKhachHang||"Khách hàng"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[c.roomNumber?`Phòng ${c.roomNumber}`:"Chờ phân phòng"," • ",c.checkInTime||c.ngayBdThue||"Chưa xác định"]})]})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-green-600 bg-green-100",children:"Check-in"})]},c.id||c.idPd||u)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(va,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"Không có khách check-in hôm nay"})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Khách hàng trả phòng hôm nay"}),s.jsx(Fe,{to:"/staff/checkout",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:i.length>0?i.map((c,u)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Za,{className:"w-5 h-5 text-orange-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:c.customerName||c.hoTenKhachHang||"Khách hàng"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["CCCD: ",c.cccd," • Ngày đi: ",c.ngayDi," • ",c.soNgayThue," ngày"]})]})]}),s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-orange-600 bg-orange-100",children:"Check-out"})]},c.id||c.idPt||u)):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Za,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"Không có khách check-out hôm nay"})]})})]})]})]})},Zs={getAllBookings:async()=>{try{return(await W.get("/api/phieu-dat/all")).data}catch(e){throw console.error("Error fetching all bookings:",e),e}},getBookingById:async e=>{try{return(await W.get(`/api/phieu-dat/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching booking by ID:",t),t}},createBooking:async e=>{try{return(await W.post("/api/phieu-dat/create",e)).data}catch(t){throw console.error("Error creating booking:",t),t}},createBookingAtReception:async e=>{try{return(await W.post("/api/phieu-dat/create-at-reception",e)).data}catch(t){throw console.error("Error creating booking at reception:",t),t}},updateBooking:async(e,t)=>{try{return(await W.put(`/api/phieu-dat/update/${e}`,t)).data}catch(r){throw console.error("Error updating booking:",r),r}},deleteBooking:async e=>{try{return(await W.delete(`/api/phieu-dat/delete/${e}`)).data}catch(t){throw console.error("Error deleting booking:",t),t}},getBookingsByCustomer:async e=>{try{return(await W.get(`/api/phieu-dat/khach-hang/${e}`)).data}catch(t){throw console.error("Error fetching bookings by customer:",t),t}},getBookingsByEmployee:async e=>{try{return(await W.get(`/api/phieu-dat/nhan-vien/${e}`)).data}catch(t){throw console.error("Error fetching bookings by employee:",t),t}},getBookingsByStatus:async e=>{try{return(await W.get(`/api/phieu-dat/trang-thai/${e}`)).data}catch(t){throw console.error("Error fetching bookings by status:",t),t}},getBookingsByDateRange:async(e,t)=>{try{return(await W.get(`/api/phieu-dat/date-range?startDate=${e}&endDate=${t}`)).data}catch(r){throw console.error("Error fetching bookings by date range:",r),r}},confirmBooking:async e=>{try{return(await W.put(`/api/phieu-dat/confirm/${e}`)).data}catch(t){throw console.error("Error confirming booking:",t),t}},cancelBooking:async(e,t)=>{try{return(await W.put(`/api/phieu-dat/cancel/${e}?reason=${encodeURIComponent(t)}`)).data}catch(r){throw console.error("Error canceling booking:",r),r}},updateBookingStatus:async(e,t)=>{try{return(await W.put(`/api/phieu-dat/update-status/${e}?trangThai=${encodeURIComponent(t)}`)).data}catch(r){throw console.error("Error updating booking status:",r),r}},updateBookingSimple:async(e,t)=>{try{return(await W.put(`/api/phieu-dat/update-simple/${e}`,t)).data}catch(r){throw console.error("Error updating booking simple:",r),r}},deleteBooking:async e=>{try{return(await W.delete(`/api/phieu-dat/delete/${e}`)).data}catch(t){throw console.error("Error deleting booking:",t),t}},getPendingBookings:async()=>{try{return(await W.get("/api/phieu-dat/pending")).data}catch(e){throw console.error("Error fetching pending bookings:",e),e}},getTodayBookings:async()=>{try{return(await W.get("/api/phieu-dat/today")).data}catch(e){throw console.error("Error fetching today bookings:",e),e}},getConfirmedBookings:async()=>{try{return(await W.get("/api/phieu-dat/confirmed")).data}catch(e){throw console.error("Error fetching confirmed bookings:",e),e}},validateBookingDates:async(e,t)=>{try{return(await W.get(`/api/phieu-dat/validate-dates?checkIn=${e}&checkOut=${t}`)).data}catch(r){throw console.error("Error validating booking dates:",r),r}}},oA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(10),[u,d]=N.useState({status:"",dateFrom:"",dateTo:"",searchTerm:""}),[h,f]=N.useState(!1),[p,x]=N.useState(!1),[m,v]=N.useState(null);N.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const ge=((await Zs.getAllBookings()).phieuDatList||[]).map(_=>({id:_.idPd,maPhieuThue:`PD${_.idPd}`,customerName:_.hoTenKhachHang||"N/A",customerPhone:_.sdtKhachHang||"N/A",customerEmail:_.emailKhachHang||_.email||"N/A",roomNumber:_.soPhong||"Chưa chọn",roomType:"Standard",kieuPhong:_.tenKp||"Chưa xác định",loaiPhong:_.tenLp||"Chưa xác định",soLuongPhongO:_.soLuongPhongO||0,idKp:_.idKp,idLp:_.idLp,checkIn:_.ngayBdThue,checkOut:_.ngayDi,status:g(_.trangThai),total:_.soTienCoc||0,createdAt:_.ngayDat,cccd:_.cccd,employeeId:_.idNv,employeeName:_.hoTenNhanVien}));t(ge),n(ge)}catch(q){console.error("Error fetching reservations:",q),t([]),n([])}finally{i(!1)}},g=q=>{switch(q){case"Chờ xác nhận":return"pending";case"Đã xác nhận":return"confirmed";case"Đã check-in":return"checkedin";case"Đã hủy":return"cancelled";case"Đã check-out":return"checkedout";default:return"pending"}},w=q=>{switch(q){case"pending":return"Chờ xác nhận";case"confirmed":return"Đã xác nhận";case"checkedin":return"Đã check-in";case"cancelled":return"Đã hủy";case"checkedout":return"Đã check-out";default:return"Chờ xác nhận"}},b=q=>{switch(q){case"confirmed":return"text-blue-600 bg-blue-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-red-600 bg-red-100";case"checkedin":return"text-green-600 bg-green-100";case"checkedout":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},k=q=>{switch(q){case"confirmed":return"Đã xác nhận";case"pending":return"Chờ xác nhận";case"cancelled":return"Đã hủy";case"checkedin":return"Đã check-in";case"checkedout":return"Đã check-out";default:return"Không xác định"}},D=q=>{switch(q){case"confirmed":return s.jsx(Or,{className:"w-4 h-4"});case"pending":return s.jsx(lr,{className:"w-4 h-4"});case"cancelled":return s.jsx(vo,{className:"w-4 h-4"});case"checkedin":return s.jsx(zg,{className:"w-4 h-4"});case"checkedout":return s.jsx(Or,{className:"w-4 h-4"});default:return s.jsx(os,{className:"w-4 h-4"})}},j=(q,Z)=>{const ge={...u,[q]:Z};d(ge),T(ge)},T=q=>{let Z=[...e];if(q.status&&(Z=Z.filter(ge=>ge.status===q.status)),q.dateFrom&&(Z=Z.filter(ge=>new Date(ge.checkIn)>=new Date(q.dateFrom))),q.dateTo&&(Z=Z.filter(ge=>new Date(ge.checkOut)<=new Date(q.dateTo))),q.searchTerm){const ge=q.searchTerm.toLowerCase();Z=Z.filter(_=>_.customerName.toLowerCase().includes(ge)||_.maPhieuThue.toLowerCase().includes(ge)||_.roomNumber.includes(ge))}n(Z),l(1)},L=()=>{d({status:"",dateFrom:"",dateTo:"",searchTerm:""}),n(e),l(1)},K=async(q,Z)=>{try{const ge=w(Z);Z==="confirmed"?await Zs.confirmBooking(q):Z==="cancelled"?await Zs.cancelBooking(q,"Hủy bởi lễ tân"):await Zs.updateBookingStatus(q,ge),t(_=>_.map(ee=>ee.id===q?{...ee,status:Z}:ee)),T(u)}catch(ge){console.error("Error updating reservation status:",ge),alert("Có lỗi xảy ra khi cập nhật trạng thái đặt phòng")}},M=q=>{v(q),f(!0)},Y=q=>{v(q),x(!0)},z=async q=>{if(window.confirm("Bạn có chắc chắn muốn xóa phiếu đặt này không?"))try{await Zs.deleteBooking(q),await y(),alert("Xóa phiếu đặt thành công!")}catch(Z){console.error("Error deleting reservation:",Z),alert("Có lỗi xảy ra khi xóa phiếu đặt")}},de=async q=>{var Z,ge;try{const _={customerName:q.customerName,customerPhone:q.customerPhone,customerEmail:q.customerEmail,checkIn:q.checkIn,checkOut:q.checkOut,status:w(q.status),soTienCoc:q.soTienCoc,kieuPhong:q.kieuPhong,loaiPhong:q.loaiPhong,soLuongPhongO:q.soLuongPhongO},ee=await Zs.updateBookingSimple(m.id,_);if(ee.statusCode===200)t(Q=>Q.map(G=>G.id===m.id?{...G,customerName:q.customerName,customerPhone:q.customerPhone,customerEmail:q.customerEmail,checkIn:q.checkIn,checkOut:q.checkOut,kieuPhong:q.kieuPhong,loaiPhong:q.loaiPhong,soLuongPhongO:q.soLuongPhongO,total:q.soTienCoc,status:q.status}:G)),x(!1),v(null),alert("Cập nhật đặt phòng thành công!"),y();else throw new Error(ee.message||"Lỗi cập nhật đặt phòng")}catch(_){console.error("Error updating reservation:",_),alert("Có lỗi xảy ra khi cập nhật đặt phòng: "+(((ge=(Z=_.response)==null?void 0:Z.data)==null?void 0:ge.message)||_.message))}},X=o*c,B=X-c,V=r.slice(B,X),ae=q=>l(q);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý đặt phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Xem và quản lý tất cả đặt phòng của khách sạn"})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(us,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Tên khách, mã đặt phòng, số phòng...",value:u.searchTerm,onChange:q=>j("searchTerm",q.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:q=>j("status",q.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"pending",children:"Chờ xác nhận"}),s.jsx("option",{value:"confirmed",children:"Đã xác nhận"}),s.jsx("option",{value:"checkedin",children:"Đã check-in"}),s.jsx("option",{value:"checkedout",children:"Đã check-out"}),s.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Từ ngày"}),s.jsx("input",{type:"date",value:u.dateFrom,onChange:q=>j("dateFrom",q.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đến ngày"}),s.jsx("input",{type:"date",value:u.dateTo,onChange:q=>j("dateTo",q.target.value),className:"input"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:L,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Kết quả (",r.length," đặt phòng)"]})}),r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã đặt phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kiểu & Loại phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Số tiền cọc"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(q=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.maPhieuThue}),s.jsx("div",{className:"text-sm text-gray-500",children:q.createdAt})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.customerName}),s.jsx("div",{className:"text-sm text-gray-500",children:q.customerPhone}),s.jsx("div",{className:"text-sm text-gray-500",children:q.customerEmail})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.kieuPhong}),s.jsx("div",{className:"text-sm text-gray-500",children:q.loaiPhong})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[q.checkIn," - ",q.checkOut]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${b(q.status)}`,children:[D(q.status),s.jsx("span",{className:"ml-1",children:k(q.status)})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[q.total.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>M(q),className:"text-blue-600 hover:text-blue-900",title:"Xem chi tiết",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Y(q),className:"text-yellow-600 hover:text-yellow-900",title:"Chỉnh sửa",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(q.id),className:"text-red-600 hover:text-red-900",title:"Xóa phiếu đặt",children:s.jsx(ds,{className:"w-4 h-4"})}),q.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>K(q.id,"confirmed"),className:"text-green-600 hover:text-green-900",title:"Xác nhận đặt phòng",children:s.jsx(zg,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>K(q.id,"cancelled"),className:"text-red-600 hover:text-red-900",title:"Hủy đặt phòng",children:s.jsx(Nr,{className:"w-4 h-4"})})]})]})})]},q.id))})]})}),s.jsx(wi,{itemsPerPage:c,totalItems:r.length,currentPage:o,paginate:ae})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ft,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có đặt phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy đặt phòng nào phù hợp với bộ lọc"})]})]}),h&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chi tiết đặt phòng"}),s.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Nr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Tên khách hàng"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.customerName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Số điện thoại"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.customerPhone})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Email"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.customerEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"CCCD"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.cccd||"N/A"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Thông tin đặt phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Mã đặt phòng"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.maPhieuThue})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ngày check-in"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(m.checkIn).toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Ngày check-out"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(m.checkOut).toLocaleDateString("vi-VN")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Kiểu phòng"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.kieuPhong})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Loại phòng"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.loaiPhong})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Số lượng phòng ở"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.soLuongPhongO||"Chưa xác định"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Số tiền cọc"}),s.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[m.total.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Trạng thái"}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${b(m.status)}`,children:[D(m.status),s.jsx("span",{className:"ml-1",children:k(m.status)})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Thông tin nhân viên"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Nhân viên tạo"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.employeeName||"N/A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-600",children:"Mã nhân viên"}),s.jsx("p",{className:"text-sm text-gray-900",children:m.employeeId||"N/A"})]})]})]})]}),s.jsx("div",{className:"flex justify-end pt-6",children:s.jsx("button",{onClick:()=>f(!1),className:"btn-outline",children:"Đóng"})})]})}),p&&m&&s.jsx(lA,{reservation:m,onClose:()=>{x(!1),v(null)},onUpdate:de})]})},lA=({reservation:e,onClose:t,onUpdate:r})=>{const[n,a]=N.useState({customerName:e.customerName||"",customerPhone:e.customerPhone||"",customerEmail:e.customerEmail||"",checkIn:e.checkIn||"",checkOut:e.checkOut||"",kieuPhong:e.kieuPhong||"",loaiPhong:e.loaiPhong||"",soLuongPhongO:e.soLuongPhongO||0,soTienCoc:e.total||0,status:e.status||""}),[i,o]=N.useState([]),[l,c]=N.useState([]);N.useEffect(()=>{u(),d()},[]);const u=async()=>{try{const p=await _t.getAllRoomTypes();o(p.kieuPhongList||[])}catch(p){console.error("Error fetching room types:",p)}},d=async()=>{try{const p=await _t.getAllRoomCategories();c(p.loaiPhongList||[])}catch(p){console.error("Error fetching room categories:",p)}},h=p=>{p.preventDefault(),r(n)},f=(p,x)=>{a(m=>({...m,[p]:x}))};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chỉnh sửa đặt phòng"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Nr,{className:"w-6 h-6"})})]}),s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tên khách hàng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:n.customerName,onChange:p=>f("customerName",p.target.value),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số điện thoại ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:n.customerPhone,onChange:p=>f("customerPhone",p.target.value),className:"input",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:n.customerEmail,onChange:p=>f("customerEmail",p.target.value),className:"input",required:!0})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thông tin đặt phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-in ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:n.checkIn,onChange:p=>f("checkIn",p.target.value),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-out ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:n.checkOut,onChange:p=>f("checkOut",p.target.value),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:n.kieuPhong,onChange:p=>f("kieuPhong",p.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),i.map(p=>s.jsx("option",{value:p.tenKp,children:p.tenKp},p.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:n.loaiPhong,onChange:p=>f("loaiPhong",p.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Chọn loại phòng"}),l.map(p=>s.jsx("option",{value:p.tenLp,children:p.tenLp},p.idLp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng phòng ở"}),s.jsx("input",{type:"number",value:n.soLuongPhongO,onChange:p=>f("soLuongPhongO",parseInt(p.target.value)||0),className:"input",placeholder:"VD: 1, 2, 3...",min:"1"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số tiền cọc (VNĐ)"}),s.jsx("input",{type:"text",value:n.soTienCoc?n.soTienCoc.toLocaleString("vi-VN"):"",onChange:p=>{const x=p.target.value.replace(/[^\d]/g,"");f("soTienCoc",parseInt(x)||0)},className:"input",placeholder:"VD: 500,000",style:{appearance:"textfield"}})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:n.status,onChange:p=>f("status",p.target.value),className:"input",children:[s.jsx("option",{value:"pending",children:"Chờ xác nhận"}),s.jsx("option",{value:"confirmed",children:"Đã xác nhận"}),s.jsx("option",{value:"checkedin",children:"Đã check-in"}),s.jsx("option",{value:"checkedout",children:"Đã check-out"}),s.jsx("option",{value:"cancelled",children:"Đã hủy"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-6",children:[s.jsx("button",{type:"button",onClick:t,className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Cập nhật"})]})]})]})})},_d={getAllRentals:async()=>{try{return(await W.get("/api/phieu-thue/all")).data}catch(e){throw console.error("Error fetching all rentals:",e),e}},getRentalById:async e=>{try{return(await W.get(`/api/phieu-thue/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching rental by ID:",t),t}},createRental:async e=>{try{return(await W.post("/api/phieu-thue/create",e)).data}catch(t){throw console.error("Error creating rental:",t),t}},updateRental:async(e,t)=>{try{return(await W.put(`/api/phieu-thue/update/${e}`,t)).data}catch(r){throw console.error("Error updating rental:",r),r}},deleteRental:async e=>{try{return(await W.delete(`/api/phieu-thue/delete/${e}`)).data}catch(t){throw console.error("Error deleting rental:",t),t}},getRentalsByCustomer:async e=>{try{return(await W.get(`/api/phieu-thue/khach-hang/${e}`)).data}catch(t){throw console.error("Error fetching rentals by customer:",t),t}},getRentalsByEmployee:async e=>{try{return(await W.get(`/api/phieu-thue/nhan-vien/${e}`)).data}catch(t){throw console.error("Error fetching rentals by employee:",t),t}},getRentalsByBooking:async e=>{try{return(await W.get(`/api/phieu-thue/phieu-dat/${e}`)).data}catch(t){throw console.error("Error fetching rentals by booking:",t),t}},getCurrentStays:async()=>{try{return(await W.get("/api/phieu-thue/current-stays")).data}catch(e){throw console.error("Error fetching current stays:",e),e}},checkInFromBooking:async e=>{try{return(await W.post(`/api/phieu-thue/checkin-booking/${e}`)).data}catch(t){throw console.error("Error checking in from booking:",t),t}},checkInFromBookingWithRoom:async e=>{try{return(await W.post("/api/phieu-thue/checkin-from-booking-with-room",e)).data}catch(t){throw console.error("Error check-in from booking with room:",t),t}},checkInFromBookingWithMultipleRooms:async e=>{try{return(await W.post("/api/phieu-thue/checkin-from-booking-multiple-rooms",e)).data}catch(t){throw console.error("Error checking in from booking with multiple rooms:",t),t}},checkInWalkIn:async e=>{try{return(await W.post("/api/phieu-thue/checkin-walkin",e)).data}catch(t){throw console.error("Error walk-in check-in:",t),t}},checkOut:async e=>{try{return(await W.put(`/api/phieu-thue/checkout/${e}`)).data}catch(t){throw console.error("Error checking out:",t),t}},extendStay:async(e,t)=>{try{return(await W.put(`/api/phieu-thue/extend-stay/${e}?newCheckOut=${t}`)).data}catch(r){throw console.error("Error extending stay:",r),r}},searchRentals:async e=>{try{return(await W.get(`/api/phieu-thue/search?keyword=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error searching rentals:",t),t}},getRentalsByDateRange:async(e,t)=>{try{return(await W.get(`/api/phieu-thue/date-range?startDate=${e}&endDate=${t}`)).data}catch(r){throw console.error("Error fetching rentals by date range:",r),r}},getTodayCheckIns:async()=>{try{return(await W.get("/api/phieu-thue/today-checkins")).data}catch(e){throw console.error("Error fetching today check-ins:",e),e}},getTodayCheckOuts:async()=>{try{return(await W.get("/api/phieu-thue/today-checkouts")).data}catch(e){throw console.error("Error fetching today check-outs:",e),e}},getOccupancyReport:async e=>{try{return(await W.get(`/api/phieu-thue/occupancy-report?date=${e}`)).data}catch(t){throw console.error("Error fetching occupancy report:",t),t}},getRevenueReport:async(e,t)=>{try{return(await W.get(`/api/phieu-thue/revenue-report?startDate=${e}&endDate=${t}`)).data}catch(r){throw console.error("Error fetching revenue report:",r),r}},getRentalDetails:async e=>{try{return(await W.get(`/api/phieu-thue/details/${e}`)).data}catch(t){throw console.error("Error fetching rental details:",t),t}},updatePaymentStatus:async(e,t)=>{try{return(await W.put(`/api/phieu-thue/update-payment-status/${e}?trangThaiThanhToan=${t}`)).data}catch(r){throw console.error("Error updating payment status:",r),r}}},L2=({onRoomSelect:e,selectedRoom:t,selectedRooms:r=[],checkInDate:n,checkOutDate:a,filters:i={},multiSelect:o=!1,maxRooms:l=1})=>{var T,L,K;const[c,u]=N.useState([]),[d,h]=N.useState(!0),[f,p]=N.useState(null);N.useEffect(()=>{x()},[n,a,i]);const x=async()=>{try{h(!0);let M;if(n&&a){const z=new URLSearchParams({checkIn:n,checkOut:a});i.idKp&&z.append("idKp",i.idKp),i.idLp&&z.append("idLp",i.idLp);const de=`/api/phong/available-by-date?${z.toString()}`;M=await W.get(de),M=M.data}else M=await _t.getAllRooms();let Y=M.phongList||M.data||[];u(Y)}catch(M){console.error("Error fetching rooms:",M),u([])}finally{h(!1)}},m=M=>{var z;switch(M.tenTrangThai||((z=M.trangThai)==null?void 0:z.tenTrangThai)||M.status){case"Trống":return"bg-green-100 border-green-300 hover:bg-green-200";case"Đã có khách":return"bg-white border-gray-300 hover:bg-gray-50";case"Đang bảo trì":return"bg-red-100 border-red-300 hover:bg-red-200";case"Đã đặt":return"bg-yellow-100 border-yellow-300 hover:bg-yellow-200";case"Đã được đặt":return"bg-yellow-100 border-yellow-300 hover:bg-yellow-200";default:return"bg-green-100 border-green-300 hover:bg-green-200"}},v=M=>{var z;switch(M.tenTrangThai||((z=M.trangThai)==null?void 0:z.tenTrangThai)||M.status){case"Trống":return s.jsx(Or,{className:"w-4 h-4 text-green-600"});case"Đã có khách":return s.jsx(wr,{className:"w-4 h-4 text-gray-600"});case"Đang bảo trì":return s.jsx(md,{className:"w-4 h-4 text-red-600"});case"Đã đặt":return s.jsx(lr,{className:"w-4 h-4 text-yellow-600"});case"Đã được đặt":return s.jsx(lr,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(Or,{className:"w-4 h-4 text-green-600"})}},y=M=>{var z;return(M.tenTrangThai||((z=M.trangThai)==null?void 0:z.tenTrangThai)||M.status)==="Trống"},g=M=>{y(M)&&e&&e(M)},w=M=>o?r.some(Y=>Y.soPhong===M.soPhong):(t==null?void 0:t.soPhong)===M.soPhong,b=M=>{const Y={};return M.forEach(z=>{const de=z.tang||1;Y[de]||(Y[de]=[]),Y[de].push(z)}),Object.keys(Y).forEach(z=>{Y[z].sort((de,X)=>de.soPhong.localeCompare(X.soPhong))}),Y},k=M=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(M);if(d)return s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("span",{className:"ml-2",children:"Đang tải sơ đồ phòng..."})]});const D=b(c),j=Object.keys(D).sort((M,Y)=>parseInt(Y)-parseInt(M));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),s.jsx(Or,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Trống"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-white border border-gray-300 rounded"}),s.jsx(wr,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đã có khách"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),s.jsx(md,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đang bảo trì"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded"}),s.jsx(lr,{className:"w-4 h-4 text-yellow-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đã đặt"})]}),o&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-500 rounded ring-2 ring-blue-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Đã chọn"})]})]}),s.jsx("div",{className:"space-y-4",children:j.map(M=>s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Tầng ",M]}),s.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-2",children:D[M].map(Y=>{var z,de,X,B,V,ae,q;return s.jsxs("div",{className:`
                    relative p-3 rounded-lg border-2 cursor-pointer transition-all duration-200
                    ${m(Y)}
                    ${w(Y)?"ring-2 ring-blue-500 bg-blue-100":""}
                    ${y(Y)?"":"cursor-not-allowed opacity-75"}
                  `,onClick:()=>g(Y),onMouseEnter:()=>p(Y),onMouseLeave:()=>p(null),children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-1",children:v(Y)}),s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.soPhong})]}),(f==null?void 0:f.soPhong)===Y.soPhong&&s.jsxs("div",{className:"absolute z-10 bottom-full left-1/2 transform -translate-x-1/2 mb-2 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg min-w-48",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Phòng:"})," ",Y.soPhong]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tầng:"})," ",Y.tang]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loại phòng:"})," ",Y.tenKp||((de=(z=Y.hangPhong)==null?void 0:z.kieuPhong)==null?void 0:de.tenKp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Hạng phòng:"})," ",Y.tenLp||((B=(X=Y.hangPhong)==null?void 0:X.loaiPhong)==null?void 0:B.tenLp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Giá:"})," ",k(Y.giaPhong||((V=Y.hangPhong)==null?void 0:V.giaPhong)||0)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sức chứa:"})," ",Y.soLuongKhachO||((ae=Y.hangPhong)==null?void 0:ae.soNguoiToiDa)||2," người"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Trạng thái:"})," ",Y.tenTrangThai||((q=Y.trangThai)==null?void 0:q.tenTrangThai)||"N/A"]}),Y.currentGuest&&s.jsxs("div",{className:"border-t border-gray-700 pt-1 mt-1",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Khách:"})," ",Y.currentGuest.name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Check-in:"})," ",Y.currentGuest.checkIn]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Check-out:"})," ",Y.currentGuest.checkOut]})]})]}),s.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900"})]})]},Y.soPhong)})})]},M))}),o&&r.length>0&&s.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 mb-2",children:["Phòng đã chọn (",r.length,"/",l,")"]}),s.jsx("div",{className:"space-y-2",children:r.map((M,Y)=>{var z,de,X,B;return s.jsx("div",{className:"text-sm p-2 bg-white rounded border",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Phòng:"})," ",M.soPhong]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tầng:"})," ",M.tang]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Kiểu:"})," ",M.tenKp||((de=(z=M.hangPhong)==null?void 0:z.kieuPhong)==null?void 0:de.tenKp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loại:"})," ",M.tenLp||((B=(X=M.hangPhong)==null?void 0:X.loaiPhong)==null?void 0:B.tenLp)||"N/A"]})]})},M.soPhong)})})]}),!o&&t&&s.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-primary-900 mb-2",children:"Phòng đã chọn"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Số phòng:"})," ",t.soPhong]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Tầng:"})," ",t.tang]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loại phòng:"})," ",((L=(T=t.hangPhong)==null?void 0:T.kieuPhong)==null?void 0:L.tenKp)||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Giá:"})," ",k(((K=t.hangPhong)==null?void 0:K.giaPhong)||0)]})]})]})]})},cA=()=>{const[e,t]=N.useState(""),[r,n]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,h]=N.useState(1),[f]=N.useState(5),[p,x]=N.useState("all"),[m,v]=N.useState([]),[y,g]=N.useState(!1),[w,b]=N.useState([]),[k,D]=N.useState(null),[j,T]=N.useState({idKp:"",idLp:""}),[L,K]=N.useState([]),[M,Y]=N.useState([]),[z,de]=N.useState({actualCheckIn:""});N.useEffect(()=>{X(),B(),V()},[]),N.useEffect(()=>{_()},[r,e,p]);const X=async()=>{try{u(!0);const ve=((await Zs.getConfirmedBookings()).phieuDatList||[]).map(Ee=>({id:Ee.idPd,maPhieuThue:`PD${Ee.idPd}`,customerName:Ee.hoTenKhachHang||"N/A",customerPhone:Ee.sdtKhachHang||"N/A",customerEmail:Ee.emailKhachHang||"N/A",cccd:Ee.cccd,checkIn:Ee.ngayBdThue,checkOut:Ee.ngayDi,status:"confirmed",roomNumber:"TBD",roomType:"Standard",kieuPhong:Ee.tenKp||"Chưa xác định",loaiPhong:Ee.tenLp||"Chưa xác định",soLuongPhongO:Ee.soLuongPhongO||0,idKp:Ee.idKp,idLp:Ee.idLp,idHangPhong:Ee.idHangPhong,total:Ee.soTienCoc||0,employeeId:Ee.idNv,employeeName:Ee.hoTenNhanVien}));n(ve),i(ve)}catch(A){console.error("Error fetching today reservations:",A),n([]),i([])}finally{u(!1)}},B=async()=>{try{const A=await _t.getAllRoomTypes();K(A.kieuPhongList||[])}catch(A){console.error("Error fetching room types:",A)}},V=async()=>{try{const A=await _t.getAllRoomCategories();Y(A.loaiPhongList||[])}catch(A){console.error("Error fetching room categories:",A)}},ae=(A,se)=>{T(he=>({...he,[A]:se})),o&&q(o,{...j,[A]:se})},q=async(A,se)=>{try{const he=await _t.getAvailableRoomsByDateRange(A.checkIn,A.checkOut,se.idKp||"",se.idLp||"");b(he.phongList||[])}catch(he){console.error("Error fetching filtered rooms:",he),b([])}},Z=A=>{const se=(o==null?void 0:o.soLuongPhongO)||1;m.find(ve=>ve.soPhong===A.soPhong)?v(ve=>ve.filter(Ee=>Ee.soPhong!==A.soPhong)):m.length<se?v(ve=>[...ve,A]):v(ve=>[...ve.slice(1),A])},ge=A=>{v(se=>se.filter(he=>he.soPhong!==A.soPhong))},_=()=>{let A=r;if(p==="today"){const se=new Date().toISOString().split("T")[0];A=A.filter(he=>he.checkIn?he.checkIn<=se:!1)}e.trim()&&(A=A.filter(se=>se.customerName.toLowerCase().includes(e.toLowerCase())||se.maPhieuThue.toLowerCase().includes(e.toLowerCase())||se.customerPhone.includes(e))),i(A),h(1)},ee=A=>{t(A)},Q=A=>{x(A)},G=A=>{l(A),v([]),T({idKp:A.idKp||"",idLp:A.idLp||""}),de({actualCheckIn:new Date().toISOString().slice(0,16)}),U(A)},U=async A=>{try{const se=await _t.getAvailableRoomsByDateRange(A.checkIn,A.checkOut,A.idKp||"",A.idLp||"");se.statusCode===200?b(se.phongList||[]):(J.error("Không thể tải danh sách phòng trống"),b([]))}catch(se){console.error("Error fetching available rooms:",se),J.error("Có lỗi xảy ra khi tải danh sách phòng"),b([])}},pe=A=>{Z(A),D(A)},ne=(A,se)=>{de(he=>({...he,[A]:se}))},H=async()=>{if(!o){J.error("Vui lòng chọn phiếu đặt");return}if(!o.id){J.error("ID phiếu đặt không hợp lệ");return}if(m.length===0){J.error("Vui lòng chọn ít nhất một phòng");return}if(m.length!==(o.soLuongPhongO||1)){J.error(`Vui lòng chọn đúng ${o.soLuongPhongO||1} phòng`);return}if(m.filter(se=>!se.soPhong).length>0){J.error("Một số phòng được chọn không có số phòng hợp lệ");return}try{u(!0);const se=z.actualCheckIn?z.actualCheckIn.split("T")[0]:new Date().toISOString().split("T")[0],he={idPhieuDat:parseInt(o.id),ngayDen:se,danhSachSoPhong:m.map(Ee=>Ee.soPhong).filter(Ee=>Ee)},ve=await _d.checkInFromBookingWithMultipleRooms(he);if(ve.statusCode===200){const Ee=m.map(we=>we.soPhong).join(", ");J.success(`Check-in thành công cho ${o.customerName} vào phòng ${Ee}!`),n(we=>we.map(ot=>ot.id===o.id?{...ot,status:"checkedin",roomNumber:Ee}:ot)),l(null),v([]),de({actualCheckIn:""}),X()}else J.error(ve.message||"Có lỗi xảy ra khi check-in")}catch(se){J.error("Có lỗi xảy ra khi check-in"),console.error("Check-in error:",se)}finally{u(!1)}},re=A=>{switch(A){case"confirmed":return"text-blue-600 bg-blue-100";case"checkedin":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},C=A=>{switch(A){case"confirmed":return"Đã xác nhận";case"checkedin":return"Đã check-in";default:return"Không xác định"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-in khách hàng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thực hiện check-in cho khách hàng có đặt phòng đã được xác nhận"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(us,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Danh sách đặt phòng đã xác nhận"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>Q("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="all"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tất cả"}),s.jsx("button",{onClick:()=>Q("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="today"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hôm nay"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("input",{type:"text",placeholder:"Tìm theo tên, mã đặt phòng, SĐT...",value:e,onChange:A=>ee(A.target.value),className:"input"})}),s.jsx("div",{className:"space-y-3",children:(()=>{const A=(d-1)*f,se=A+f,he=a.slice(A,se);return he.length>0?he.map(ve=>s.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(o==null?void 0:o.id)===ve.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>G(ve),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:ve.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:ve.maPhieuThue})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${re(ve.status)}`,children:C(ve.status)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",ve.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",ve.checkIn]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-out:"})," ",ve.checkOut]})]})]},ve.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ft,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy đặt phòng nào"})]})})()}),a.length>f&&s.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[s.jsx("button",{onClick:()=>h(A=>Math.max(A-1,1)),disabled:d===1,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Array.from({length:Math.ceil(a.length/f)},(A,se)=>s.jsx("button",{onClick:()=>h(se+1),className:`px-3 py-1 rounded border ${d===se+1?"bg-primary-500 text-white border-primary-500":"hover:bg-gray-50"}`,children:se+1},se+1)),s.jsx("button",{onClick:()=>h(A=>Math.min(A+1,Math.ceil(a.length/f))),disabled:d===Math.ceil(a.length/f),className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(va,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin check-in"})]}),o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tên:"})," ",o.customerName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",o.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",o.customerEmail]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Số lượng phòng:"})," ",o.soLuongPhongO||1]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Kiểu phòng:"})," ",o.kieuPhong||"Chưa xác định"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại phòng:"})," ",o.loaiPhong||"Chưa xác định"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Hạng phòng:"})," ",o.idHangPhong||"N/A"]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Số tiền cọc:"})," ",o.total.toLocaleString("vi-VN")," VNĐ"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Chọn phòng (",m.length,"/",o.soLuongPhongO||1,")"]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>{T({idKp:o.idKp||"",idLp:o.idLp||""}),g(!0)},className:"btn-outline flex-1",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),m.length>0?`${m.length} phòng đã chọn`:"Chọn phòng"]}),m.length>0&&s.jsx("button",{onClick:()=>v([]),className:"btn-outline px-3",children:s.jsx(Nr,{className:"w-4 h-4"})})]}),m.length>0&&s.jsx("div",{className:"mt-2 space-y-2",children:m.map((A,se)=>{var he;return s.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phòng:"})," ",A.soPhong]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tầng:"})," ",A.tang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Kiểu phòng:"})," ",A.tenKp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại phòng:"})," ",A.tenLp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giá:"})," ",(he=A.gia)==null?void 0:he.toLocaleString("vi-VN")," VNĐ/đêm"]})]}),s.jsx("button",{onClick:()=>v(ve=>ve.filter(Ee=>Ee.soPhong!==A.soPhong)),className:"text-red-500 hover:text-red-700",children:s.jsx(Nr,{className:"w-4 h-4"})})]})},A.soPhong)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian check-in thực tế"}),s.jsx("input",{type:"datetime-local",value:z.actualCheckIn,onChange:A=>ne("actualCheckIn",A.target.value),className:"input",required:!0})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>{l(null),v([])},className:"btn-outline flex-1",children:"Hủy"}),s.jsxs("button",{onClick:H,disabled:c||!z.actualCheckIn||m.length===0,className:"btn-primary flex-1",children:[c?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Or,{className:"w-4 h-4 mr-2"}),"Xác nhận check-in"]})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(va,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chọn đặt phòng để check-in"}),s.jsx("p",{className:"text-gray-500",children:"Tìm kiếm và chọn đặt phòng từ danh sách bên trái"})]})]})]}),y&&o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chọn phòng cho check-in"}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Nr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Lọc phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:j.idKp,onChange:A=>ae("idKp",A.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả kiểu phòng"}),L.map(A=>s.jsx("option",{value:A.idKp,children:A.tenKp},A.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:j.idLp,onChange:A=>ae("idLp",A.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả loại phòng"}),M.map(A=>s.jsx("option",{value:A.idLp,children:A.tenLp},A.idLp))]})]})]}),s.jsx("div",{className:"mt-4 flex space-x-3",children:s.jsx("button",{onClick:()=>T({idKp:"",idLp:""}),className:"btn-secondary",children:"Xóa bộ lọc"})})]}),s.jsx("div",{className:"border rounded-lg p-4",children:s.jsx(L2,{onRoomSelect:pe,selectedRooms:m,checkInDate:o.checkIn,checkOutDate:o.checkOut,filters:j,maxRooms:o.soLuongPhongO||1,multiSelect:!0})}),m.length>0&&s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Phòng đã chọn (",m.length,"/",o.soLuongPhongO||1,")"]}),s.jsx("div",{className:"space-y-2 text-sm",children:m.map(A=>{var se;return s.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[s.jsxs("span",{children:["Phòng ",A.soPhong," - ",A.tenKp," - ",A.tenLp," - Hạng phòng ",A.idHangPhong]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{children:[(se=A.gia)==null?void 0:se.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("button",{onClick:()=>ge(A),className:"text-red-500 hover:text-red-700 p-1",title:"Xóa phòng",children:s.jsx(Nr,{className:"w-4 h-4"})})]})]},A.soPhong)})}),s.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200",children:s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Tổng tiền phòng:"}),s.jsxs("span",{children:[m.reduce((A,se)=>A+(se.gia||0),0).toLocaleString("vi-VN")," VNĐ"]})]})})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>g(!1),className:"btn-primary",children:"Xác nhận chọn phòng"})})]})})]})},Ei={getAllRentals:async()=>{try{return(await W.get("/api/phieu-thue/all")).data}catch(e){throw console.error("Error fetching all rentals:",e),e}},getActiveRentalsWithoutInvoice:async()=>{try{return(await W.get("/api/phieu-thue/active-without-invoice")).data}catch(e){throw console.error("Error fetching active rentals without invoice:",e),e}},getRentalDetails:async e=>{try{return(await W.get(`/api/phieu-thue/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching rental details:",t),t}},getRoomGuests:async e=>{try{return(await W.get(`/api/ct-khach-o/${e}`)).data}catch(t){return console.error("Error fetching room guests:",t),{statusCode:200,guestList:[]}}},addGuestToRoom:async(e,t)=>{try{return(await W.post("/api/ct-khach-o/add",{idCtPt:e,cccd:t})).data}catch(r){if(console.error("Error adding guest to room:",r),r.response&&r.response.data)return r.response.data;throw r}},removeGuestFromRoom:async(e,t)=>{try{return(await W.delete(`/api/ct-khach-o/remove/${e}/${t}`)).data}catch(r){throw console.error("Error removing guest from room:",r),r}},searchRentals:async e=>{try{return(await W.get(`/api/phieu-thue/search?keyword=${encodeURIComponent(e)}`)).data}catch(t){throw console.error("Error searching rentals:",t),t}},filterRentalsByStatus:async e=>{try{return(await W.get(`/api/phieu-thue/filter?status=${e}`)).data}catch(t){throw console.error("Error filtering rentals by status:",t),t}}},Dd=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch{return e}},Pd=e=>{if(!e&&e!==0)return"N/A";try{return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}catch{return`${e} VND`}},es={getAllDoiPhong:async()=>{var e;try{return(await W.get("/api/doi-phong/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},getDoiPhongById:async(e,t)=>{var r;try{return(await W.get(`/api/doi-phong/${e}/${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},requestRoomChange:async e=>{var t;try{return(await W.post("/api/doi-phong/request",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},changeRoom:async e=>{var t;try{return(await W.post("/api/doi-phong/change",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},checkRoomChangeEligibility:async e=>{var t;try{return(await W.get(`/api/doi-phong/check-eligibility/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},getAvailableRoomsForChange:async e=>{var t;try{return(await W.get(`/api/doi-phong/available-rooms/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},calculateRoomChangeFee:async(e,t)=>{var r;try{return(await W.get(`/api/doi-phong/calculate-fee/${e}/${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},getRoomChangeHistory:async e=>{var t;try{return(await W.get(`/api/doi-phong/history/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},getDoiPhongByPhongMoi:async e=>{var t;try{return(await W.get(`/api/doi-phong/by-room/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},getDoiPhongByKhachHang:async e=>{var t;try{return(await W.get(`/api/doi-phong/by-customer/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},getDoiPhongByDateRange:async(e,t)=>{var r;try{return(await W.get(`/api/doi-phong/by-date-range?startDate=${e}&endDate=${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},getCurrentRoomChanges:async()=>{var e;try{return(await W.get("/api/doi-phong/current")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},approveRoomChange:async(e,t)=>{var r;try{return(await W.put(`/api/doi-phong/approve/${e}/${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},cancelRoomChange:async(e,t,r)=>{var n;try{return(await W.put(`/api/doi-phong/cancel/${e}/${t}?reason=${encodeURIComponent(r)}`)).data}catch(a){throw((n=a.response)==null?void 0:n.data)||a.message}},completeRoomChange:async(e,t)=>{var r;try{return(await W.put(`/api/doi-phong/complete/${e}/${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},updateDoiPhong:async(e,t,r)=>{var n;try{return(await W.put(`/api/doi-phong/update/${e}/${t}`,r)).data}catch(a){throw((n=a.response)==null?void 0:n.data)||a.message}},deleteDoiPhong:async(e,t)=>{var r;try{return(await W.delete(`/api/doi-phong/delete/${e}/${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},validateRoomChange:async e=>{var t;try{return(await W.post("/api/doi-phong/validate",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},getRoomChangeStatistics:async(e,t)=>{var r;try{return(await W.get(`/api/doi-phong/statistics?startDate=${e}&endDate=${t}`)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},searchDoiPhong:async e=>{var t;try{return(await W.get(`/api/doi-phong/search?keyword=${encodeURIComponent(e)}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},filterDoiPhong:async e=>{var t;try{const r=new URLSearchParams;return e.startDate&&r.append("startDate",e.startDate),e.endDate&&r.append("endDate",e.endDate),e.cccd&&r.append("cccd",e.cccd),(await W.get(`/api/doi-phong/filter?${r.toString()}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}}},uA=({isOpen:e,onClose:t,ctPhieuThue:r,onSuccess:n})=>{const[a,i]=N.useState(1),[o,l]=N.useState(null),[c,u]=N.useState([]),[d,h]=N.useState(null),[f,p]=N.useState(null),[x,m]=N.useState(!1),[v,y]=N.useState({idCtPt:(r==null?void 0:r.idCtPt)||null,soPhongMoi:"",ngayDen:new Date().toISOString().split("T")[0],ngayDi:null,lyDo:"",ghiChu:"",autoCalculateFee:!0,applyPromotion:!0});N.useEffect(()=>{e&&r&&(y(T=>({...T,idCtPt:r.idCtPt,ngayDi:r.ngayDi})),g())},[e,r]);const g=async()=>{if(r!=null&&r.idCtPt){m(!0);try{const T=await es.checkRoomChangeEligibility(r.idCtPt);T.statusCode===200?(l(T.roomChangeEligibility),T.roomChangeEligibility.eligible&&w()):J.error(T.message)}catch(T){J.error("Lỗi khi kiểm tra điều kiện đổi phòng"),console.error(T)}finally{m(!1)}}},w=async()=>{try{const T=await es.getAvailableRoomsForChange(r.idCtPt);T.statusCode===200&&u(T.phongList||[])}catch(T){J.error("Lỗi khi tải danh sách phòng"),console.error(T)}},b=async T=>{h(T),y(L=>({...L,soPhongMoi:T.soPhong}));try{const L=await es.calculateRoomChangeFee(r.idCtPt,T.soPhong);L.statusCode===200&&p(L.roomChangeFeeCalculation)}catch(L){console.error("Lỗi khi tính phí đổi phòng:",L)}},k=async()=>{if(!d){J.error("Vui lòng chọn phòng muốn đổi");return}m(!0);try{const T=await es.changeRoom(v);T.statusCode===200?(J.success("Đổi phòng thành công!"),n&&n(),D()):J.error(T.message)}catch(T){J.error("Lỗi khi đổi phòng"),console.error(T)}finally{m(!1)}},D=()=>{i(1),l(null),u([]),h(null),p(null),y({idCtPt:null,soPhongMoi:"",ngayDen:new Date().toISOString().split("T")[0],ngayDi:null,lyDo:"",ghiChu:"",autoCalculateFee:!0,applyPromotion:!0}),t()},j=T=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T);return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Đổi phòng"}),s.jsx("button",{onClick:D,className:"text-gray-500 hover:text-gray-700",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a>=1?"bg-blue-500 text-white":"bg-gray-300"}`,children:"1"}),s.jsx("div",{className:"text-sm ml-2 mr-4",children:"Kiểm tra"}),s.jsx("div",{className:`w-16 h-1 ${a>=2?"bg-blue-500":"bg-gray-300"}`}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a>=2?"bg-blue-500 text-white":"bg-gray-300"}`,children:"2"}),s.jsx("div",{className:"text-sm ml-2 mr-4",children:"Chọn phòng"}),s.jsx("div",{className:`w-16 h-1 ${a>=3?"bg-blue-500":"bg-gray-300"}`}),s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${a>=3?"bg-blue-500 text-white":"bg-gray-300"}`,children:"3"}),s.jsx("div",{className:"text-sm ml-2",children:"Xác nhận"})]})}),x&&s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),a===1&&o&&!x&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Kiểm tra điều kiện đổi phòng"}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Thông tin phòng hiện tại:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phòng:"})," ",o.soPhongHienTai]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Khách hàng:"})," ",o.tenKhachHang]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CCCD:"})," ",o.cccd]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ngày đến:"})," ",new Date(o.ngayDen).toLocaleDateString("vi-VN")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ngày đi:"})," ",new Date(o.ngayDi).toLocaleDateString("vi-VN")]}),o.soNgayConLai&&s.jsxs("p",{children:[s.jsx("strong",{children:"Số ngày còn lại:"})," ",o.soNgayConLai," ngày"]})]}),s.jsxs("div",{className:`p-4 rounded-lg ${o.eligible?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.jsx("p",{className:`font-medium ${o.eligible?"text-green-800":"text-red-800"}`,children:o.reason}),o.hanChe&&o.hanChe.length>0&&s.jsx("ul",{className:"mt-2 text-sm text-red-600",children:o.hanChe.map((T,L)=>s.jsxs("li",{children:["• ",T]},L))})]}),o.eligible&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:()=>i(2),className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600",children:"Tiếp tục"})}),!o.eligible&&s.jsx("div",{className:"flex justify-end",children:s.jsx("button",{onClick:D,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Đóng"})})]}),a===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Chọn phòng mới"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(T=>s.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer transition-colors ${(d==null?void 0:d.soPhong)===T.soPhong?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>b(T),children:[s.jsxs("h4",{className:"font-semibold text-lg",children:["Phòng ",T.soPhong]}),s.jsxs("p",{className:"text-gray-600",children:["Tầng ",T.tang]}),s.jsx("p",{className:"text-gray-600",children:T.tenKp}),s.jsx("p",{className:"text-gray-600",children:T.tenLp}),T.gia&&s.jsxs("p",{className:"text-blue-600 font-medium",children:[j(T.gia),"/đêm"]})]},T.soPhong))}),d&&f&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Thông tin phí đổi phòng:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Giá phòng cũ:"})," ",j(f.giaPhongCu),"/đêm"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Giá phòng mới:"})," ",j(f.giaPhongMoi),"/đêm"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Chênh lệch/đêm:"})," ",j(f.chenhLechGiaMotNgay)]})]}),s.jsxs("div",{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Số ngày còn lại:"})," ",f.soNgayConLai," ngày"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tổng chênh lệch:"})," ",j(f.tongChenhLechGia||0)]}),s.jsxs("p",{className:"font-medium",children:[s.jsx("strong",{children:"Loại giao dịch:"})," ",f.loaiGiaoDich==="THU_THEM"?"Thu thêm":f.loaiGiaoDich==="HOAN_TIEN"?"Hoàn tiền":"Không thay đổi"]})]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>i(1),className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Quay lại"}),s.jsx("button",{onClick:()=>i(3),disabled:!d,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 disabled:bg-gray-300",children:"Tiếp tục"})]})]}),a===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Xác nhận đổi phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lý do đổi phòng"}),s.jsx("textarea",{value:v.lyDo,onChange:T=>y(L=>({...L,lyDo:T.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Nhập lý do đổi phòng..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ghi chú"}),s.jsx("textarea",{value:v.ghiChu,onChange:T=>y(L=>({...L,ghiChu:T.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Ghi chú thêm..."})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Tóm tắt đổi phòng:"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Từ phòng:"})," ",r==null?void 0:r.soPhong," → ",s.jsx("strong",{children:"Sang phòng:"})," ",d==null?void 0:d.soPhong]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ngày đổi:"})," ",new Date(v.ngayDen).toLocaleDateString("vi-VN")]}),f&&f.coPhiPhatSinh&&s.jsxs("p",{children:[s.jsx("strong",{children:"Phí phát sinh:"})," ",j(f.soTienKhachCanTra||f.soTienKhachDuocHoan||0)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>i(2),className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600",children:"Quay lại"}),s.jsx("button",{onClick:k,disabled:x,className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 disabled:bg-gray-300",children:x?"Đang xử lý...":"Xác nhận đổi phòng"})]})]})]})}):null},dA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState(new Set),[c,u]=N.useState({}),[d,h]=N.useState(null),[f,p]=N.useState(""),[x,m]=N.useState(!1),[v,y]=N.useState(null);N.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const X=await Ei.getActiveRentalsWithoutInvoice();X.statusCode===200?t(X.phieuThueList||[]):J.error("Không thể tải danh sách phiếu thuê")}catch(X){console.error("Error fetching rentals:",X),J.error("Lỗi khi tải danh sách phiếu thuê")}finally{n(!1)}},w=async()=>{if(!a.trim()){g();return}try{n(!0);const X=await Ei.searchRentals(a);X.statusCode===200?t(X.phieuThueList||[]):J.error("Không tìm thấy phiếu thuê nào")}catch(X){console.error("Error searching rentals:",X),J.error("Lỗi khi tìm kiếm")}finally{n(!1)}},b=async X=>{const B=new Set(o);B.has(X)?B.delete(X):(B.add(X),await k(X)),l(B)},k=async X=>{try{const B=await Ei.getRentalDetails(X);if(B.statusCode===200&&B.phieuThue){const V=B.phieuThue;if(V.chiTietPhieuThue)for(const ae of V.chiTietPhieuThue)await D(ae.idCtPt)}}catch(B){console.error("Error loading rental rooms:",B),J.error("Lỗi khi tải thông tin phòng")}},D=async X=>{try{const B=await Ei.getRoomGuests(X);B.statusCode===200&&u(V=>({...V,[X]:B.guestList||[]}))}catch(B){console.error("Error loading room guests:",B),u(V=>({...V,[X]:[]}))}},j=(X,B)=>{h({rentalId:X,ctId:B}),p("")},T=()=>{h(null),p("")},L=async()=>{if(!f.trim()){J.error("Vui lòng nhập CCCD");return}if(d)try{const X=await Ei.addGuestToRoom(d.ctId,f.trim());X.statusCode===200?(J.success("Thêm khách thành công"),await D(d.ctId),p("")):J.error(X.message||"Không thể thêm khách")}catch(X){console.error("Error adding guest:",X),X.response&&X.response.data&&X.response.data.message?J.error(X.response.data.message):X.message?J.error(X.message):J.error("Lỗi khi thêm khách")}},K=async(X,B)=>{try{const V=await Ei.removeGuestFromRoom(X,B);V.statusCode===200?(J.success("Xóa khách thành công"),await D(X)):J.error(V.message||"Không thể xóa khách")}catch(V){console.error("Error removing guest:",V),J.error("Lỗi khi xóa khách")}},M=X=>{switch(X==null?void 0:X.toLowerCase()){case"active":case"đang thuê":return"bg-green-100 text-green-800";case"completed":case"đã trả phòng":return"bg-blue-100 text-blue-800";case"cancelled":case"đã hủy":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=async X=>{try{const B=await es.checkRoomChangeEligibility(X.idCtPt);if(B.statusCode===200&&B.roomChangeEligibility){const V=B.roomChangeEligibility;if(!V.eligible){const ae=V.hanChe||[],q=ae.length>0?ae.join(", "):V.reason||"Không đủ điều kiện đổi phòng";J.error(`Cảnh báo: ${q}`)}y(X),m(!0)}else J.error(B.message||"Lỗi khi kiểm tra điều kiện đổi phòng")}catch(B){console.error("Error checking room change eligibility:",B),J.error("Lỗi khi kiểm tra điều kiện đổi phòng")}},z=()=>{m(!1),y(null),g(),J.success("Đổi phòng thành công!")},de=e.filter(X=>{var V,ae,q;if(!a)return!0;const B=a.toLowerCase();return((V=X.idPt)==null?void 0:V.toString().includes(a))||((ae=X.hoTenKhachHang)==null?void 0:ae.toLowerCase().includes(B))||((q=X.cccd)==null?void 0:q.includes(a))});return r?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),s.jsx("span",{className:"ml-2",children:"Đang tải..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý thuê phòng"})}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm kiếm theo mã phiếu thuê, tên khách hàng, CCCD...",value:a,onChange:X=>i(X.target.value),onKeyPress:X=>X.key==="Enter"&&w(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),s.jsxs("button",{onClick:w,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center gap-2",children:[s.jsx(us,{className:"w-4 h-4"}),"Tìm kiếm"]})]})}),s.jsx("div",{className:"space-y-4",children:de.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Không có phiếu thuê nào"}):de.map(X=>s.jsx(hA,{rental:X,isExpanded:o.has(X.idPt),onToggleExpansion:()=>b(X.idPt),roomGuests:c,editingRoom:d,newGuestCCCD:f,setNewGuestCCCD:p,onStartEditing:j,onCancelEditing:T,onAddGuest:L,onRemoveGuest:K,onRoomChange:Y,getStatusColor:M},X.idPt))})]}),s.jsx(uA,{isOpen:x,onClose:()=>m(!1),ctPhieuThue:v,onSuccess:z})]})},hA=({rental:e,isExpanded:t,onToggleExpansion:r,roomGuests:n,editingRoom:a,newGuestCCCD:i,setNewGuestCCCD:o,onStartEditing:l,onCancelEditing:c,onAddGuest:u,onRemoveGuest:d,onRoomChange:h,getStatusColor:f})=>{var p,x;return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:r,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center",children:t?s.jsx(b_,{className:"w-5 h-5 text-gray-400"}):s.jsx(WN,{className:"w-5 h-5 text-gray-400"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Phiếu thuê #",e.idPt]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Khách hàng: ",e.hoTenKhachHang||"N/A"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(ft,{className:"w-4 h-4 mr-1"}),Dd(e.ngayDen)," - ",Dd(e.ngayDi)]})}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${f(e.trangThai)}`,children:e.trangThai||"Đang thuê"})]})]})}),t&&s.jsx("div",{className:"border-t bg-gray-50",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Danh sách phòng (",((p=e.chiTietPhieuThue)==null?void 0:p.length)||0," phòng)"]}),s.jsx("div",{className:"space-y-3",children:((x=e.chiTietPhieuThue)==null?void 0:x.map(m=>s.jsx(fA,{ct:m,rental:e,guests:n[m.idCtPt]||[],isEditing:(a==null?void 0:a.rentalId)===e.idPt&&(a==null?void 0:a.ctId)===m.idCtPt,newGuestCCCD:i,setNewGuestCCCD:o,onStartEditing:()=>l(e.idPt,m.idCtPt),onCancelEditing:c,onAddGuest:u,onRemoveGuest:v=>d(m.idCtPt,v),onRoomChange:h},m.idCtPt)))||s.jsx("div",{className:"text-center py-4 text-gray-500",children:"Không có thông tin phòng"})})]})})]})},fA=({ct:e,rental:t,guests:r,isEditing:n,newGuestCCCD:a,setNewGuestCCCD:i,onStartEditing:o,onCancelEditing:l,onAddGuest:c,onRemoveGuest:u,onRoomChange:d})=>s.jsxs("div",{className:"bg-white rounded-lg border p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("h5",{className:"font-medium text-gray-900",children:["Phòng ",e.soPhong]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.tenKieuPhong," - ",e.tenLoaiPhong]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Giá: ",Pd(e.donGia),"/đêm"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Từ ",Dd(e.ngayDen)," đến ",Dd(e.ngayDi)]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(wr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[r.length," khách"]})]}),s.jsxs("button",{onClick:()=>d(e),className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1 px-2 py-1 border border-blue-200 rounded hover:bg-blue-50",children:[s.jsx(vc,{className:"w-3 h-3"}),"Đổi phòng"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h6",{className:"text-sm font-medium text-gray-700",children:"Danh sách khách:"}),!n&&s.jsxs("button",{onClick:o,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[s.jsx(br,{className:"w-3 h-3"}),"Quản lý khách"]})]}),r.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"Chưa có thông tin khách"}):s.jsx("div",{className:"space-y-1",children:r.map((h,f)=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 px-3 py-2 rounded",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pt,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:h.cccd}),h.hoTen&&s.jsxs("span",{className:"text-sm text-gray-600",children:["- ",h.hoTen]})]}),n&&s.jsx("button",{onClick:()=>u(h.cccd),className:"text-red-600 hover:text-red-700",children:s.jsx(ds,{className:"w-4 h-4"})})]},f))}),n&&s.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"text",placeholder:"Nhập CCCD khách hàng",value:a,onChange:h=>i(h.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-primary-500"}),s.jsxs("button",{onClick:c,className:"px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 flex items-center gap-1",children:[s.jsx(br,{className:"w-4 h-4"}),"Thêm"]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:l,className:"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600 flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3"}),"Hủy"]})})]})]})]}),bl={getAllInvoices:async()=>{try{return(await W.get("/api/hoa-don/all")).data}catch(e){throw console.error("Error fetching all invoices:",e),e}},getInvoiceById:async e=>{try{return(await W.get(`/api/hoa-don/get-by-id/${e}`)).data}catch(t){throw console.error("Error fetching invoice by ID:",t),t}},createInvoice:async e=>{try{return(await W.post("/api/hoa-don/create",e)).data}catch(t){throw console.error("Error creating invoice:",t),t}},createInvoiceFromCheckout:async e=>{try{return(await W.post(`/api/hoa-don/create-from-checkout/${e}`)).data}catch(t){throw console.error("Error creating invoice from checkout:",t),t}},getInvoiceByRental:async e=>{try{return(await W.get(`/api/hoa-don/by-phieu-thue/${e}`)).data}catch(t){throw console.error("Error fetching invoice by rental:",t),t}},updateInvoiceStatus:async(e,t)=>{try{return(await W.put(`/api/hoa-don/update-status/${e}?trangThai=${t}`)).data}catch(r){throw console.error("Error updating invoice status:",r),r}},deleteInvoice:async e=>{try{return(await W.delete(`/api/hoa-don/delete/${e}`)).data}catch(t){throw console.error("Error deleting invoice:",t),t}},printInvoice:async e=>{try{return(await W.get(`/api/hoa-don/print/${e}`,{responseType:"blob"})).data}catch(t){throw console.error("Error printing invoice:",t),t}},exportInvoiceToPDF:async e=>{try{return(await W.post("/api/hoa-don/export-pdf",e,{responseType:"blob"})).data}catch(t){throw console.error("Error exporting invoice to PDF:",t),t}},getInvoiceDetails:async e=>{try{return(await W.get(`/api/hoa-don/details/${e}`)).data}catch(t){throw console.error("Error fetching invoice details:",t),t}},createInvoiceFromCheckoutWithDate:async(e,t)=>{try{return(await W.post(`/api/hoa-don/create-from-checkout/${e}?actualCheckOut=${t}`)).data}catch(r){throw console.error("Error creating invoice from checkout with date:",r),r}},getInvoicesByDateRange:async(e,t)=>{try{return(await W.get(`/api/hoa-don/by-date-range?startDate=${e}&endDate=${t}`)).data}catch(r){throw console.error("Error fetching invoices by date range:",r),r}},getInvoicesByStatus:async e=>{try{return(await W.get(`/api/hoa-don/by-status?trangThai=${e}`)).data}catch(t){throw console.error("Error fetching invoices by status:",t),t}}},pA=({selectedGuest:e,bill:t,checkOutData:r,onCheckOut:n,onCancel:a,loading:i})=>{var p,x,m,v,y;const[o,l]=N.useState(!1),[c,u]=N.useState(!1),d=Math.max(0,t.total-((e==null?void 0:e.depositAmount)||0)),h=()=>{const g=d,w=`Thanh toan hoa don ${(e==null?void 0:e.maPhieuThue)||""}`;return`https://img.vietqr.io/image/MB-0818181948-compact2.png?amount=${g}&addInfo=${encodeURIComponent(w)}`},f=()=>{if((r==null?void 0:r.paymentMethod)==="transfer"&&!c){J.error("Vui lòng xác nhận đã nhận tiền chuyển khoản");return}n()};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(yi,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Hóa đơn thanh toán"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tiền phòng:"}),s.jsxs("span",{children:[(p=t.roomCharges)==null?void 0:p.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Dịch vụ:"}),s.jsxs("span",{children:[(x=t.serviceCharges)==null?void 0:x.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Phụ thu:"}),s.jsxs("span",{children:[(m=t.surcharges||0)==null?void 0:m.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"Tổng cộng:"}),s.jsxs("span",{children:[(v=t.total)==null?void 0:v.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"border-t pt-2 space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Tiền đặt cọc:"}),s.jsxs("span",{children:[(y=(e==null?void 0:e.depositAmount)||0)==null?void 0:y.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-bold text-red-600 text-lg",children:[s.jsx("span",{children:"Số tiền phải trả:"}),s.jsxs("span",{children:[d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Phương thức thanh toán"}),(r==null?void 0:r.paymentMethod)==="cash"&&s.jsxs("div",{className:"flex items-center p-3 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx(m_,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-green-800",children:"Thanh toán tiền mặt"}),s.jsxs("p",{className:"text-sm text-green-600",children:["Khách hàng cần thanh toán: ",s.jsxs("span",{className:"font-bold",children:[d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]})]})]})]}),(r==null?void 0:r.paymentMethod)==="transfer"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx(Gl,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-blue-800",children:"Thanh toán chuyển khoản"}),s.jsxs("p",{className:"text-sm text-blue-600",children:["Số tiền: ",s.jsxs("span",{className:"font-bold",children:[d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]})]})]}),s.jsxs("button",{onClick:()=>l(!o),className:"flex items-center px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors",children:[s.jsx(L_,{className:"w-4 h-4 mr-1"}),o?"Ẩn QR":"Hiện QR"]})]}),o&&s.jsxs("div",{className:"text-center p-4 bg-white border rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Quét mã QR để chuyển khoản"}),s.jsx("img",{src:h(),alt:"QR Code chuyển khoản",className:"mx-auto mb-3 max-w-xs"}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsx("p",{children:"Ngân hàng: MB Bank"}),s.jsx("p",{children:"Số TK: 0818181948"}),s.jsxs("p",{children:["Số tiền: ",d==null?void 0:d.toLocaleString("vi-VN")," VNĐ"]}),s.jsxs("p",{children:["Nội dung: Thanh toán hóa đơn ",e==null?void 0:e.maPhieuThue]})]})]}),s.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:g=>u(g.target.checked),className:"mr-2"}),s.jsx("span",{className:"text-sm text-yellow-800",children:"Xác nhận đã nhận tiền chuyển khoản từ khách hàng"})]})})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:a,className:"btn-outline flex-1",children:"Hủy"}),s.jsxs("button",{onClick:f,disabled:i||!(r!=null&&r.actualCheckOut)||(r==null?void 0:r.paymentMethod)==="transfer"&&!c,className:"btn-primary flex-1",children:[i?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):null,"Hoàn tất Check-out"]})]})]})},Gr={name:"KHÁCH SẠN HOTEL BOOKING",address:"97 Man Thiện, Hiệp Phú, Thủ Đức, Hồ Chí Minh",phone:"0563560789",email:"info@hotelbooking.com",logo:"/images/hotel-logo.png"},vs={UNPAID:"Chưa thanh toán",PAID:"Đã thanh toán",CANCELLED:"Đã hủy",PARTIAL:"Thanh toán một phần"},Rf={CASH:"cash",TRANSFER:"transfer",CARD:"card"},Iy={[Rf.CASH]:"Tiền mặt",[Rf.TRANSFER]:"Chuyển khoản",[Rf.CARD]:"Thẻ tín dụng"},I2=({isOpen:e,onClose:t,invoice:r,rentalDetails:n,selectedGuest:a,bill:i,checkOutData:o})=>{if(!e||!r||!a)return null;const l=v=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(v||0),c=(v,y)=>{if(!v&&!y)return 0;if(!v)return 1;if(!y)return-1;try{const g=parseInt(v),w=parseInt(y);return g-w}catch{return v.localeCompare(y)}},u=v=>v?[...v].sort((y,g)=>c(y.tenPhong,g.tenPhong)):[],d=v=>v?[...v].sort((y,g)=>{const w=c(y.tenPhong,g.tenPhong);return w!==0?w:!y.ngaySD&&!g.ngaySD?0:y.ngaySD?g.ngaySD?new Date(y.ngaySD)-new Date(g.ngaySD):-1:1}):[],h=v=>v?[...v].sort((y,g)=>{const w=c(y.tenPhong,g.tenPhong);return w!==0?w:!y.ngayPhatSinh&&!g.ngayPhatSinh?0:y.ngayPhatSinh?g.ngayPhatSinh?new Date(y.ngayPhatSinh)-new Date(g.ngayPhatSinh):-1:1}):[],f=v=>v?new Date(v).toLocaleDateString("vi-VN"):"N/A",p=()=>{try{const v=window.open("","_blank","width=800,height=600");if(!v){J.error("Không thể mở cửa sổ in. Vui lòng cho phép popup.");return}const y=x();v.document.write(y),v.document.close(),setTimeout(()=>{v.print()},500)}catch(v){console.error("Error printing invoice:",v),J.error("Có lỗi xảy ra khi in hóa đơn")}},x=()=>{const v=new Date().toLocaleDateString("vi-VN"),y=new Date().toLocaleTimeString("vi-VN");return`
      <!DOCTYPE html>
      <html lang="vi">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Hóa đơn ${r.idHd}</title>
        <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }
          body {
            font-family: 'Times New Roman', serif;
            line-height: 1.4;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: white;
          }

          .header {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #0066cc;
            padding-bottom: 20px;
          }

          .hotel-name {
            font-size: 24px;
            font-weight: bold;
            color: #0066cc;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
          }

          .hotel-info {
            font-size: 13px;
            color: #666;
            margin-bottom: 15px;
            line-height: 1.3;
          }

          .invoice-title {
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0 8px 0;
            color: #333;
            text-transform: uppercase;
          }

          .invoice-meta {
            font-size: 14px;
            color: #666;
            margin-bottom: 5px;
          }

          .section-title {
            font-size: 16px;
            font-weight: bold;
            color: #0066cc;
            margin: 25px 0 15px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #ddd;
          }

          .customer-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
          }

          .info-row {
            display: flex;
            margin: 3px 0;
            font-size: 14px;
          }

          .info-label {
            font-weight: bold;
            min-width: 120px;
            color: #555;
          }

          .info-value {
            flex: 1;
            color: #333;
          }

          .table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 13px;
          }

          .table th {
            background: linear-gradient(135deg, #0066cc, #004499);
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: bold;
            border: 1px solid #0066cc;
          }

          .table td {
            border: 1px solid #ddd;
            padding: 10px 8px;
            text-align: center;
          }

          .table tbody tr:nth-child(even) {
            background-color: #f9f9f9;
          }

          .table tbody tr:hover {
            background-color: #f0f8ff;
          }

          .table .text-left { text-align: left; }
          .table .text-right { text-align: right; }

          .total-section {
            margin-top: 30px;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 5px;
          }

          .total-row {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 14px;
            padding: 3px 0;
          }

          .total-label {
            font-weight: bold;
            color: #555;
          }

          .total-value {
            font-weight: bold;
            color: #333;
          }

          .total-final {
            font-weight: bold;
            font-size: 16px;
            border-top: 2px solid #0066cc;
            padding-top: 10px;
            margin-top: 10px;
            color: #0066cc;
          }

          .footer {
            margin-top: 40px;
            text-align: center;
            font-size: 13px;
            color: #666;
            border-top: 1px solid #ddd;
            padding-top: 20px;
          }

          .signature-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
            margin-top: 10px;
            text-align: center;
          }

          .signature-box {
            padding: 20px 0;
          }

          .signature-title {
            font-weight: bold;
            margin-bottom: 60px;
            color: #333;
          }

          .signature-line {
            border-top: 1px solid #333;
            margin-top: 10px;
            font-style: italic;
            color: #666;
            font-size: 12px;
          }

          @media print {
            body {
              margin: 0;
              padding: 15px;
              font-size: 12px;
            }
            .header { margin-bottom: 20px; }
            .section-title { margin: 15px 0 10px 0; }
            .total-section { margin-top: 20px; }
            .footer { margin-top: 20px; }
            .signature-section { margin-top: 10px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="hotel-name">${Gr.name}</div>
          <div class="hotel-info">
            Địa chỉ: ${Gr.address}<br>
            Điện thoại: ${Gr.phone} | Email: ${Gr.email}
          </div>
          <div class="invoice-title">HÓA ĐƠN THANH TOÁN</div>
          <div class="invoice-meta">Mã hóa đơn: ${r.idHd}</div>
          <div class="invoice-meta">Ngày xuất: ${v} - ${y}</div>
        </div>

        <div class="section-title">Thông tin khách hàng</div>
        <div class="customer-info">
          <div>
            <div class="info-row">
              <span class="info-label">Họ tên:</span>
              <span class="info-value">${(a==null?void 0:a.customerName)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Số điện thoại:</span>
              <span class="info-value">${(a==null?void 0:a.customerPhone)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Email:</span>
              <span class="info-value">${(a==null?void 0:a.customerEmail)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">CCCD:</span>
              <span class="info-value">${(a==null?void 0:a.cccd)||"N/A"}</span>
            </div>
          </div>
          <div>
            <div class="info-row">
              <span class="info-label">Nhân viên thực hiện:</span>
              <span class="info-value">${(n==null?void 0:n.hoTenNhanVien)||(a==null?void 0:a.employeeName)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Mã phiếu thuê:</span>
              <span class="info-value">${(a==null?void 0:a.maPhieuThue)||"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Ngày check-in:</span>
              <span class="info-value">${a!=null&&a.checkIn?f(a.checkIn):"N/A"}</span>
            </div>
            <div class="info-row">
              <span class="info-label">Ngày check-out:</span>
              <span class="info-value">${r.ngayLap?f(r.ngayLap):"N/A"}</span>
            </div>
          </div>
        </div>

        ${n&&n.rooms&&n.rooms.length>0?`
        <div class="section-title">Chi tiết phòng</div>
        <table class="table">
          <thead>
            <tr>
              <th>Phòng</th>
              <th>Loại phòng</th>
              <th>Ngày đến</th>
              <th>Ngày đi</th>
              <th>Số ngày</th>
              <th class="text-right">Đơn giá</th>
              <th class="text-right">Thành tiền</th>
            </tr>
          </thead>
          <tbody>
            ${u(n.rooms).map(g=>`
            <tr>
              <td class="text-left">${g.tenPhong}</td>
              <td class="text-left">${g.loaiPhong}</td>
              <td>${f(g.ngayDen)}</td>
              <td>${f(g.ngayDi)}</td>
              <td>${g.soNgay}</td>
              <td class="text-right">${l(g.donGia)}</td>
              <td class="text-right">${l(g.thanhTien)}</td>
            </tr>
            `).join("")}
          </tbody>
        </table>
        `:""}

        ${n&&n.services&&n.services.length>0?`
        <div class="section-title">Dịch vụ sử dụng</div>
        <table class="table">
          <thead>
            <tr>
              <th>Dịch vụ</th>
              <th>Phòng</th>
              <th>Ngày sử dụng</th>
              <th class="text-right">Đơn giá</th>
              <th>Số lượng</th>
              <th class="text-right">Thành tiền</th>
            </tr>
          </thead>
          <tbody>
            ${d(n.services).map(g=>`
            <tr>
              <td class="text-left">${g.tenDichVu}</td>
              <td class="text-left">${g.tenPhong}</td>
              <td>${f(g.ngaySD)}</td>
              <td class="text-right">${l(g.gia)}</td>
              <td>${g.soLuong}</td>
              <td class="text-right">${l(g.thanhTien)}</td>
            </tr>
            `).join("")}
          </tbody>
        </table>
        `:""}

        ${n&&n.surcharges&&n.surcharges.length>0?`
        <div class="section-title">Phụ thu</div>
        <table class="table">
          <thead>
            <tr>
              <th>Loại phụ thu</th>
              <th>Phòng</th>
              <th>Ngày phát sinh</th>
              <th class="text-right">Đơn giá</th>
              <th>Số lượng</th>
              <th class="text-right">Thành tiền</th>
            </tr>
          </thead>
          <tbody>
            ${h(n.surcharges).map(g=>`
            <tr>
              <td class="text-left">${g.loaiPhuThu}</td>
              <td class="text-left">${g.tenPhong}</td>
              <td>${f(g.ngayPhatSinh)}</td>
              <td class="text-right">${l(g.donGia)}</td>
              <td>${g.soLuong}</td>
              <td class="text-right">${l(g.thanhTien)}</td>
            </tr>
            `).join("")}
          </tbody>
        </table>
        `:""}

        <div class="section-title">Tổng kết thanh toán</div>
        <div class="total-section">
          <div class="total-row">
            <span class="total-label">Tiền phòng:</span>
            <span class="total-value">${l((n==null?void 0:n.tongTienPhong)||i.roomCharges)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Tiền dịch vụ:</span>
            <span class="total-value">${l((n==null?void 0:n.tongTienDichVu)||i.serviceCharges)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Phụ thu:</span>
            <span class="total-value">${l((n==null?void 0:n.tongTienPhuThu)||i.surcharges)}</span>
          </div>
          <div class="total-row total-final">
            <span class="total-label">TỔNG CỘNG:</span>
            <span class="total-value">${l((n==null?void 0:n.tongTien)||i.total)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Tiền đặt cọc:</span>
            <span class="total-value">${l((a==null?void 0:a.depositAmount)||0)}</span>
          </div>
          <div class="total-row">
            <span class="total-label">Phương thức thanh toán:</span>
            <span class="total-value">${Iy[o==null?void 0:o.paymentMethod]||(o==null?void 0:o.paymentMethod)||"N/A"}</span>
          </div>
        </div>

        <div class="signature-section">
          <div class="signature-box">
            <div class="signature-title">Khách hàng</div>
            <div class="signature-line">(Ký và ghi rõ họ tên)</div>
          </div>
          <div class="signature-box">
            <div class="signature-title">Nhân viên thu ngân</div>
            <div class="signature-line">(Ký và ghi rõ họ tên)</div>
          </div>
        </div>

        <div class="footer">
          <p><strong>Cảm ơn quý khách đã sử dụng dịch vụ!</strong></p>
          <p>${Gr.name} - ${Gr.address}</p>
          <p>Hotline: ${Gr.phone} | Email: ${Gr.email}</p>
        </div>
      </body>
      </html>
    `},m=async()=>{try{const v=x(),y=new Blob([v],{type:"text/html"}),g=URL.createObjectURL(y),w=document.createElement("a");w.href=g,w.download=`HoaDon_${r.idHd}.html`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(g),J.success("Hóa đơn đã được tải xuống!")}catch(v){console.error("Error downloading invoice:",v),J.error("Có lỗi xảy ra khi tải xuống hóa đơn")}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{className:"text-center flex-1",children:[s.jsxs("div",{className:"flex items-center justify-center mb-2",children:[s.jsx("img",{src:Gr.logo,alt:"Hotel Logo",className:"h-12 w-12 mr-3",onError:v=>{v.target.style.display="none"}}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:Gr.name}),s.jsx("p",{className:"text-sm text-gray-600",children:Gr.address}),s.jsxs("p",{className:"text-sm text-gray-600",children:["ĐT: ",Gr.phone," | Email: ",Gr.email]})]})]}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"HÓA ĐƠN THANH TOÁN"}),s.jsxs("p",{className:"text-lg font-semibold text-blue-600",children:["Mã hóa đơn: ",r.idHd]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Ngày xuất: ",f(r.ngayLap)," - ",new Date().toLocaleTimeString("vi-VN")]})]}),s.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 p-2",children:s.jsx(Nr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 text-blue-600 flex items-center",children:[s.jsx(Pt,{className:"w-5 h-5 mr-2"}),"Thông tin khách hàng"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pt,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Họ tên:"}),s.jsx("span",{className:"ml-2",children:a.customerName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(cs,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"SĐT:"}),s.jsx("span",{className:"ml-2",children:a.customerPhone})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ls,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("span",{className:"ml-2",children:a.customerEmail||"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gl,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"CCCD:"}),s.jsx("span",{className:"ml-2",children:a.cccd||"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pt,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Nhân viên thực hiện:"}),s.jsx("span",{className:"ml-2",children:(n==null?void 0:n.hoTenNhanVien)||a.employeeName||"N/A"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ft,{className:"w-4 h-4 mr-2 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Mã phiếu thuê:"}),s.jsx("span",{className:"ml-2",children:a.maPhieuThue})]})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-3 text-blue-600 flex items-center",children:[s.jsx(ft,{className:"w-5 h-5 mr-2"}),"Thông tin lưu trú"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ngày check-in :"}),s.jsx("div",{className:"text-blue-600 font-medium",children:f(a.checkIn||r.ngayCheckIn)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Ngày check-out thực tế:"}),s.jsx("div",{className:"text-blue-600 font-medium",children:f(r.ngayLap)})]})]})]}),n&&n.rooms&&n.rooms.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 border-b text-blue-600",children:"Thông tin phòng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đến"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đi"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số ngày"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u(n.rooms).map((v,y)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:v.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:v.loaiPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(v.ngayDen)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(v.ngayDi)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:v.soNgay}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:l(v.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:l(v.thanhTien)})]},y))})]})})]}),n&&n.services&&n.services.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 border-b text-blue-600",children:"Dịch vụ sử dụng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Dịch vụ"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày sử dụng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d(n.services).map((v,y)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:v.tenDichVu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:v.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(v.ngaySD)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:l(v.gia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:v.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:l(v.thanhTien)})]},y))})]})})]}),n&&n.surcharges&&n.surcharges.length>0&&s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 border-b text-blue-600",children:"Phụ thu"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phụ thu"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày phát sinh"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h(n.surcharges).map((v,y)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:v.loaiPhuThu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:v.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:f(v.ngayPhatSinh)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:l(v.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:v.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 text-right",children:l(v.thanhTien)})]},y))})]})})]}),s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-600",children:"Tổng kết thanh toán"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tiền phòng:"}),s.jsx("span",{className:"font-medium",children:l((n==null?void 0:n.tongTienPhong)||i.roomCharges)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tiền dịch vụ:"}),s.jsx("span",{className:"font-medium",children:l((n==null?void 0:n.tongTienDichVu)||i.serviceCharges)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Phụ thu:"}),s.jsx("span",{className:"font-medium",children:l((n==null?void 0:n.tongTienPhuThu)||i.surcharges)})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold text-blue-600",children:[s.jsx("span",{children:"TỔNG CỘNG:"}),s.jsx("span",{children:l((n==null?void 0:n.tongTien)||i.total)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tiền đặt cọc:"}),s.jsx("span",{className:"font-medium",children:l((a==null?void 0:a.depositAmount)||0)})]}),s.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold text-red-600",children:[s.jsx("span",{children:"SỐ TIỀN PHẢI THANH TOÁN:"}),s.jsx("span",{children:l(Math.max(0,((n==null?void 0:n.tongTien)||i.total)-((a==null?void 0:a.depositAmount)||0)))})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Phương thức thanh toán:"}),s.jsx("span",{className:"font-medium",children:Iy[o.paymentMethod]||o.paymentMethod})]})})]}),s.jsxs("div",{className:"flex space-x-3 pt-4 border-t print:hidden",children:[s.jsxs("button",{onClick:p,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center justify-center",children:[s.jsx(F_,{className:"w-4 h-4 mr-2"}),"In hóa đơn"]}),s.jsxs("button",{onClick:m,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center",children:[s.jsx(wm,{className:"w-4 h-4 mr-2"}),"Tải xuống"]})]})]})]})})},mA=()=>{var re;const e=Vn(),[t,r]=N.useState(""),[n,a]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState(null),[u,d]=N.useState(!1),[h,f]=N.useState("all"),[p,x]=N.useState(1),m=5,[v,y]=N.useState({actualCheckOut:"",notes:"",paymentMethod:"cash"}),[g,w]=N.useState({roomCharges:0,serviceCharges:0,surcharges:0,paidAmount:0,total:0}),[b,k]=N.useState(null),[D,j]=N.useState(!1),[T,L]=N.useState(null),[K,M]=N.useState(!1),[Y,z]=N.useState(null),[de,X]=N.useState(!1);N.useEffect(()=>{B()},[]),N.useEffect(()=>{V()},[n,t,h]);const B=async()=>{try{d(!0);const A=(await _d.getCurrentStays()).phieuThueList||[],se=await bl.getAllInvoices(),he=se.statusCode===200?se.hoaDonList||[]:[],ve=new Set(he.map(we=>we.idPt)),Ee=A.filter(we=>!ve.has(we.idPt)).map(we=>{const ot=we.chiTietPhieuThue&&we.chiTietPhieuThue.length>0?we.chiTietPhieuThue.filter(Zt=>Zt.ttThanhToan!=="Đã thanh toán").map(Zt=>({soPhong:Zt.soPhong,tenKieuPhong:Zt.tenKieuPhong,tenLoaiPhong:Zt.tenLoaiPhong,tang:Zt.tang})):[],Et=ot.length>0?ot[0]:null,fr=new Date,Ir=new Date(we.ngayDi);Ir.setHours(12,0,0,0);const Ws=fr>Ir;let xs="",pr=0;if(Ws){const Zt=Math.ceil((fr-Ir)/36e5);Zt>=12?(pr=Math.ceil(Zt/24),xs=`${pr} ngày`):xs=`${Zt} giờ`}return{id:we.idPt,maPhieuThue:`PT${we.idPt}`,customerName:we.hoTenKhachHang||"N/A",customerPhone:we.sdtKhachHang||"N/A",customerEmail:we.emailKhachHang||"N/A",cccd:we.cccd,checkIn:we.ngayDen,checkOut:we.ngayDi,roomNumber:Et?Et.soPhong:"N/A",roomType:Et?`${Et.tenKieuPhong} - ${Et.tenLoaiPhong}`:"N/A",status:Ws?"overdue":"checkedin",overdueDays:pr,overdueStatus:xs,isOverdue:Ws,bookingId:we.idPd,employeeId:we.idNv,employeeName:we.hoTenNhanVien,chiTietPhieuThue:we.chiTietPhieuThue||[],roomInfo:ot}});a(Ee),o(Ee)}catch(C){console.error("Error fetching checked-in guests:",C),a([]),o([])}finally{d(!1)}},V=()=>{let C=n;if(h==="today"){const A=new Date().toISOString().split("T")[0];C=C.filter(se=>se.checkOut?se.checkOut<=A:!1)}t.trim()&&(C=C.filter(A=>A.customerName.toLowerCase().includes(t.toLowerCase())||A.maPhieuThue.toLowerCase().includes(t.toLowerCase())||A.customerPhone.includes(t))),o(C),x(1)},ae=C=>{r(C)},q=C=>{f(C)},Z=C=>{const A=C.getTimezoneOffset();return new Date(C.getTime()-A*6e4).toISOString().slice(0,16)},ge=(C,A)=>{if(!C&&!A)return 0;if(!C)return 1;if(!A)return-1;try{const se=parseInt(C),he=parseInt(A);return se-he}catch{return C.localeCompare(A)}},_=C=>C?[...C].sort((A,se)=>ge(A.soPhong,se.soPhong)):[],ee=async C=>{c(C),y({actualCheckOut:Z(new Date),notes:"",paymentMethod:"cash"});let A=0,se=0,he=0;C.chiTietPhieuThue&&C.chiTietPhieuThue.length>0&&C.chiTietPhieuThue.forEach(ve=>{if(ve.ttThanhToan!=="Đã thanh toán"&&ve.donGia&&ve.ngayDen){const Ee=new Date(ve.ngayDen);Ee.setHours(0,0,0,0);const we=ve.ngayDi?new Date(ve.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,ot=new Date(we);ot.setHours(0,0,0,0);const Et=Math.max(1,Math.ceil((ot-Ee)/(1e3*60*60*24))),fr=ve.donGia*Et;A+=fr,ve.ttThanhToan}ve.danhSachDichVu&&ve.danhSachDichVu.length>0&&ve.danhSachDichVu.forEach(Ee=>{Ee.ttThanhToan!=="Đã thanh toán"&&(se+=Ee.thanhTien||0)}),ve.danhSachPhuThu&&ve.danhSachPhuThu.length>0&&ve.danhSachPhuThu.forEach(Ee=>{Ee.ttThanhToan!=="Đã thanh toán"&&(he+=Ee.thanhTien||0)})}),w({roomCharges:A,serviceCharges:se,surcharges:he,paidAmount:0,total:A+se+he}),await Q(C.id)},Q=async C=>{try{d(!0);const se=(await _d.getRentalDetails(C)).phieuThueDetails;L(se),se&&l&&c(he=>{var ve;return{...he,customerEmail:se.emailKhachHang||he.customerEmail,roomCount:se.rooms?se.rooms.length:((ve=he.chiTietPhieuThue)==null?void 0:ve.length)||1,depositAmount:se.soTienCoc||0}})}catch(A){console.error("Error fetching rental details:",A),J.error("Không thể tải thông tin chi tiết phiếu thuê")}finally{d(!1)}},G=async C=>{try{T||await Q(C),M(!0)}catch(A){console.error("Error showing rental details:",A),J.error("Không thể hiển thị thông tin chi tiết phiếu thuê")}},U=async()=>{if(l)try{d(!0);const C=v.actualCheckOut?new Date(v.actualCheckOut).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],A=await pe(l.id,C);if(A&&A.idHd){J.success(`Check-out thành công cho ${l.customerName}!`);try{if(await bl.updateInvoiceStatus(A.idHd,vs.PAID),J.success("Trạng thái hóa đơn đã được cập nhật!"),l.bookingId)try{await bookingService.updateBookingStatus(l.bookingId,"Đã hoàn thành")}catch(se){console.error("Error updating booking status:",se)}e(`/staff/invoices?highlight=${A.idHd}`);return}catch(se){console.error("Error updating invoice status:",se),J.error("Không thể cập nhật trạng thái hóa đơn")}a(se=>se.filter(he=>he.id!==l.id)),c(null),y({actualCheckOut:"",notes:"",paymentMethod:"cash"}),w({roomCharges:0,serviceCharges:0,surcharges:0,paidAmount:0,total:0}),B()}else J.error("Không thể tạo hóa đơn từ checkout")}catch(C){J.error("Có lỗi xảy ra khi check-out"),console.error("Check-out error:",C)}finally{d(!1)}},pe=async(C,A)=>{try{const se=await bl.createInvoiceFromCheckoutWithDate(C,A);return se.statusCode===200?(k(se.hoaDon),J.success("Hóa đơn đã được tạo thành công!"),j(!0),se.hoaDon):(J.error("Không thể tạo hóa đơn: "+se.message),null)}catch(se){return console.error("Error creating invoice from checkout:",se),J.error("Có lỗi xảy ra khi tạo hóa đơn"),null}},ne=C=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C||0),H=()=>!K||!T?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Chi tiết phiếu thuê #",T.idPt]}),s.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Thông tin khách hàng"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Họ tên:"})," ",T.hoTenKhachHang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CCCD:"})," ",T.cccdKhachHang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",T.sdtKhachHang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",T.emailKhachHang]})]})]}),T.rooms&&T.rooms.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Thông tin phòng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đến"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày đi"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số ngày"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.chiTietPhieuThue&&l.chiTietPhieuThue.filter(C=>C.ttThanhToan!=="Đã thanh toán").map((C,A)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.soPhong}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:[C.tenKieuPhong," ",C.tenLoaiPhong]}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:new Date(C.ngayDen).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:C.ngayDi?new Date(C.ngayDi).toLocaleDateString("vi-VN"):"Chưa xác định"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:(()=>{if(C.ngayDen){const se=new Date(C.ngayDen);se.setHours(0,0,0,0);const he=C.ngayDi?new Date(C.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,ve=new Date(he);return ve.setHours(0,0,0,0),Math.max(1,Math.ceil((ve-se)/(1e3*60*60*24)))}return 1})()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:ne(C.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:(()=>{if(C.donGia&&C.ngayDen){const se=new Date(C.ngayDen);se.setHours(0,0,0,0);const he=C.ngayDi?new Date(C.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,ve=new Date(he);ve.setHours(0,0,0,0);const Ee=Math.max(1,Math.ceil((ve-se)/(1e3*60*60*24))),we=C.donGia*Ee;return ne(we)}return ne(C.donGia||0)})()})]},A))})]})})]}),T.services&&T.services.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Dịch vụ sử dụng"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Dịch vụ"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày sử dụng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.services.map((C,A)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.tenDichVu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:C.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:new Date(C.ngaySD).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:ne(C.gia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:ne(C.thanhTien)})]},A))})]})})]}),T.surcharges&&T.surcharges.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600",children:"Phụ thu"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Loại phụ thu"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Phòng"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Ngày phát sinh"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Đơn giá"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Số lượng"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider border-b",children:"Thành tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.surcharges.map((C,A)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.loaiPhuThu}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:C.tenPhong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:new Date(C.ngayPhatSinh).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right",children:ne(C.donGia)}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.soLuong}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-right font-medium",children:ne(C.thanhTien)})]},A))})]})})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-blue-600 ",children:"Tổng kết chi phí"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tiền phòng:"}),s.jsx("span",{className:"font-medium",children:ne((()=>{let C=0;return l.chiTietPhieuThue&&l.chiTietPhieuThue.forEach(A=>{if(A.ttThanhToan!=="Đã thanh toán"&&A.donGia&&A.ngayDen){const se=new Date(A.ngayDen);se.setHours(0,0,0,0);const he=A.ngayDi?new Date(A.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,ve=new Date(he);ve.setHours(0,0,0,0);const Ee=Math.max(1,Math.ceil((ve-se)/(1e3*60*60*24)));C+=A.donGia*Ee}}),C})())})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Tiền dịch vụ:"}),s.jsx("span",{className:"font-medium",children:ne(T.tongTienDichVu)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Phụ thu:"}),s.jsx("span",{className:"font-medium",children:ne(T.tongTienPhuThu)})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2 text-blue-600",children:[s.jsx("span",{children:"Tổng cộng:"}),s.jsx("span",{className:"text-blue-600",children:ne((()=>{let C=0;return l.chiTietPhieuThue&&l.chiTietPhieuThue.forEach(A=>{if(A.ttThanhToan!=="Đã thanh toán"&&A.donGia&&A.ngayDen){const se=new Date(A.ngayDen);se.setHours(0,0,0,0);const he=A.ngayDi?new Date(A.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,ve=new Date(he);ve.setHours(0,0,0,0);const Ee=Math.max(1,Math.ceil((ve-se)/(1e3*60*60*24)));C+=A.donGia*Ee}}),C+(T.tongTienDichVu||0)+(T.tongTienPhuThu||0)})())})]})]})]})]})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Check-out khách hàng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thực hiện check-out và thanh toán cho khách hàng"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(us,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Khách đang lưu trú"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("button",{onClick:()=>q("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="all"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tất cả"}),s.jsx("button",{onClick:()=>q("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${h==="today"?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Hôm nay"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("input",{type:"text",placeholder:"Tìm theo tên, mã đặt phòng, SĐT...",value:t,onChange:C=>ae(C.target.value),className:"input"})}),s.jsx("div",{className:"space-y-3",children:(()=>{const C=(p-1)*m,A=C+m,se=i.slice(C,A);return se.length>0?se.map(he=>s.jsxs("div",{className:`p-4 border rounded-lg transition-colors ${(l==null?void 0:l.id)===he.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>ee(he),children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:he.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:he.maPhieuThue})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-green-600 bg-green-100",children:"Đang lưu trú"}),he.isOverdue&&s.jsxs("span",{className:"px-2 py-1 text-xs font-semibold rounded-full text-orange-600 bg-orange-100",children:["Quá hạn ",he.overdueStatus||`${he.overdueDays} ngày`]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600 cursor-pointer",onClick:()=>ee(he),children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",he.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",he.checkIn]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-out dự kiến:"})," ",he.checkOut]})]})]},he.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Za,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:"Không có khách nào đang lưu trú"})]})})()}),i.length>m&&s.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[s.jsx("button",{onClick:()=>x(C=>Math.max(C-1,1)),disabled:p===1,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Array.from({length:Math.ceil(i.length/m)},(C,A)=>s.jsx("button",{onClick:()=>x(A+1),className:`px-3 py-1 rounded border ${p===A+1?"bg-primary-500 text-white border-primary-500":"hover:bg-gray-50"}`,children:A+1},A+1)),s.jsx("button",{onClick:()=>x(C=>Math.min(C+1,Math.ceil(i.length/m))),disabled:p===Math.ceil(i.length/m),className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Za,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin check-out"})]}),l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:"Thông tin khách hàng"}),s.jsxs("button",{onClick:()=>G(l.id),className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-colors flex items-center",children:[s.jsx(yi,{className:"w-4 h-4 mr-1"}),"Xem Chi Tiết"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tên:"})," ",l.customerName]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SĐT:"})," ",l.customerPhone]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",l.customerEmail||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"CCCD:"})," ",l.cccd||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Số lượng phòng:"})," ",((re=l.chiTietPhieuThue)==null?void 0:re.length)||0]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-in:"})," ",l.checkIn]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Check-out dự kiến:"})," ",l.checkOut]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium text-green-600",children:"Trạng thái:"}),s.jsx("span",{className:"text-green-600 ml-2",children:"Đang lưu trú"}),l.isOverdue&&s.jsxs("span",{className:"text-orange-600 ml-2",children:["- Quá hạn ",l.overdueStatus||`${l.overdueDays} ngày`]})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Phòng đã sử dụng"}),l.chiTietPhieuThue&&l.chiTietPhieuThue.filter(C=>C.ttThanhToan!=="Đã thanh toán").length>0?s.jsx("div",{className:"space-y-2",children:_(l.chiTietPhieuThue.filter(C=>C.ttThanhToan!=="Đã thanh toán")).map((C,A)=>{var se;return s.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded border",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:["Phòng ",C.soPhong]}),s.jsxs("span",{className:"text-gray-600",children:[" - ",C.tenKieuPhong," ",C.tenLoaiPhong]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Tầng ",C.tang," | ",C.ngayDen," - ",C.ngayDi?new Date(C.ngayDi).toLocaleDateString("vi-VN"):"Chưa xác định"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Đơn giá: ",(se=C.donGia)==null?void 0:se.toLocaleString("vi-VN")," VNĐ/đêm"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Số ngày: ",(()=>{if(C.ngayDen){const he=new Date(C.ngayDen);he.setHours(0,0,0,0);const ve=C.ngayDi?new Date(C.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,Ee=new Date(ve);return Ee.setHours(0,0,0,0),Math.max(1,Math.ceil((Ee-he)/(1e3*60*60*24)))}return 1})()," ngày"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium",children:[(()=>{if(C.donGia&&C.ngayDen){const he=new Date(C.ngayDen);he.setHours(0,0,0,0);const ve=C.ngayDi?new Date(C.ngayDi):v.actualCheckOut?new Date(v.actualCheckOut):new Date,Ee=new Date(ve);Ee.setHours(0,0,0,0);const we=Math.max(1,Math.ceil((Ee-he)/(1e3*60*60*24)));return(C.donGia*we).toLocaleString("vi-VN")}return(C.donGia||0).toLocaleString("vi-VN")})()," VNĐ"]}),s.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${C.ttThanhToan==="Đã thanh toán"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:C.ttThanhToan})]})]},A)})}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Không có thông tin phòng"})})]}),l.chiTietPhieuThue&&l.chiTietPhieuThue.filter(C=>C.ttThanhToan!=="Đã thanh toán").some(C=>C.danhSachDichVu&&C.danhSachDichVu.some(A=>A.ttThanhToan!=="Đã thanh toán")||C.danhSachPhuThu&&C.danhSachPhuThu.some(A=>A.ttThanhToan!=="Đã thanh toán"))&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Chi tiết dịch vụ & phụ thu"}),_(l.chiTietPhieuThue.filter(C=>C.ttThanhToan!=="Đã thanh toán")).map((C,A)=>s.jsxs("div",{className:"mb-4",children:[C.danhSachDichVu&&C.danhSachDichVu.filter(se=>se.ttThanhToan!=="Đã thanh toán").length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Phòng ",C.soPhong,":"]}),s.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Dịch vụ:"}),C.danhSachDichVu.filter(se=>se.ttThanhToan!=="Đã thanh toán").sort((se,he)=>!se.ngaySuDung&&!he.ngaySuDung?0:se.ngaySuDung?he.ngaySuDung?new Date(se.ngaySuDung)-new Date(he.ngaySuDung):-1:1).map((se,he)=>{var ve,Ee;return s.jsxs("div",{className:"flex justify-between text-xs bg-white p-2 rounded mb-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:se.tenDv}),s.jsxs("span",{className:"text-gray-500 ml-2",children:[se.soLuong," x ",(ve=se.gia)==null?void 0:ve.toLocaleString("vi-VN")," VNĐ"]}),s.jsxs("div",{className:"text-gray-400",children:["Ngày: ",se.ngaySuDung]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:[(Ee=se.thanhTien)==null?void 0:Ee.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("div",{className:"text-xs px-1 rounded bg-yellow-100 text-yellow-800",children:se.ttThanhToan})]})]},he)})]}),C.danhSachPhuThu&&C.danhSachPhuThu.filter(se=>se.ttThanhToan!=="Đã thanh toán").length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-red-600 font-medium mb-1",children:"Phụ thu:"}),C.danhSachPhuThu.filter(se=>se.ttThanhToan!=="Đã thanh toán").sort((se,he)=>(se.tenPhuThu||"").localeCompare(he.tenPhuThu||"")).map((se,he)=>{var ve,Ee;return s.jsxs("div",{className:"flex justify-between text-xs bg-white p-2 rounded mb-1",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:se.tenPhuThu}),s.jsxs("span",{className:"text-gray-500 ml-2",children:[se.soLuong," x ",(ve=se.donGia)==null?void 0:ve.toLocaleString("vi-VN")," VNĐ"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-medium",children:[(Ee=se.thanhTien)==null?void 0:Ee.toLocaleString("vi-VN")," VNĐ"]}),s.jsx("div",{className:"text-xs px-1 rounded bg-yellow-100 text-yellow-800",children:se.ttThanhToan})]})]},he)})]})]},A))]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thời gian check-out thực tế"}),s.jsx("input",{type:"datetime-local",value:v.actualCheckOut,onChange:C=>y(A=>({...A,actualCheckOut:C.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phương thức thanh toán"}),s.jsxs("select",{value:v.paymentMethod,onChange:C=>y(A=>({...A,paymentMethod:C.target.value})),className:"input",children:[s.jsx("option",{value:"cash",children:"Tiền mặt"}),s.jsx("option",{value:"transfer",children:"Chuyển khoản"})]})]})]}),s.jsx(pA,{selectedGuest:l,bill:g,checkOutData:v,onCheckOut:U,onCancel:()=>c(null),loading:u})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Za,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Chọn khách để check-out"}),s.jsx("p",{className:"text-gray-500",children:"Tìm kiếm và chọn khách hàng từ danh sách bên trái"})]})]})]}),s.jsx(I2,{isOpen:D,onClose:()=>j(!1),invoice:b,selectedGuest:l,bill:g,checkOutData:v}),s.jsx(H,{})]})},xA=()=>{var ae,q,Z,ge,_,ee,Q,G,U,pe;const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState("all"),[d,h]=N.useState("all"),[f,p]=N.useState(1),[x,m]=N.useState(null),[v,y]=N.useState(!1),[g,w]=N.useState(null),b=10;N.useEffect(()=>{k();const H=new URLSearchParams(window.location.search).get("highlight");H&&(w(H),setTimeout(()=>{w(null),window.history.replaceState({},document.title,window.location.pathname)},5e3))},[]),N.useEffect(()=>{D()},[e,o,c,d]);const k=async()=>{try{i(!0);const ne=await bl.getAllInvoices();ne.statusCode===200?t(ne.hoaDonList||[]):J.error("Không thể tải danh sách hóa đơn")}catch(ne){console.error("Error fetching invoices:",ne),J.error("Có lỗi xảy ra khi tải danh sách hóa đơn")}finally{i(!1)}},D=()=>{let ne=[...e];if(o.trim()&&(ne=ne.filter(H=>{var re,C,A;return H.idHd.toLowerCase().includes(o.toLowerCase())||((re=H.hoTenKhachHang)==null?void 0:re.toLowerCase().includes(o.toLowerCase()))||((C=H.sdtKhachHang)==null?void 0:C.includes(o))||((A=H.maPhieuThue)==null?void 0:A.toLowerCase().includes(o.toLowerCase()))})),c!=="all"&&(ne=ne.filter(H=>H.trangThai===c)),d!=="all"){const H=new Date,re=new Date;switch(d){case"today":re.setHours(0,0,0,0),ne=ne.filter(C=>{const A=new Date(C.ngayLap);return A.setHours(0,0,0,0),A.getTime()===re.getTime()});break;case"week":re.setDate(H.getDate()-7),ne=ne.filter(C=>new Date(C.ngayLap)>=re);break;case"month":re.setMonth(H.getMonth()-1),ne=ne.filter(C=>new Date(C.ngayLap)>=re);break}}ne.sort((H,re)=>new Date(re.ngayLap)-new Date(H.ngayLap)),n(ne),p(1)},j=async ne=>{try{i(!0);const H=await bl.getInvoiceDetails(ne.idHd);if(H.statusCode!==200){J.error("Không thể tải chi tiết hóa đơn");return}const re=H.hoaDonDetails,C={idHd:re.idHd,idPt:re.idPt,ngayLap:re.ngayLap,tongTien:re.tongTien,trangThai:re.trangThai,cccdKhachHang:re.cccdKhachHang,hoTenKhachHang:re.hoTenKhachHang,sdtKhachHang:re.sdtKhachHang,emailKhachHang:re.emailKhachHang,idNv:re.idNv,hoTenNhanVien:re.hoTenNhanVien,invoiceDetails:re,depositAmount:0};m(C),y(!0)}catch(H){console.error("Error fetching invoice details:",H),J.error("Có lỗi xảy ra khi tải chi tiết hóa đơn")}finally{i(!1)}},T=ne=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ne||0),L=ne=>new Date(ne).toLocaleDateString("vi-VN"),K=ne=>ne.reduce((H,re)=>H+(re.thanhTien||0),0),M=ne=>ne.reduce((H,re)=>H+(re.thanhTien||0),0),Y=ne=>ne.reduce((H,re)=>H+(re.thanhTien||0),0),z=ne=>{switch(ne){case vs.PAID:return"bg-green-100 text-green-800";case vs.UNPAID:return"bg-yellow-100 text-yellow-800";case vs.CANCELLED:return"bg-red-100 text-red-800";case vs.PARTIAL:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},de=Math.ceil(r.length/b),X=(f-1)*b,B=X+b,V=r.slice(X,B);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý hóa đơn"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Danh sách hóa đơn đã checkout"})]}),s.jsxs("button",{onClick:k,disabled:a,className:"btn-primary flex items-center",children:[s.jsx(vc,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Làm mới"]})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm theo mã HĐ, tên KH, SĐT...",value:o,onChange:ne=>l(ne.target.value),className:"input pl-10"})]}),s.jsxs("select",{value:c,onChange:ne=>u(ne.target.value),className:"input",children:[s.jsx("option",{value:"all",children:"Tất cả trạng thái"}),s.jsx("option",{value:vs.PAID,children:"Đã thanh toán"}),s.jsx("option",{value:vs.UNPAID,children:"Chưa thanh toán"}),s.jsx("option",{value:vs.PARTIAL,children:"Thanh toán một phần"}),s.jsx("option",{value:vs.CANCELLED,children:"Đã hủy"})]}),s.jsxs("select",{value:d,onChange:ne=>h(ne.target.value),className:"input",children:[s.jsx("option",{value:"all",children:"Tất cả thời gian"}),s.jsx("option",{value:"today",children:"Hôm nay"}),s.jsx("option",{value:"week",children:"7 ngày qua"}),s.jsx("option",{value:"month",children:"30 ngày qua"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Fo,{className:"w-4 h-4 mr-2"}),r.length," hóa đơn"]})]})}),s.jsxs("div",{className:"card",children:[a?s.jsxs("div",{className:"flex justify-center items-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"}),s.jsx("span",{className:"ml-2",children:"Đang tải..."})]}):V.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã hóa đơn"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày lập"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(ne=>s.jsxs("tr",{className:`hover:bg-gray-50 ${g===ne.idHd?"bg-yellow-50 border-l-4 border-yellow-400":""}`,children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.idHd}),s.jsx("div",{className:"text-sm text-gray-500",children:ne.maPhieuThue})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pt,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.hoTenKhachHang}),s.jsx("div",{className:"text-sm text-gray-500",children:ne.sdtKhachHang})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(ft,{className:"w-4 h-4 text-gray-400 mr-2"}),L(ne.ngayLap)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T(ne.tongTien)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z(ne.trangThai)}`,children:ne.trangThai})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("button",{onClick:()=>j(ne),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[s.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Xem chi tiết"]})})]},ne.idHd))})]})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(yi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có hóa đơn nào"}),s.jsx("p",{className:"text-gray-500",children:o||c!=="all"||d!=="all"?"Không tìm thấy hóa đơn phù hợp với bộ lọc":"Chưa có hóa đơn nào được tạo"})]}),de>1&&s.jsxs("div",{className:"flex justify-center items-center mt-6 space-x-2",children:[s.jsx("button",{onClick:()=>p(ne=>Math.max(ne-1,1)),disabled:f===1,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Array.from({length:de},(ne,H)=>s.jsx("button",{onClick:()=>p(H+1),className:`px-3 py-1 rounded border ${f===H+1?"bg-primary-500 text-white border-primary-500":"hover:bg-gray-50"}`,children:H+1},H+1)),s.jsx("button",{onClick:()=>p(ne=>Math.min(ne+1,de)),disabled:f===de,className:"px-3 py-1 rounded border disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})]}),v&&x&&s.jsx(I2,{isOpen:v,onClose:()=>{y(!1),m(null)},invoice:x,rentalDetails:{rooms:((q=(ae=x.invoiceDetails)==null?void 0:ae.danhSachPhong)==null?void 0:q.map(ne=>({tenPhong:ne.soPhong,loaiPhong:ne.tenLoaiPhong,ngayDen:ne.ngayDen,ngayDi:ne.ngayDi,soNgay:ne.soNgay,donGia:ne.donGia,thanhTien:ne.thanhTien})))||[],services:((ge=(Z=x.invoiceDetails)==null?void 0:Z.danhSachDichVu)==null?void 0:ge.map(ne=>({tenDichVu:ne.tenDv,tenPhong:ne.soPhong,donViTinh:ne.donViTinh,ngaySD:ne.ngaySuDung,gia:ne.donGia,soLuong:ne.soLuong,thanhTien:ne.thanhTien})))||[],surcharges:((ee=(_=x.invoiceDetails)==null?void 0:_.danhSachPhuThu)==null?void 0:ee.map(ne=>({loaiPhuThu:ne.loaiPhuThu,tenPhong:ne.soPhong,moTa:ne.moTa,ngayPhatSinh:new Date().toISOString().split("T")[0],donGia:ne.donGia,soLuong:ne.soLuong,thanhTien:ne.thanhTien})))||[],hoTenNhanVien:x.hoTenNhanVien},selectedGuest:{customerName:x.hoTenKhachHang,customerPhone:x.sdtKhachHang,customerEmail:x.emailKhachHang,cccd:x.cccdKhachHang,roomNumber:x.soPhong,roomType:x.loaiPhong,maPhieuThue:x.maPhieuThue,checkIn:x.ngayCheckIn||x.ngayDen,employeeName:x.hoTenNhanVien,chiTietPhieuThue:x.chiTietPhieuThue||[],depositAmount:x.depositAmount||0},bill:{roomCharges:K(((Q=x.invoiceDetails)==null?void 0:Q.danhSachPhong)||[]),serviceCharges:M(((G=x.invoiceDetails)==null?void 0:G.danhSachDichVu)||[]),surcharges:Y(((U=x.invoiceDetails)==null?void 0:U.danhSachPhuThu)||[]),paidAmount:0,total:((pe=x.invoiceDetails)==null?void 0:pe.tongTien)||x.tongTien||0},checkOutData:{actualCheckOut:x.ngayCheckOut||x.ngayDiThucTe,paymentMethod:x.phuongThucThanhToan||"cash"}})]})},gA=()=>{const{user:e}=kn(),[t,r]=N.useState(!1),n=H=>{try{const C=H.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),A=decodeURIComponent(atob(C).split("").map(function(se){return"%"+("00"+se.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(A)}catch(re){return console.error("Error decoding JWT:",re),null}},a=async()=>{var C,A,se;if(!e)return null;let H=(e==null?void 0:e.id)||(e==null?void 0:e.idNv)||(e==null?void 0:e.maNhanVien)||((C=e==null?void 0:e.nhanVien)==null?void 0:C.idNv)||((A=e==null?void 0:e.nhanVien)==null?void 0:A.maNhanVien)||((se=e==null?void 0:e.nhanVien)==null?void 0:se.id)||(e==null?void 0:e.userId)||(e==null?void 0:e.employeeId);if(H)return H;let re=e==null?void 0:e.email;if(!re&&(e!=null&&e.token)){const he=n(e.token);re=he==null?void 0:he.sub}if(!re){const he=localStorage.getItem("token");if(he){const ve=n(he);re=ve==null?void 0:ve.sub}}if(re)try{const he=await Nl.getEmployeeByEmail(re);if(he.statusCode===200&&he.nhanVien){const ve=he.nhanVien;return H=ve.idNv||ve.maNhanVien||ve.id,e&&typeof e=="object"&&Object.assign(e,{id:H,idNv:ve.idNv,maNhanVien:ve.maNhanVien,hoTen:ve.hoTen||ve.tenNhanVien||e.hoTen,soDienThoai:ve.soDienThoai||e.soDienThoai,diaChi:ve.diaChi||e.diaChi,employeeData:ve}),H}}catch(he){console.error("Error fetching employee data:",he)}return!H&&re&&(H=re.replace("@hotel.com","").replace("@","_")),H},[i,o]=N.useState(""),[l,c]=N.useState({cccd:"",ho:"",ten:"",email:"",sdt:"",diaChi:""}),[u,d]=N.useState({ngayDen:new Date().toISOString().split("T")[0],ngayDi:"",soLuongPhong:1}),[h,f]=N.useState({ngayBdThue:"",ngayDi:"",idKp:"",idLp:"",soLuongPhongO:1,tienDatCoc:"",ghiChu:""}),[p,x]=N.useState({roomPrice:0,minDeposit:0,pricePerRoom:0,depositPerRoom:0}),[m,v]=N.useState(null),[y,g]=N.useState([]),[w,b]=N.useState(!1),[k,D]=N.useState(null),[j,T]=N.useState({idKp:"",idLp:""}),[L,K]=N.useState([]),[M,Y]=N.useState([]);N.useEffect(()=>{(async()=>{try{const re=await _t.getAllRoomTypes();re.statusCode===200&&K(re.kieuPhongList||[]);const C=await _t.getAllRoomCategories();C.statusCode===200&&Y(C.loaiPhongList||[])}catch(re){console.error("Error loading room data:",re)}})()},[]),N.useEffect(()=>{h.idKp&&h.idLp&&h.soLuongPhongO&&B(h.idKp,h.idLp,h.soLuongPhongO)},[h.idKp,h.idLp,h.soLuongPhongO]);const z=(H,re)=>{c(C=>({...C,[H]:re}))},de=(H,re)=>{d(C=>({...C,[H]:re})),H==="soLuongPhong"&&g([])},X=async(H,re)=>{if(f(C=>({...C,[H]:re})),H==="idKp"||H==="idLp"||H==="soLuongPhongO"){const C={...h,[H]:re};C.idKp&&C.idLp&&C.soLuongPhongO&&await B(C.idKp,C.idLp,C.soLuongPhongO)}},B=async(H,re,C=1)=>{try{const A=await M2.getRoomPriceByKieuAndLoai(H,re);if(A.statusCode===200){const se=A.minDeposit*C;x({roomPrice:A.roomPrice,minDeposit:se,pricePerRoom:A.roomPrice,depositPerRoom:A.minDeposit}),(!h.tienDatCoc||parseFloat(h.tienDatCoc)<se)&&f(he=>({...he,tienDatCoc:se.toString()}))}}catch(A){console.error("Error fetching room price:",A),J.error("Không thể lấy thông tin giá phòng")}},V=(H,re)=>{T(C=>({...C,[H]:re}))},ae=()=>!l.cccd||!l.cccd.trim()?(J.error("Vui lòng nhập CCCD"),!1):!l.sdt||!l.sdt.trim()?(J.error("Vui lòng nhập số điện thoại"),!1):!0,q=async H=>{if(c(re=>({...re,cccd:H})),H&&H.trim().length>=9)try{const re=await Qn.getCustomerById(H.trim());if(re.statusCode===200&&re.khachHang){const C=re.khachHang;c(A=>({...A,cccd:C.cccd,ho:C.ho||"",ten:C.ten||"",email:C.email||"",sdt:C.sdt||A.sdt,diaChi:C.diaChi||""})),J.success(`Đã tìm thấy khách hàng: ${C.ho} ${C.ten}`)}}catch(re){console.log("Customer not found:",re)}},Z=async()=>ae()?u.ngayDi?y.length===0?(J.error("Vui lòng chọn ít nhất một phòng"),!1):y.length!==u.soLuongPhong?(J.error(`Vui lòng chọn đúng ${u.soLuongPhong} phòng`),!1):await a()?!0:(J.error("Không thể xác định thông tin nhân viên. Vui lòng đăng nhập lại."),!1):(J.error("Vui lòng chọn ngày check-out"),!1):!1,ge=async()=>{if(!ae())return!1;if(!h.ngayBdThue||!h.ngayDi)return J.error("Vui lòng chọn ngày bắt đầu và ngày kết thúc"),!1;if(!h.idKp||!h.idLp)return J.error("Vui lòng chọn kiểu phòng và loại phòng"),!1;if(!h.tienDatCoc)return J.error("Vui lòng nhập tiền đặt cọc"),!1;if(!await a())return J.error("Không thể xác định thông tin nhân viên. Vui lòng đăng nhập lại."),!1;if(p.minDeposit>0&&parseFloat(h.tienDatCoc)<p.minDeposit){const re=p.depositPerRoom||0,C=h.soLuongPhongO||1;return J.error(`Tiền đặt cọc phải ít nhất ${p.minDeposit.toLocaleString("vi-VN")} VNĐ (${re.toLocaleString("vi-VN")} VNĐ/phòng × ${C} phòng)`),!1}return!0},_=async H=>{H.preventDefault(),i==="rental"?await ee():i==="booking"?await Q():i==="customer"&&await G()},ee=async()=>{if(await Z()){r(!0);try{let H=!1;try{H=(await Qn.getCustomerById(l.cccd)).statusCode===200}catch{H=!1}if(!H)throw new Error("Khách hàng chưa tồn tại trong hệ thống. Vui lòng tạo khách hàng mới trước.");const re=await Qn.updateCustomer(l.cccd,l);if(re.statusCode!==200)throw new Error(re.message||"Lỗi khi cập nhật thông tin khách hàng");const C=await a(),A={ngayDen:u.ngayDen,ngayDi:u.ngayDi,khachHang:{cccd:l.cccd,ho:l.ho,ten:l.ten,sdt:l.sdt,email:l.email,diaChi:l.diaChi},nhanVien:{idNv:C},danhSachPhong:y.map(he=>({soPhong:he.soPhong,danhSachKhachCccd:[l.cccd]}))},se=await _d.checkInWalkIn(A);if(se.statusCode===200){const he=y.map(ve=>ve.soPhong).join(", ");J.success(`Check-in thành công cho ${l.ho} ${l.ten} vào phòng ${he}!`),ne()}else throw new Error(se.message||"Lỗi khi tạo phiếu thuê")}catch(H){console.error("Error in rental submission:",H),J.error(H.message||"Có lỗi xảy ra khi check-in")}finally{r(!1)}}},Q=async()=>{if(await ge()){r(!0);try{let H=!1;try{H=(await Qn.getCustomerById(l.cccd)).statusCode===200}catch{H=!1}if(!H)throw new Error("Khách hàng chưa tồn tại trong hệ thống. Vui lòng tạo khách hàng mới trước.");const re=await Qn.updateCustomer(l.cccd,l);if(re.statusCode!==200)throw new Error(re.message||"Lỗi khi cập nhật thông tin khách hàng");const C=await a(),A={cccd:l.cccd,ho:l.ho,ten:l.ten,sdt:l.sdt,email:l.email,diaChi:l.diaChi,isNewCustomer:!1,ngayBdThue:h.ngayBdThue,ngayDi:h.ngayDi,idKp:h.idKp,idLp:h.idLp,soLuongPhongO:h.soLuongPhongO,tienDatCoc:parseFloat(h.tienDatCoc),idNv:C,ghiChu:h.ghiChu},se=await Zs.createBookingAtReception(A);if(se.statusCode===200)J.success("Đặt phòng thành công!"),ne();else throw new Error(se.message||"Lỗi khi tạo phiếu đặt")}catch(H){console.error("Error in booking submission:",H),J.error(H.message||"Có lỗi xảy ra khi đặt phòng")}finally{r(!1)}}},G=async()=>{if(ae()){r(!0);try{let H=!1;try{H=(await Qn.getCustomerById(l.cccd)).statusCode===200}catch{H=!1}if(H)throw new Error("Khách hàng đã tồn tại trong hệ thống với CCCD này.");const re=await Qn.createCustomer(l);if(re.statusCode===200)J.success(`Tạo khách hàng mới thành công cho ${l.ho} ${l.ten}!`),ne();else throw new Error(re.message||"Lỗi khi tạo khách hàng")}catch(H){console.error("Error in customer creation:",H),J.error(H.message||"Có lỗi xảy ra khi tạo khách hàng")}finally{r(!1)}}},U=async H=>{const re=u.soLuongPhong||1;y.find(A=>A.soPhong===H.soPhong)?g(A=>A.filter(se=>se.soPhong!==H.soPhong)):y.length<re?g(A=>[...A,H]):(g(A=>[...A.slice(1),H]),J.info(`Đã thay thế phòng cũ. Tối đa ${re} phòng.`)),v(H);try{const A=await _t.getRoomDetails(H.soPhong);A.statusCode===200&&D(A.phong)}catch(A){console.error("Error loading room details:",A),J.error("Không thể tải thông tin chi tiết phòng")}},pe=H=>{g(re=>re.filter(C=>C.soPhong!==H.soPhong))},ne=()=>{o(""),c({cccd:"",ho:"",ten:"",email:"",sdt:"",diaChi:""}),d({ngayDen:new Date().toISOString().split("T")[0],ngayDi:"",soLuongPhong:1}),f({ngayBdThue:"",ngayDi:"",idKp:"",idLp:"",soLuongPhongO:1,tienDatCoc:"",ghiChu:""}),v(null),g([]),D(null),b(!1),T({idKp:"",idLp:""})};return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Walk-in Service"})}),!i&&s.jsxs("div",{className:"card",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Chọn dịch vụ"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{onClick:()=>o("booking"),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 cursor-pointer transition-all",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(ft,{className:"w-8 h-8 text-blue-600 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Đặt phòng"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Đặt phòng trước cho khách hàng đã có trong hệ thống."})]}),s.jsxs("div",{onClick:()=>{o("rental"),b(!0),d(H=>({...H,ngayDen:new Date().toISOString().split("T")[0]}))},className:"p-6 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 cursor-pointer transition-all",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Gl,{className:"w-8 h-8 text-green-600 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Thuê phòng ngay"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Check-in ngay lập tức cho khách hàng đã có trong hệ thống."})]}),s.jsxs("div",{onClick:()=>o("customer"),className:"p-6 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 cursor-pointer transition-all",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(pd,{className:"w-8 h-8 text-purple-600 mr-3"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tạo khách hàng mới"})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Tạo hồ sơ khách hàng mới trong hệ thống."})]})]})]}),i&&s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsx("button",{type:"button",onClick:()=>{o(""),b(!1),v(null)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Quay lại chọn dịch vụ"})}),i==="customer"&&s.jsx("div",{className:"card",children:s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"Tạo khách hàng mới"})}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(pd,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:i==="customer"?"Thông tin khách hàng mới":"Thông tin khách hàng"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Căn cước công dân ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l.cccd,onChange:H=>q(H.target.value),className:"input",placeholder:"Nhập số căn cước công dân",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số điện thoại ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",value:l.sdt,onChange:H=>z("sdt",H.target.value),className:"input",placeholder:"Nhập số điện thoại",required:!0})]}),(i==="booking"||i==="rental")&&l.ho&&s.jsxs("div",{className:"col-span-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h3",{className:"text-sm font-medium text-green-800 mb-2",children:"Thông tin khách hàng đã tìm thấy:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Họ tên:"})," ",l.ho," ",l.ten]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",l.email||"Chưa có"]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"font-medium",children:"Địa chỉ:"})," ",l.diaChi||"Chưa có"]})]})]}),i==="customer"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Họ ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l.ho,onChange:H=>z("ho",H.target.value),className:"input",placeholder:"Nhập họ",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tên ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l.ten,onChange:H=>z("ten",H.target.value),className:"input",placeholder:"Nhập tên",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:l.email,onChange:H=>z("email",H.target.value),className:"input",placeholder:"Nhập email"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),s.jsx("input",{type:"text",value:l.diaChi,onChange:H=>z("diaChi",H.target.value),className:"input",placeholder:"Nhập địa chỉ"})]})]})]})]}),i==="booking"&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ft,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin đặt phòng"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày bắt đầu thuê ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:h.ngayBdThue,onChange:H=>X("ngayBdThue",H.target.value),className:"input",min:new Date().toISOString().split("T")[0],required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày kết thúc ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:h.ngayDi,onChange:H=>X("ngayDi",H.target.value),className:"input",min:h.ngayBdThue||new Date().toISOString().split("T")[0],required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kiểu phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:h.idKp,onChange:H=>X("idKp",H.target.value),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),L.map(H=>s.jsxs("option",{value:H.idKp,children:[H.tenKp," - ",H.moTaKp]},H.idKp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Loại phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:h.idLp,onChange:H=>X("idLp",H.target.value),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn loại phòng"}),M.map(H=>s.jsxs("option",{value:H.idLp,children:[H.tenLp," - ",H.moTaLp]},H.idLp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số lượng phòng ở ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:h.soLuongPhongO,onChange:H=>X("soLuongPhongO",parseInt(H.target.value)),className:"input",min:"1",max:"10",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tiền đặt cọc ",s.jsx("span",{className:"text-red-500",children:"*"}),p.minDeposit>0&&s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(Tối thiểu: ",p.minDeposit.toLocaleString("vi-VN")," VNĐ)"]})]}),s.jsx("input",{type:"text",value:h.tienDatCoc,onChange:H=>{const re=H.target.value.replace(/[^\d]/g,"");X("tienDatCoc",re)},className:"input",style:{MozAppearance:"textfield",WebkitAppearance:"none",margin:0},placeholder:p.minDeposit>0?`Tối thiểu ${p.minDeposit.toLocaleString("vi-VN")} VNĐ`:"Nhập số tiền đặt cọc",required:!0}),p.pricePerRoom>0&&s.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[s.jsxs("p",{children:["Giá phòng: ",p.pricePerRoom.toLocaleString("vi-VN")," VNĐ/đêm/phòng"]}),h.soLuongPhongO>1&&s.jsxs("p",{children:["Tổng giá (",h.soLuongPhongO," phòng): ",(p.pricePerRoom*h.soLuongPhongO).toLocaleString("vi-VN")," VNĐ/đêm"]}),s.jsxs("p",{className:"text-blue-600 font-medium",children:["Tiền cọc tối thiểu: ",p.depositPerRoom.toLocaleString("vi-VN")," VNĐ/phòng",h.soLuongPhongO>1&&s.jsxs("span",{children:[" × ",h.soLuongPhongO," = ",p.minDeposit.toLocaleString("vi-VN")," VNĐ"]})]})]})]})]})]}),i==="rental"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Gl,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Thông tin thuê phòng"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-in ",s.jsx("span",{className:"text-red-500",children:"*"}),s.jsx("span",{className:"text-xs text-blue-600 ml-2",children:"(Tự động: Hôm nay)"})]}),s.jsx("input",{type:"date",value:u.ngayDen,readOnly:!0,disabled:!0,className:"input bg-gray-100 cursor-not-allowed text-gray-600",title:"Ngày check-in được khóa cứng là hôm nay cho thuê phòng ngay"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Thuê phòng ngay luôn check-in vào ngày hôm nay"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ngày check-out ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",value:u.ngayDi,onChange:H=>de("ngayDi",H.target.value),className:"input",min:u.ngayDen,required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số lượng phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:u.soLuongPhong,onChange:H=>de("soLuongPhong",parseInt(H.target.value)||1),className:"input",min:"1",max:"10",required:!0})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Lọc phòng"}),!w&&s.jsxs("button",{onClick:()=>b(!0),className:"btn-primary",children:[s.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Chọn phòng"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:j.idKp,onChange:H=>V("idKp",H.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả kiểu phòng"}),L.map(H=>s.jsxs("option",{value:H.idKp,children:[H.tenKp," - ",H.moTaKp]},H.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:j.idLp,onChange:H=>V("idLp",H.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả loại phòng"}),M.map(H=>s.jsxs("option",{value:H.idLp,children:[H.tenLp," - ",H.moTaLp]},H.idLp))]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Hn,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Chọn phòng"})]}),w&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sơ đồ phòng - Chọn ",u.soLuongPhong," phòng"]}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Nr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"border rounded-lg p-4",children:s.jsx(L2,{onRoomSelect:U,selectedRoom:m,selectedRooms:y,checkInDate:u.ngayDen,checkOutDate:u.ngayDi,filters:j,maxRooms:u.soLuongPhong,multiSelect:!0})})]})]})]}),y.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Phòng đã chọn (",y.length,"/",u.soLuongPhong,")"]}),s.jsxs("button",{onClick:()=>g([]),className:"btn-outline px-3",children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Xóa tất cả"]})]}),s.jsxs("div",{className:"space-y-3",children:[y.map(H=>{var re;return s.jsx("div",{className:"p-4 bg-blue-50 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Phòng:"})," ",H.soPhong]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Tầng:"})," ",H.tang]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Kiểu phòng:"})," ",H.tenKp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại phòng:"})," ",H.tenLp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giá:"})," ",(re=H.gia)==null?void 0:re.toLocaleString("vi-VN")," VNĐ/đêm"]})]}),s.jsx("button",{onClick:()=>pe(H),className:"text-red-500 hover:text-red-700",children:s.jsx(Nr,{className:"w-4 h-4"})})]})},H.soPhong)}),s.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:s.jsxs("div",{className:"flex justify-between font-medium text-sm",children:[s.jsx("span",{children:"Tổng tiền phòng/đêm:"}),s.jsxs("span",{children:[y.reduce((H,re)=>H+(re.gia||0),0).toLocaleString("vi-VN")," VNĐ"]})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsxs("button",{type:"button",onClick:ne,className:"btn-outline",disabled:t,children:[s.jsx(Nr,{className:"w-4 h-4 mr-2"}),"Đặt lại"]}),s.jsxs("button",{type:"submit",className:"btn-primary",disabled:t,children:[t?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Nm,{className:"w-4 h-4 mr-2"}),i==="booking"?"Đặt phòng":i==="rental"?"Check-in":"Tạo khách hàng"]})]})]})]})},yA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(12),[u,d]=N.useState({kieuPhong:"",loaiPhong:"",status:"",floor:""}),[h,f]=N.useState(!1),[p,x]=N.useState(!1),[m,v]=N.useState(!1),[y,g]=N.useState(null),[w,b]=N.useState({soPhong:"",tang:"",hangPhong:{idHp:""},trangThai:{idTt:""}}),[k,D]=N.useState([]),[j,T]=N.useState([]),[L,K]=N.useState([]),[M]=N.useState([{id:"TT001",name:"Trống"},{id:"TT002",name:"Đã có khách"},{id:"TT003",name:"Đang dọn dẹp"},{id:"TT004",name:"Đang bảo trì"},{id:"TT005",name:"Đã đặt"}]);N.useEffect(()=>{Y(),z(),de(),X()},[]),N.useEffect(()=>{B()},[e,u]);const Y=async()=>{try{i(!0);const C=await _t.getAllRooms();C.statusCode===200?t(C.phongList||[]):J.error("Không thể tải danh sách phòng")}catch(C){console.error("Error fetching rooms:",C),J.error("Có lỗi xảy ra khi tải danh sách phòng")}finally{i(!1)}},z=async()=>{var C;try{const A=await _t.getAllRooms();if(A.statusCode===200){const se=[],he=new Set;(C=A.phongList)==null||C.forEach(ve=>{ve.idHangPhong&&!he.has(ve.idHangPhong)&&(he.add(ve.idHangPhong),se.push({idHp:ve.idHangPhong,tenHp:`#${ve.idHangPhong}`}))}),D(se)}}catch(A){console.error("Error fetching room types:",A)}},de=async()=>{try{const C=await _t.getAllRoomTypes();C.statusCode===200&&T(C.kieuPhongList||[])}catch(C){console.error("Error fetching kieu phong:",C)}},X=async()=>{try{const C=await _t.getAllRoomCategories();C.statusCode===200&&K(C.loaiPhongList||[])}catch(C){console.error("Error fetching loai phong:",C)}},B=()=>{let C=e;u.kieuPhong&&(C=C.filter(A=>A.tenKp===u.kieuPhong)),u.loaiPhong&&(C=C.filter(A=>A.tenLp===u.loaiPhong)),u.status&&(C=C.filter(A=>A.idTt===u.status)),u.floor&&(C=C.filter(A=>A.tang.toString()===u.floor)),n(C),l(1)},V=(C,A)=>{d(se=>({...se,[C]:A}))},ae=async C=>{C.preventDefault();try{const A={soPhong:w.soPhong,tang:parseInt(w.tang),hangPhong:{idHangPhong:w.hangPhong.idHp},trangThai:{idTt:w.trangThai.idTt}},se=await _t.createRoom(A);se.statusCode===200?(J.success("Thêm phòng thành công!"),f(!1),ee(),Y()):J.error(se.message||"Có lỗi xảy ra khi thêm phòng")}catch(A){console.error("Error adding room:",A),J.error("Có lỗi xảy ra khi thêm phòng")}},q=async C=>{C.preventDefault();try{const A={soPhong:y.soPhong,tang:y.tang,idKieuPhong:y.idKieuPhong,idLoaiPhong:y.idLoaiPhong},se=await _t.updateRoomTypeAndCategory(y.soPhong,A);se.statusCode===200?(w.trangThai.idTt&&w.trangThai.idTt!==y.idTt&&await _t.updateRoomStatus(y.soPhong,w.trangThai.idTt),J.success("Cập nhật phòng thành công!"),x(!1),g(null),Y()):J.error(se.message||"Có lỗi xảy ra khi cập nhật phòng")}catch(A){console.error("Error updating room:",A),J.error("Có lỗi xảy ra khi cập nhật phòng")}},Z=async C=>{if(window.confirm("Bạn có chắc chắn muốn xóa phòng này?"))try{const A=await _t.deleteRoom(C);A.statusCode===200?(J.success("Xóa phòng thành công!"),Y()):J.error(A.message||"Có lỗi xảy ra khi xóa phòng")}catch(A){console.error("Error deleting room:",A),J.error("Có lỗi xảy ra khi xóa phòng")}},ge=C=>{g({...C,idKieuPhong:C.idKp||"",idLoaiPhong:C.idLp||"",idTrangThai:C.idTt||""}),b({soPhong:C.soPhong,tang:C.tang,hangPhong:{idHp:C.idHangPhong},trangThai:{idTt:C.idTt}}),x(!0)},_=C=>{g(C),v(!0)},ee=()=>{b({soPhong:"",tang:"",hangPhong:{idHp:""},trangThai:{idTt:""}})},Q=C=>{switch(C){case"Trống":return s.jsx(Or,{className:"w-4 h-4 text-green-500"});case"Đã có khách":return s.jsx(vo,{className:"w-4 h-4 text-red-500"});case"Đang bảo trì":return s.jsx(md,{className:"w-4 h-4 text-orange-500"});case"Đang dọn dẹp":return s.jsx(lr,{className:"w-4 h-4 text-blue-500"});default:return s.jsx(os,{className:"w-4 h-4 text-gray-500"})}},G=C=>{switch(C){case"Trống":return"bg-green-100 text-green-800";case"Đã có khách":return"bg-red-100 text-red-800";case"Đang bảo trì":return"bg-orange-100 text-orange-800";case"Đang dọn dẹp":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=o*c,pe=U-c,ne=r.slice(pe,U),H=Math.ceil(r.length/c),re=[...new Set(e.map(C=>C.tang))].sort((C,A)=>C-A);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý thông tin phòng khách sạn"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"btn-primary",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Thêm phòng"]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Fo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bộ lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:u.kieuPhong,onChange:C=>V("kieuPhong",C.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả kiểu phòng"}),j.map(C=>s.jsx("option",{value:C.tenKp,children:C.tenKp},C.idKp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:u.loaiPhong,onChange:C=>V("loaiPhong",C.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả loại phòng"}),L.map(C=>s.jsx("option",{value:C.tenLp,children:C.tenLp},C.idLp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:C=>V("status",C.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả trạng thái"}),M.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsxs("select",{value:u.floor,onChange:C=>V("floor",C.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả tầng"}),re.map(C=>s.jsxs("option",{value:C,children:["Tầng ",C]},C))]})]})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{onClick:()=>d({kieuPhong:"",loaiPhong:"",status:"",floor:""}),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:"Xóa bộ lọc"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ne.map(C=>s.jsxs("div",{className:"card hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ln,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Phòng ",C.soPhong]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>_(C),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Xem chi tiết",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ge(C),className:"p-1 text-yellow-600 hover:bg-yellow-50 rounded",title:"Chỉnh sửa",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Z(C.soPhong),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Xóa",children:s.jsx(ds,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Tầng:"}),s.jsxs("span",{className:"text-sm font-medium",children:["Tầng ",C.tang]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Kiểu phòng:"}),s.jsx("span",{className:"text-sm font-medium",children:C.tenKp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Loại phòng:"}),s.jsx("span",{className:"text-sm font-medium",children:C.tenLp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trạng thái:"}),s.jsxs("div",{className:"flex items-center",children:[Q(C.tenTrangThai),s.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs font-medium ${G(C.tenTrangThai)}`,children:C.tenTrangThai||"N/A"})]})]}),C.giaPhong&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Giá:"}),s.jsx("span",{className:"text-sm font-medium text-green-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C.giaPhong)})]})]})]},C.soPhong))}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ln,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không tìm thấy phòng nào"}),s.jsx("p",{className:"text-gray-600",children:"Thử thay đổi bộ lọc"})]}),H>1&&s.jsx(wi,{itemsPerPage:c,totalItems:r.length,currentPage:o,paginate:l}),h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Thêm phòng mới"}),s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Số phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:w.soPhong,onChange:C=>b({...w,soPhong:C.target.value}),className:"input",placeholder:"Nhập số phòng",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tầng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:w.tang,onChange:C=>b({...w,tang:C.target.value}),className:"input",placeholder:"Nhập tầng",min:"1",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Hạng phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:w.hangPhong.idHp,onChange:C=>b({...w,hangPhong:{idHp:C.target.value}}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),k.map(C=>s.jsx("option",{value:C.idHp,children:C.tenHp},C.idHp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Trạng thái ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:w.trangThai.idTt,onChange:C=>b({...w,trangThai:{idTt:C.target.value}}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn trạng thái"}),M.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),ee()},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Thêm phòng"})]})]})]})}),p&&y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Chỉnh sửa phòng"}),s.jsxs("form",{onSubmit:q,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số phòng"}),s.jsx("input",{type:"text",value:w.soPhong,className:"input bg-gray-100",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsx("input",{type:"number",value:w.tang,className:"input bg-gray-100",disabled:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Kiểu phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:(y==null?void 0:y.idKieuPhong)||"",onChange:C=>g({...y,idKieuPhong:C.target.value}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn kiểu phòng"}),j.map(C=>s.jsx("option",{value:C.idKp,children:C.tenKp},C.idKp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Loại phòng ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:(y==null?void 0:y.idLoaiPhong)||"",onChange:C=>g({...y,idLoaiPhong:C.target.value}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn loại phòng"}),L.map(C=>s.jsx("option",{value:C.idLp,children:C.tenLp},C.idLp))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Trạng thái ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:w.trangThai.idTt,onChange:C=>b({...w,trangThai:{idTt:C.target.value}}),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn trạng thái"}),M.map(C=>s.jsx("option",{value:C.id,children:C.name},C.id))]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{x(!1),g(null),ee()},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Cập nhật"})]})]})]})}),m&&y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Chi tiết phòng"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Số phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:y.soPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Tầng:"}),s.jsxs("span",{className:"text-sm text-gray-900",children:["Tầng ",y.tang]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Hạng phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:y.idHangPhong?`#${y.idHangPhong}`:"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Kiểu phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:y.tenKp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Loại phòng:"}),s.jsx("span",{className:"text-sm text-gray-900",children:y.tenLp||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Trạng thái:"}),s.jsxs("div",{className:"flex items-center",children:[Q(y.tenTrangThai),s.jsx("span",{className:`ml-1 px-2 py-1 rounded-full text-xs font-medium ${G(y.tenTrangThai)}`,children:y.tenTrangThai||"N/A"})]})]}),y.giaPhong&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Giá phòng:"}),s.jsx("span",{className:"text-sm text-green-600 font-medium",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(y.giaPhong)})]}),y.soLuongKhachO&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Sức chứa:"}),s.jsxs("span",{className:"text-sm text-gray-900",children:[y.soLuongKhachO," người"]})]})]}),s.jsx("div",{className:"flex justify-end pt-6",children:s.jsx("button",{onClick:()=>{v(!1),g(null)},className:"btn-outline",children:"Đóng"})})]})})]})},jt={getAllDichVu:async()=>{try{return(await W.get("/api/services/dich-vu")).data}catch(e){throw console.error("Error getting all services:",e),e}},getAllPhuThu:async()=>{try{return(await W.get("/api/services/phu-thu")).data}catch(e){throw console.error("Error getting all surcharges:",e),e}},createDichVu:async e=>{try{return(await W.post("/api/services/dich-vu",e)).data}catch(t){throw console.error("Error creating service:",t),t}},getAllServiceUsage:async()=>{try{return(await W.get("/api/service-management/services/all")).data}catch(e){throw console.error("Error getting all service usage:",e),e}},getCurrentActiveServices:async()=>{try{return(await W.get("/api/service-management/services/current-active")).data}catch(e){throw console.error("Error getting current active services:",e),e}},getServiceUsageByRoom:async e=>{try{return(await W.get(`/api/service-management/services/by-room/${e}`)).data}catch(t){throw console.error("Error getting service usage by room:",t),t}},getServiceUsageByCustomer:async e=>{try{return(await W.get(`/api/service-management/services/by-customer/${e}`)).data}catch(t){throw console.error("Error getting service usage by customer:",t),t}},getAllSurchargeUsage:async()=>{try{return(await W.get("/api/service-management/surcharges/all")).data}catch(e){throw console.error("Error getting all surcharge usage:",e),e}},getCurrentActiveSurcharges:async()=>{try{return(await W.get("/api/service-management/surcharges/current-active")).data}catch(e){throw console.error("Error getting current active surcharges:",e),e}},getSurchargeUsageByRoom:async e=>{try{return(await W.get(`/api/service-management/surcharges/by-room/${e}`)).data}catch(t){throw console.error("Error getting surcharge usage by room:",t),t}},getSurchargeUsageByCustomer:async e=>{try{return(await W.get(`/api/service-management/surcharges/by-customer/${e}`)).data}catch(t){throw console.error("Error getting surcharge usage by customer:",t),t}},getServiceAndSurchargeReport:async()=>{try{return(await W.get("/api/service-management/report")).data}catch(e){throw console.error("Error getting service and surcharge report:",e),e}},getCurrentActiveBookingsWithServices:async()=>{try{return(await W.get("/api/service-management/current-bookings-with-services")).data}catch(e){throw console.error("Error getting current bookings with services:",e),e}},getRevenueByServiceAndSurcharge:async()=>{try{return(await W.get("/api/service-management/revenue")).data}catch(e){throw console.error("Error getting revenue by service and surcharge:",e),e}},getDashboardData:async()=>{try{return(await W.get("/api/service-management/dashboard")).data}catch(e){throw console.error("Error getting dashboard data:",e),e}},addServiceToBooking:async(e,t,r)=>{try{return(await W.post("/api/service-management/add-service",null,{params:{idCtPt:e,idDv:t,soLuong:r}})).data}catch(n){throw console.error("Error adding service to booking:",n),n}},addSurchargeToBooking:async(e,t,r)=>{try{return(await W.post("/api/service-management/add-surcharge",null,{params:{idCtPt:e,idPhuThu:t,soLuong:r}})).data}catch(n){throw console.error("Error adding surcharge to booking:",n),n}},updateServicePaymentStatus:async(e,t,r)=>{try{return(await W.put("/api/service-management/update-service-payment",null,{params:{idCtPt:e,idDv:t,newStatus:r}})).data}catch(n){throw console.error("Error updating service payment status:",n),n}},updateSurchargePaymentStatus:async(e,t,r)=>{try{return(await W.put("/api/service-management/update-surcharge-payment",null,{params:{idPhuThu:e,idCtPt:t,newStatus:r}})).data}catch(n){throw console.error("Error updating surcharge payment status:",n),n}},updateRoomPaymentStatus:async(e,t)=>{try{return(await W.put("/api/service-management/update-room-payment",null,{params:{idCtPt:e,newStatus:t}})).data}catch(r){throw console.error("Error updating room payment status:",r),r}},deleteServiceFromBooking:async(e,t)=>{try{return(await W.delete("/api/service-management/delete-service",{params:{idCtPt:e,idDv:t}})).data}catch(r){throw console.error("Error deleting service from booking:",r),r}},deleteSurchargeFromBooking:async(e,t)=>{try{return(await W.delete("/api/service-management/delete-surcharge",{params:{idPhuThu:e,idCtPt:t}})).data}catch(r){throw console.error("Error deleting surcharge from booking:",r),r}},createPhuThu:async e=>{try{return(await W.post("/api/services/phu-thu",e)).data}catch(t){throw console.error("Error creating surcharge:",t),t}},updateDichVu:async(e,t)=>{try{return(await W.put(`/api/services/dich-vu/${e}`,t)).data}catch(r){throw console.error("Error updating service:",r),r}},updatePhuThu:async(e,t)=>{try{return(await W.put(`/api/services/phu-thu/${e}`,t)).data}catch(r){throw console.error("Error updating surcharge:",r),r}},deleteDichVu:async e=>{try{return(await W.delete(`/api/services/dich-vu/${e}`)).data}catch(t){throw console.error("Error deleting service:",t),t}},deletePhuThu:async e=>{try{return(await W.delete(`/api/services/phu-thu/${e}`)).data}catch(t){throw console.error("Error deleting surcharge:",t),t}},updateServicePrice:async(e,t)=>{try{return(await W.put(`/api/services/dich-vu/${e}/price`,{price:t})).data}catch(r){throw console.error("Error updating service price:",r),r}},updateSurchargePrice:async(e,t)=>{try{return(await W.put(`/api/services/phu-thu/${e}/price`,{price:t})).data}catch(r){throw console.error("Error updating surcharge price:",r),r}}},vA=()=>{const[e,t]=N.useState("services"),[r,n]=N.useState(!1),[a,i]=N.useState(""),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,h]=N.useState([]),[f,p]=N.useState([]),[x,m]=N.useState([]),[v,y]=N.useState({totalAvailableServices:0,totalAvailableSurcharges:0,totalOccupiedRooms:0,totalRevenue:0}),[g,w]=N.useState({idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}),[b,k]=N.useState(!1),[D,j]=N.useState(!1),[T,L]=N.useState(null),[K,M]=N.useState({idDv:"",soLuong:1}),[Y,z]=N.useState({idPhuThu:"",soLuong:1}),[de,X]=N.useState(!1),[B,V]=N.useState(null),[ae,q]=N.useState(1),Z=8;N.useEffect(()=>{pe()},[]);const ge=(te,je,Me)=>{const Be=(je-1)*Me,Ge=Be+Me;return te.slice(Be,Ge)},_=(te,je)=>Math.ceil(te/je),ee=(te,je)=>{const Me=[];let Ge=Math.max(1,te-Math.floor(2.5)),lt=Math.min(je,Ge+5-1);lt-Ge+1<5&&(Ge=Math.max(1,lt-5+1));for(let er=Ge;er<=lt;er++)Me.push(er);return Me},Q=async(te,je)=>await jt.updateServicePrice(te,je),G=async(te,je)=>await jt.updateSurchargePrice(te,je),U=({currentPage:te,totalPages:je,onPageChange:Me,className:Be=""})=>{if(je<=1)return null;const Ge=ee(te,je);return s.jsxs("div",{className:`flex items-center justify-center space-x-1 mt-4 ${Be}`,children:[s.jsx("button",{onClick:()=>Me(te-1),disabled:te===1,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Trước"}),Ge.map(lt=>s.jsx("button",{onClick:()=>Me(lt),className:`px-3 py-1 text-sm border rounded-md ${te===lt?"bg-blue-500 text-white border-blue-500":"hover:bg-gray-50"}`,children:lt},lt)),s.jsx("button",{onClick:()=>Me(te+1),disabled:te===je,className:"px-3 py-1 text-sm border rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Sau"})]})},pe=async()=>{var te,je,Me;u(!0);try{const[Be,Ge,lt]=await Promise.all([jt.getDashboardData(),jt.getAllDichVu(),jt.getAllPhuThu()]);if(Ge.statusCode===200&&h(Ge.dichVuList||[]),lt.statusCode===200&&p(lt.phuThuList||[]),Be.statusCode===200){m(Be.ctPhieuThueList||[]);const er=((te=Ge.dichVuList)==null?void 0:te.length)||0,Qr=((je=lt.phuThuList)==null?void 0:je.length)||0,$h=((Me=Be.ctPhieuThueList)==null?void 0:Me.length)||0;y({totalAvailableServices:er,totalAvailableSurcharges:Qr,totalOccupiedRooms:$h})}}catch(Be){console.error("Error fetching data:",Be),J.error("Lỗi khi tải dữ liệu")}finally{u(!1)}},ne=te=>{l(te),i("view"),n(!0)},H=te=>{l(te),w({idDv:te.idDv,tenDv:te.tenDv,donViTinh:te.donViTinh,gia:te.donGia}),i("edit"),n(!0)},re=()=>{l(null),w(e==="services"?{idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}:{idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}),i("add"),n(!0)},C=async te=>{if(e==="services"){if(window.confirm(`Bạn có chắc chắn muốn xóa dịch vụ "${te.tenDv}"?`))try{const je=await jt.deleteDichVu(te.idDv);je.statusCode===200?(h(d.filter(Me=>Me.idDv!==te.idDv)),J.success("Xóa dịch vụ thành công!")):J.error(je.message||"Lỗi khi xóa dịch vụ")}catch(je){console.error("Error deleting service:",je),J.error("Lỗi khi xóa dịch vụ")}}else if(window.confirm(`Bạn có chắc chắn muốn xóa phụ thu "${te.tenPhuThu}"?`))try{const je=await jt.deletePhuThu(te.idPhuThu);je.statusCode===200?(p(f.filter(Me=>Me.idPhuThu!==te.idPhuThu)),J.success("Xóa phụ thu thành công!")):J.error(je.message||"Lỗi khi xóa phụ thu")}catch(je){console.error("Error deleting surcharge:",je),J.error("Lỗi khi xóa phụ thu")}},A=te=>{L(te),M({idDv:"",soLuong:1}),k(!0)},se=te=>{L(te),z({idPhuThu:"",soLuong:1}),j(!0)},he=async te=>{te.preventDefault();try{if(!K.idDv||K.soLuong<=0){J.error("Vui lòng chọn dịch vụ và nhập số lượng hợp lệ");return}const je=await jt.addServiceToBooking(T.idCtPt,K.idDv,K.soLuong);je.statusCode===200?(J.success("Thêm dịch vụ thành công!"),k(!1),L(null),pe()):J.error(je.message||"Có lỗi xảy ra khi thêm dịch vụ")}catch(je){console.error("Error adding service:",je),J.error("Có lỗi xảy ra khi thêm dịch vụ")}},ve=async te=>{te.preventDefault();try{if(!Y.idPhuThu||Y.soLuong<=0){J.error("Vui lòng chọn phụ thu và nhập số lượng hợp lệ");return}const je=await jt.addSurchargeToBooking(T.idCtPt,Y.idPhuThu,Y.soLuong);je.statusCode===200?(J.success("Thêm phụ thu thành công!"),j(!1),L(null),pe()):J.error(je.message||"Có lỗi xảy ra khi thêm phụ thu")}catch(je){console.error("Error adding surcharge:",je),J.error("Có lỗi xảy ra khi thêm phụ thu")}},Ee=te=>{V(te),X(!0)},we=async(te,je)=>{if(window.confirm("Bạn có chắc chắn muốn xóa dịch vụ này?"))try{const Me=await jt.deleteServiceFromBooking(te,je);if(Me.statusCode===200){if(J.success("Xóa dịch vụ thành công!"),B&&B.danhSachDichVu){const Be={...B,danhSachDichVu:B.danhSachDichVu.filter(Ge=>!(Ge.idCtPt===te&&Ge.idDv===je))};V(Be)}pe()}else J.error(Me.message||"Có lỗi xảy ra khi xóa dịch vụ")}catch(Me){console.error("Error deleting service:",Me),J.error("Có lỗi xảy ra khi xóa dịch vụ")}},ot=async(te,je)=>{if(window.confirm("Bạn có chắc chắn muốn xóa phụ thu này?"))try{const Me=await jt.deleteSurchargeFromBooking(te,je);if(Me.statusCode===200){if(J.success("Xóa phụ thu thành công!"),B&&B.danhSachPhuThu){const Be={...B,danhSachPhuThu:B.danhSachPhuThu.filter(Ge=>!(Ge.idPhuThu===te&&Ge.idCtPt===je))};V(Be)}pe()}else J.error(Me.message||"Có lỗi xảy ra khi xóa phụ thu")}catch(Me){console.error("Error deleting surcharge:",Me),J.error("Có lỗi xảy ra khi xóa phụ thu")}},Et=async(te,je,Me,Be=null,Ge=null)=>{try{let lt;if(te==="service"?lt=await jt.updateServicePaymentStatus(je,Be,Me):te==="surcharge"?lt=await jt.updateSurchargePaymentStatus(Ge,je,Me):te==="room"&&(lt=await jt.updateRoomPaymentStatus(je,Me)),lt&&lt.statusCode===200){if(J.success("Cập nhật trạng thái thanh toán thành công!"),B){const er={...B};te==="service"&&er.danhSachDichVu?er.danhSachDichVu=er.danhSachDichVu.map(Qr=>Qr.idCtPt===je&&Qr.idDv===Be?{...Qr,ttThanhToan:Me}:Qr):te==="surcharge"&&er.danhSachPhuThu?er.danhSachPhuThu=er.danhSachPhuThu.map(Qr=>Qr.idPhuThu===Ge&&Qr.idCtPt===je?{...Qr,ttThanhToan:Me}:Qr):te==="room"&&(er.ttThanhToan=Me),V(er)}pe()}else J.error((lt==null?void 0:lt.message)||"Có lỗi xảy ra khi cập nhật trạng thái thanh toán")}catch(lt){console.error("Error updating payment status:",lt),J.error("Có lỗi xảy ra khi cập nhật trạng thái thanh toán")}},fr=te=>{let je=0;return te.danhSachDichVu&&te.danhSachDichVu.forEach(Me=>{Me.ttThanhToan!=="Đã thanh toán"&&(je+=(Me.donGia||0)*(Me.soLuong||0))}),te.danhSachPhuThu&&te.danhSachPhuThu.forEach(Me=>{Me.ttThanhToan!=="Đã thanh toán"&&(je+=(Me.donGia||0)*(Me.soLuong||0))}),je},Ir=te=>{if(!te.ngayDen||!te.ngayDi||!te.donGia)return 0;const je=new Date(te.ngayDen),Me=new Date(te.ngayDi),Be=Math.ceil((Me-je)/(1e3*60*60*24));return te.donGia*Math.max(1,Be)},Ws=te=>{l(te),i("view"),n(!0)},xs=te=>{l(te),w({idDv:"",tenDv:"",donViTinh:"",gia:te.gia,idPhuThu:te.idPhuThu,tenPhuThu:te.tenPhuThu}),i("edit"),n(!0)},pr=async te=>{if(te.preventDefault(),e==="services"){if(a==="add")try{const je={idDv:g.idDv,tenDv:g.tenDv,donViTinh:g.donViTinh},Me=await jt.createDichVu(je);if(Me.statusCode===200&&g.gia&&parseFloat(g.gia)>0)try{await Q(g.idDv,parseFloat(g.gia))}catch(Be){console.error("Error updating price:",Be)}if(Me.statusCode===200){const Be=await jt.getAllDichVu();Be.statusCode===200&&h(Be.dichVuList||[]),J.success("Thêm dịch vụ thành công!")}else{J.error(Me.message||"Lỗi khi thêm dịch vụ");return}}catch(je){console.error("Error creating service:",je),J.error("Lỗi khi thêm dịch vụ");return}else if(a==="edit")try{const je=go.getCurrentUser(),Me={idDv:g.idDv,tenDv:g.tenDv,donViTinh:g.donViTinh,gia:g.gia,idNv:(je==null?void 0:je.idNv)||(je==null?void 0:je.id)||null},Be=await jt.updateDichVu(o.idDv,Me);if(Be.statusCode===200){const Ge=await jt.getAllDichVu();Ge.statusCode===200&&h(Ge.dichVuList||[]),J.success("Cập nhật dịch vụ thành công!")}else{J.error(Be.message||"Lỗi khi cập nhật dịch vụ");return}}catch(je){console.error("Error updating service:",je),J.error("Lỗi khi cập nhật dịch vụ");return}}else if(a==="add")try{const je={idPhuThu:g.idPhuThu,tenPhuThu:g.tenPhuThu},Me=await jt.createPhuThu(je);if(Me.statusCode===200&&g.gia&&parseFloat(g.gia)>0)try{await G(g.idPhuThu,parseFloat(g.gia))}catch(Be){console.error("Error updating price:",Be)}if(Me.statusCode===200){const Be=await jt.getAllPhuThu();Be.statusCode===200&&p(Be.phuThuList||[]),J.success("Thêm phụ thu thành công!")}else{J.error(Me.message||"Lỗi khi thêm phụ thu");return}}catch(je){console.error("Error creating surcharge:",je),J.error("Lỗi khi thêm phụ thu");return}else if(a==="edit")try{const je=go.getCurrentUser(),Me={idPhuThu:g.idPhuThu,tenPhuThu:g.tenPhuThu,gia:g.gia,idNv:(je==null?void 0:je.idNv)||(je==null?void 0:je.id)||null},Be=await jt.updatePhuThu(o.idPhuThu,Me);if(Be.statusCode===200){const Ge=await jt.getAllPhuThu();Ge.statusCode===200&&p(Ge.phuThuList||[]),J.success("Cập nhật phụ thu thành công!")}else{J.error(Be.message||"Lỗi khi cập nhật phụ thu");return}}catch(je){console.error("Error updating surcharge:",je),J.error("Lỗi khi cập nhật phụ thu");return}n(!1),Zt()},Zt=()=>{w({idDv:"",tenDv:"",donViTinh:"",gia:"",idPhuThu:"",tenPhuThu:""}),l(null)},Ht=te=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(te||0),hn=te=>te?new Date(te).toLocaleDateString("vi-VN"):"N/A",Cn=({title:te,value:je,icon:Me,color:Be})=>s.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`p-3 rounded-full ${Be} mr-4`,children:s.jsx(Me,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:te}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:je})]})]})});return c?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Quản lý Dịch vụ & Phụ thu"}),s.jsx("p",{className:"text-gray-600",children:"Theo dõi việc sử dụng dịch vụ và phụ thu của các phiếu thuê đang hoạt động"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Cn,{title:"Dịch vụ khả dụng",value:v.totalAvailableServices,icon:wr,color:"bg-blue-500"}),s.jsx(Cn,{title:"Phụ thu khả dụng",value:v.totalAvailableSurcharges,icon:br,color:"bg-green-500"}),s.jsx(Cn,{title:"Phòng đang được sử dụng",value:v.totalOccupiedRooms,icon:ln,color:"bg-purple-500"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex",children:[s.jsx("button",{onClick:()=>t("services"),className:`py-4 px-6 text-sm font-medium border-b-2 ${e==="services"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Dịch vụ"}),s.jsx("button",{onClick:()=>t("surcharges"),className:`py-4 px-6 text-sm font-medium border-b-2 ${e==="surcharges"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Phụ thu"})]})}),s.jsxs("div",{className:"p-6",children:[e==="services"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Danh sách Dịch vụ"}),s.jsxs("button",{onClick:re,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Thêm dịch vụ"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã dịch vụ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên dịch vụ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Đơn vị tính"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá hiện tại"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(te=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.idDv}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.tenDv}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.donViTinh}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:te.giaHienTai?Ht(te.giaHienTai):"Chưa có giá"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.ngayApDungGia?hn(te.ngayApDungGia):"Chưa có"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>ne(te),className:"text-blue-600 hover:text-blue-900 p-1",title:"Xem chi tiết",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>H(te),className:"text-green-600 hover:text-green-900 p-1",title:"Chỉnh sửa",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>C(te),className:"text-red-600 hover:text-red-900 p-1",title:"Xóa",children:s.jsx(ds,{className:"w-4 h-4"})})]})})]},te.idDv))})]})})]}),e==="surcharges"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Danh sách Phụ thu"}),s.jsxs("button",{onClick:re,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Thêm phụ thu"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá hiện tại"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(te=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.idPhuThu}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te.tenPhuThu}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:te.giaHienTai?Ht(te.giaHienTai):"Chưa có giá"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:te.ngayApDungGia?hn(te.ngayApDungGia):"Chưa có"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>Ws(te),className:"text-blue-600 hover:text-blue-900 p-1",title:"Xem chi tiết",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>xs(te),className:"text-green-600 hover:text-green-900 p-1",title:"Chỉnh sửa",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>C(te),className:"text-red-600 hover:text-red-900 p-1",title:"Xóa",children:s.jsx(ds,{className:"w-4 h-4"})})]})})]},te.idPhuThu))})]})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Phòng đang được sử dụng"})})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.length>0?ge(x,ae,Z).map(te=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Phòng ",te.soPhong]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Tầng ",te.tang]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${te.ttThanhToan==="Đã thanh toán"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:te.ttThanhToan})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:te.tenKieuPhong}),s.jsx("p",{className:"text-sm text-gray-500",children:te.tenLoaiPhong})]})]}),s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Phiếu thuê:"}),s.jsxs("span",{className:"font-medium",children:["#",te.idPt]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Khách hàng:"}),s.jsx("span",{className:"font-medium",children:te.tenKhachHang})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:hn(te.ngayDen)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Check-out dự kiến:"}),s.jsx("span",{className:"font-medium",children:hn(te.ngayDi)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-500",children:"Tổng tiền:"}),s.jsx("span",{className:"font-bold text-blue-600",children:Ht(fr(te))})]})]})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("button",{onClick:()=>A(te),className:"bg-blue-600 text-white px-3 py-2 rounded text-sm hover:bg-blue-700 transition-colors",children:"+ Dịch vụ"}),s.jsx("button",{onClick:()=>se(te),className:"bg-green-600 text-white px-3 py-2 rounded text-sm hover:bg-green-700 transition-colors",children:"+ Phụ thu"})]}),s.jsx("button",{onClick:()=>Ee(te),className:"w-full mt-2 bg-orange-600 text-white px-3 py-2 rounded text-sm hover:bg-orange-700 transition-colors",children:"Xem tình trạng phòng"})]})]},te.idCtPt)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx(ln,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"Không có phòng nào đang được sử dụng"})]})}),x.length>0&&s.jsx(U,{currentPage:ae,totalPages:_(x.length,Z),onPageChange:q,className:"mt-6"})]})]}),r&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[a==="view"&&(e==="services"?"Chi tiết dịch vụ":"Chi tiết phụ thu"),a==="add"&&(e==="services"?"Thêm dịch vụ mới":"Thêm phụ thu mới"),a==="edit"&&(e==="services"?"Chỉnh sửa dịch vụ":"Chỉnh sửa phụ thu")]}),a==="view"?s.jsxs("div",{className:"space-y-3",children:[e==="services"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã dịch vụ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.idDv})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên dịch vụ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.tenDv})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Đơn vị tính"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.donViTinh})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá hiện tại"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:o!=null&&o.giaHienTai?Ht(o.giaHienTai):"Chưa có giá"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày áp dụng"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o!=null&&o.ngayApDungGia?hn(o.ngayApDungGia):"Chưa có"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mã phụ thu"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.idPhuThu})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tên phụ thu"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o==null?void 0:o.tenPhuThu})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giá hiện tại"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 font-medium",children:o!=null&&o.giaHienTai?Ht(o.giaHienTai):"Chưa có giá"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày áp dụng"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:o!=null&&o.ngayApDungGia?hn(o.ngayApDungGia):"Chưa có"})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Đóng"})})]}):s.jsxs("form",{onSubmit:pr,className:"space-y-4",children:[e==="services"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mã dịch vụ"}),s.jsx("input",{type:"text",value:g.idDv,onChange:te=>w({...g,idDv:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:a==="edit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên dịch vụ"}),s.jsx("input",{type:"text",value:g.tenDv,onChange:te=>w({...g,tenDv:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Đơn vị tính"}),s.jsx("input",{type:"text",value:g.donViTinh,onChange:te=>w({...g,donViTinh:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá dịch vụ (VND)"}),s.jsx("input",{type:"number",value:g.gia,onChange:te=>w({...g,gia:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mã phụ thu"}),s.jsx("input",{type:"text",value:g.idPhuThu,onChange:te=>w({...g,idPhuThu:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:a==="edit"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tên phụ thu"}),s.jsx("input",{type:"text",value:g.tenPhuThu,onChange:te=>w({...g,tenPhuThu:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Giá phụ thu (VND)"}),s.jsx("input",{type:"number",value:g.gia,onChange:te=>w({...g,gia:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,min:"0"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200",children:"Hủy"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:a==="add"?"Thêm mới":"Cập nhật"})]})]})]})})}),b&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Thêm dịch vụ cho phòng ",T==null?void 0:T.soPhong]}),s.jsxs("form",{onSubmit:he,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dịch vụ"}),s.jsxs("select",{value:K.idDv,onChange:te=>M({...K,idDv:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Chọn dịch vụ"}),d.map(te=>s.jsxs("option",{value:te.idDv,children:[te.tenDv," (",te.donViTinh,")"]},te.idDv))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng"}),s.jsx("input",{type:"number",min:"1",value:K.soLuong,onChange:te=>M({...K,soLuong:parseInt(te.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300",children:"Hủy"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Thêm dịch vụ"})]})]})]})})}),D&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Thêm phụ thu cho phòng ",T==null?void 0:T.soPhong]}),s.jsxs("form",{onSubmit:ve,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phụ thu"}),s.jsxs("select",{value:Y.idPhuThu,onChange:te=>z({...Y,idPhuThu:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[s.jsx("option",{value:"",children:"Chọn phụ thu"}),f.map(te=>s.jsx("option",{value:te.idPhuThu,children:te.tenPhuThu},te.idPhuThu))]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số lượng"}),s.jsx("input",{type:"number",min:"1",value:Y.soLuong,onChange:te=>z({...Y,soLuong:parseInt(te.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 border border-gray-300 rounded-md hover:bg-gray-300",children:"Hủy"}),s.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:"Thêm phụ thu"})]})]})]})})}),de&&B&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-10 mx-auto p-5 border w-4/5 max-w-4xl shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Tình trạng phòng ",B.soPhong]}),s.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Thông tin phòng"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Số phòng:"}),s.jsx("span",{className:"font-medium",children:B.soPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tầng:"}),s.jsx("span",{className:"font-medium",children:B.tang})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Kiểu phòng:"}),s.jsx("span",{className:"font-medium",children:B.tenKieuPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Loại phòng:"}),s.jsx("span",{className:"font-medium",children:B.tenLoaiPhong})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Khách hàng:"}),s.jsx("span",{className:"font-medium",children:B.tenKhachHang})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-in:"}),s.jsx("span",{className:"font-medium",children:hn(B.ngayDen)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Check-out dự kiến:"}),s.jsx("span",{className:"font-medium",children:hn(B.ngayDi)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Giá phòng/đêm:"}),s.jsx("span",{className:"font-medium",children:Ht(B.donGia)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Tổng tiền phòng:"}),s.jsx("span",{className:"font-medium text-blue-600",children:Ht(Ir(B))})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Trạng thái thanh toán phòng:"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{value:B.ttThanhToan,onChange:te=>Et("room",B.idCtPt,te.target.value),className:`px-3 py-1 rounded text-sm border focus:outline-none focus:ring-2 focus:ring-blue-500 ${B.ttThanhToan==="Đã thanh toán"?"bg-green-100 text-green-800 border-green-300":"bg-yellow-100 text-yellow-800 border-yellow-300"}`,children:[s.jsx("option",{value:"Chưa thanh toán",children:"Chưa thanh toán"}),s.jsx("option",{value:"Đã thanh toán",children:"Đã thanh toán"})]})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Dịch vụ đang sử dụng"}),B.danhSachDichVu&&B.danhSachDichVu.length>0?s.jsx("div",{className:"space-y-2",children:B.danhSachDichVu.map((te,je)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:te.tenDv}),s.jsxs("p",{className:"text-sm text-gray-500",children:[te.soLuong," ",te.donViTinh," × ",Ht(te.donGia)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-bold text-blue-600",children:Ht(te.donGia*te.soLuong)}),te.ttThanhToan!=="Đã thanh toán"&&s.jsx("button",{onClick:()=>we(te.idCtPt,te.idDv),className:"text-red-600 hover:text-red-800 p-1",title:"Xóa dịch vụ",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trạng thái:"}),s.jsxs("select",{value:te.ttThanhToan,onChange:Me=>Et("service",te.idCtPt,Me.target.value,te.idDv),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"Chưa thanh toán",children:"Chưa thanh toán"}),s.jsx("option",{value:"Đã thanh toán",children:"Đã thanh toán"})]})]})]},je))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"Không có dịch vụ nào"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-3",children:"Phụ thu đang áp dụng"}),B.danhSachPhuThu&&B.danhSachPhuThu.length>0?s.jsx("div",{className:"space-y-2",children:B.danhSachPhuThu.map((te,je)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:te.tenPhuThu}),s.jsxs("p",{className:"text-sm text-gray-500",children:[te.soLuong," × ",Ht(te.donGia)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-bold text-green-600",children:Ht(te.donGia*te.soLuong)}),te.ttThanhToan!=="Đã thanh toán"&&s.jsx("button",{onClick:()=>ot(te.idPhuThu,te.idCtPt),className:"text-red-600 hover:text-red-800 p-1",title:"Xóa phụ thu",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Trạng thái:"}),s.jsxs("select",{value:te.ttThanhToan,onChange:Me=>Et("surcharge",te.idCtPt,Me.target.value,null,te.idPhuThu),className:"px-2 py-1 border border-gray-300 rounded text-sm",children:[s.jsx("option",{value:"Chưa thanh toán",children:"Chưa thanh toán"}),s.jsx("option",{value:"Đã thanh toán",children:"Đã thanh toán"})]})]})]},je))}):s.jsx("p",{className:"text-gray-500 text-sm",children:"Không có phụ thu nào"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-yellow-800",children:"Tiền phòng:"}),s.jsx("span",{className:"font-medium text-yellow-900",children:B.ttThanhToan==="Đã thanh toán"?Ht(0):Ht(Ir(B))})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-yellow-800",children:"Tiền dịch vụ & phụ thu:"}),s.jsx("span",{className:"font-medium text-yellow-900",children:Ht(fr(B))})]}),s.jsx("hr",{className:"border-yellow-300"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"text-lg font-semibold text-yellow-900",children:"Tổng cộng:"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:Ht((B.ttThanhToan==="Đã thanh toán"?0:Ir(B))+fr(B))})]})]}),s.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"* Tiền phòng tính theo số đêm ở. Chỉ tính các khoản chưa thanh toán."})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>X(!1),className:"px-6 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Đóng"})})]})})})]})},By=({idCtPt:e,cccd:t,showAll:r=!1})=>{const[n,a]=N.useState([]),[i,o]=N.useState(!1),[l,c]=N.useState({startDate:"",endDate:"",cccd:t||""});N.useEffect(()=>{u()},[e,t,r]);const u=async()=>{o(!0);try{let f;e?f=await es.getRoomChangeHistory(e):t?f=await es.getDoiPhongByKhachHang(t):r?f=await es.getAllDoiPhong():f=await es.getCurrentRoomChanges(),f.statusCode===200?a(f.doiPhongList||[]):J.error(f.message)}catch(f){J.error("Lỗi khi tải lịch sử đổi phòng"),console.error(f)}finally{o(!1)}},d=async()=>{if(!l.startDate||!l.endDate){J.error("Vui lòng chọn khoảng thời gian");return}o(!0);try{const f=await es.filterDoiPhong(l);f.statusCode===200?a(f.doiPhongList||[]):J.error(f.message)}catch(f){J.error("Lỗi khi lọc dữ liệu"),console.error(f)}finally{o(!1)}},h=f=>f?new Date(f).toLocaleDateString("vi-VN"):"N/A";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e?"Lịch sử đổi phòng":t?"Lịch sử đổi phòng của khách hàng":r?"Tất cả lịch sử đổi phòng":"Đổi phòng hiện tại"}),s.jsxs("button",{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Làm mới"]})]}),r&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Bộ lọc"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Từ ngày"}),s.jsx("input",{type:"date",value:l.startDate,onChange:f=>c(p=>({...p,startDate:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Đến ngày"}),s.jsx("input",{type:"date",value:l.endDate,onChange:f=>c(p=>({...p,endDate:f.target.value})),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CCCD khách hàng"}),s.jsx("input",{type:"text",value:l.cccd,onChange:f=>c(p=>({...p,cccd:f.target.value})),placeholder:"Nhập CCCD...",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:d,className:"w-full bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Lọc"})})]})]}),i?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),s.jsx("p",{children:"Không có lịch sử đổi phòng"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thông tin đổi phòng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng cũ → Phòng mới"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời gian"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Loại phòng"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((f,p)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["ID: ",f.idCtPt]}),s.jsxs("div",{className:"text-gray-500",children:["Phiếu thuê: ",f.idPt]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-gray-900",children:f.tenKhachHang}),s.jsx("div",{className:"text-gray-500",children:f.cccd}),f.sdtKhachHang&&s.jsx("div",{className:"text-gray-500",children:f.sdtKhachHang})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium text-red-600",children:f.soPhongCu}),s.jsx("svg",{className:"w-4 h-4 mx-2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),s.jsx("span",{className:"font-medium text-green-600",children:f.soPhongMoi})]})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Đến:"})," ",h(f.ngayDen)]}),f.ngayDi&&s.jsxs("div",{children:[s.jsx("strong",{children:"Đi:"})," ",h(f.ngayDi)]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-gray-600",children:["Cũ: ",f.tenKieuPhongCu," - ",f.tenLoaiPhongCu]}),s.jsxs("div",{className:"text-gray-600",children:["Mới: ",f.tenKieuPhongMoi," - ",f.tenLoaiPhongMoi]})]})})]},`${f.idCtPt}-${f.soPhongMoi}-${p}`))})]})}),n.length>0&&s.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Tổng cộng: ",n.length," lần đổi phòng"]})]})},wA=()=>{const[e,t]=N.useState("current"),r=[{id:"current",label:"Đổi phòng hiện tại",icon:"🔄"},{id:"history",label:"Lịch sử đổi phòng",icon:"📋"}];return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Quản lý đổi phòng"}),s.jsx("p",{className:"text-gray-600",children:"Theo dõi và quản lý các yêu cầu đổi phòng của khách hàng"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8 px-6",children:r.map(n=>s.jsxs("button",{onClick:()=>t(n.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${e===n.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx("span",{className:"mr-2",children:n.icon}),n.label]},n.id))})}),s.jsxs("div",{className:"p-6",children:[e==="current"&&s.jsx(By,{showAll:!1}),e==="history"&&s.jsx(By,{showAll:!0})]})]})]})},NA=()=>{var f;const{user:e}=kn(),[t,r]=N.useState({totalRooms:0,occupiedRooms:0,totalStaff:0,totalCustomers:0,monthlyRevenue:0,todayRevenue:0,totalServices:0,totalAmenities:0,pendingReservations:0,checkInsToday:0,checkOutsToday:0,occupancyRate:0}),[n,a]=N.useState([]),[i,o]=N.useState([]),[l,c]=N.useState([]);N.useEffect(()=>{u()},[]);const u=async()=>{try{const x=(await Mu.getAdminStats()).stats||{};r(x),a([{id:1,type:"reservation",description:"Đặt phòng mới từ Nguyễn Văn A",time:"10 phút trước",status:"success"},{id:2,type:"checkin",description:"Check-in phòng 205 - Trần Thị B",time:"25 phút trước",status:"success"},{id:3,type:"staff",description:"Nhân viên mới được thêm vào hệ thống",time:"1 giờ trước",status:"info"},{id:4,type:"maintenance",description:"Báo cáo sự cố phòng 301",time:"2 giờ trước",status:"warning"}]);const m=await W.get("/api/dashboard/admin/top-performers"),v=await W.get("/api/dashboard/admin/revenue-data");o(m.data.performers||[]),c(v.data.revenue||[])}catch(p){console.error("Error fetching dashboard data:",p)}},d=p=>{switch(p){case"reservation":return s.jsx(ft,{className:"w-4 h-4 text-blue-600"});case"checkin":return s.jsx(va,{className:"w-4 h-4 text-green-600"});case"staff":return s.jsx(wr,{className:"w-4 h-4 text-purple-600"});case"maintenance":return s.jsx(os,{className:"w-4 h-4 text-yellow-600"});default:return s.jsx(lr,{className:"w-4 h-4 text-gray-600"})}},h=p=>{switch(p){case"success":return"bg-green-100";case"warning":return"bg-yellow-100";case"info":return"bg-blue-100";default:return"bg-gray-100"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-lg p-6 text-white",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Chào mừng, ",(e==null?void 0:e.hoTen)||(e==null?void 0:e.tenNhanVien)||`${(e==null?void 0:e.ho)||""} ${(e==null?void 0:e.ten)||""}`.trim()||((f=e==null?void 0:e.email)==null?void 0:f.split("@")[0])||"Quản lý","!"]}),s.jsx("p",{className:"text-purple-100",children:"Dashboard quản lý - Tổng quan hoạt động khách sạn"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(ln,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tỷ lệ phòng đang được thuê"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.occupancyRate,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(t.occupiedRooms||0)+(t.reservedRooms||0),"/",t.totalRooms," phòng"]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Bao gồm phòng có khách + đã đặt"})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(No,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu tháng"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(t.monthlyRevenue/1e6).toFixed(0),"M"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"VNĐ"})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(wr,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng khách hàng"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.totalCustomers}),s.jsx("p",{className:"text-xs text-gray-500",children:"+12% tháng này"})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(_u,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu hôm nay"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(t.todayRevenue/1e6).toFixed(1),"M"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"VNĐ"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(os,{className:"w-6 h-6 text-red-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Chờ xác nhận"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.pendingReservations})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(va,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-in hôm nay"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.checkInsToday})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Check-out hôm nay"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.checkOutsToday})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(wr,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nhân viên"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.totalStaff})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(wo,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Dịch vụ"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.totalServices})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-emerald-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(fd,{className:"w-6 h-6 text-emerald-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tiện nghi"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:t.totalAmenities})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Chi tiết trạng thái phòng"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.availableRooms||0}),s.jsx("div",{className:"text-sm text-green-700",children:"Trống"}),s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[t.totalRooms>0?((t.availableRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.occupiedRooms||0}),s.jsx("div",{className:"text-sm text-blue-700",children:"Đã có khách"}),s.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:[t.totalRooms>0?((t.occupiedRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.cleaningRooms||0}),s.jsx("div",{className:"text-sm text-yellow-700",children:"Đang dọn dẹp"}),s.jsxs("div",{className:"text-xs text-yellow-600 mt-1",children:[t.totalRooms>0?((t.cleaningRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.maintenanceRooms||0}),s.jsx("div",{className:"text-sm text-red-700",children:"Đang bảo trì"}),s.jsxs("div",{className:"text-xs text-red-600 mt-1",children:[t.totalRooms>0?((t.maintenanceRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.reservedRooms||0}),s.jsx("div",{className:"text-sm text-purple-700",children:"Đã đặt"}),s.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:[t.totalRooms>0?((t.reservedRooms||0)/t.totalRooms*100).toFixed(1):0,"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[s.jsx(Fe,{to:"/admin/rooms",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(ln,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thêm, sửa, xóa phòng"})]})}),s.jsx(Fe,{to:"/admin/staff",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-purple-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(wr,{className:"w-8 h-8 text-purple-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý nhân viên"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thông tin nhân viên"})]})}),s.jsx(Fe,{to:"/admin/services",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-yellow-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(wo,{className:"w-8 h-8 text-yellow-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý dịch vụ"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Dịch vụ khách sạn"})]})}),s.jsx(Fe,{to:"/admin/amenities",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-emerald-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(fd,{className:"w-8 h-8 text-emerald-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý tiện nghi"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Tiện nghi phòng"})]})}),s.jsx(Fe,{to:"/admin/reports",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(hd,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Báo cáo"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Thống kê & phân tích"})]})}),s.jsx(Fe,{to:"/admin/surcharges",className:"card hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-4 bg-orange-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(br,{className:"w-8 h-8 text-orange-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Quản lý phụ thu"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Phụ thu dịch vụ"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Hoạt động gần đây"}),s.jsx(Fe,{to:"/admin/reports",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:n.map(p=>s.jsxs("div",{className:`flex items-center p-4 rounded-lg ${h(p.status)}`,children:[s.jsx("div",{className:"flex-shrink-0",children:d(p.type)}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.description}),s.jsx("p",{className:"text-xs text-gray-500",children:p.time})]})]},p.id))})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nhân viên xuất sắc"}),s.jsx(Fe,{to:"/admin/staff",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Xem tất cả"})]}),s.jsx("div",{className:"space-y-4",children:i.map((p,x)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-purple-600 font-semibold",children:["#",x+1]})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.name}),s.jsx("p",{className:"text-xs text-gray-500",children:p.role})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[p.performance,"%"]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[p.tasks," công việc"]})]})]},p.id))})]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Doanh thu 6 tháng gần đây"}),s.jsx(Fe,{to:"/admin/reports",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Chi tiết"})]}),s.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Biểu đồ doanh thu sẽ được hiển thị ở đây"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tích hợp với Chart.js hoặc Recharts"})]})})]})]})},bA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(12),[u,d]=N.useState({searchTerm:"",kieuPhong:"",loaiPhong:"",status:"",floor:""}),[h,f]=N.useState(!1),[p,x]=N.useState(!1),[m,v]=N.useState(null),[y,g]=N.useState({soPhong:"",tang:"",idKieuPhong:"",idTrangThai:"",moTa:""}),[w,b]=N.useState([]);N.useEffect(()=>{D(),k()},[]);const k=async()=>{try{const Z=await W.get("/api/hang-phong/all");Z.data.statusCode===200&&b(Z.data.hangPhongList||[])}catch(Z){console.error("Error fetching hang phong:",Z)}},D=async()=>{try{i(!0);const ge=(await W.get("/api/phong/all")).data.phongList||[];t(ge),n(ge)}catch(Z){console.error("Error fetching rooms:",Z)}finally{i(!1)}},j=(Z,ge)=>{const _={...u,[Z]:ge};d(_),T(_)},T=Z=>{let ge=[...e];if(Z.searchTerm){const _=Z.searchTerm.toLowerCase();ge=ge.filter(ee=>ee.soPhong.toLowerCase().includes(_)||ee.tenKp.toLowerCase().includes(_)||ee.tenLp.toLowerCase().includes(_))}Z.kieuPhong&&(ge=ge.filter(_=>_.tenKp===Z.kieuPhong)),Z.loaiPhong&&(ge=ge.filter(_=>_.tenLp===Z.loaiPhong)),Z.status&&(ge=ge.filter(_=>_.tenTrangThai===Z.status)),Z.floor&&(ge=ge.filter(_=>_.tang.toString()===Z.floor)),n(ge),l(1)},L=()=>{d({searchTerm:"",kieuPhong:"",loaiPhong:"",status:"",floor:""}),n(e),l(1)},K=Z=>{switch(Z){case"Trống":return"text-green-600 bg-green-100";case"Đã có khách":return"text-blue-600 bg-blue-100";case"Đang dọn dẹp":return"text-yellow-600 bg-yellow-100";case"Đang bảo trì":return"text-red-600 bg-red-100";case"Đã đặt":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}},M=Z=>{switch(Z){case"Trống":return s.jsx(Or,{className:"w-4 h-4"});case"Đã có khách":return s.jsx(lr,{className:"w-4 h-4"});case"Đang dọn dẹp":return s.jsx(os,{className:"w-4 h-4"});case"Đang bảo trì":return s.jsx(vo,{className:"w-4 h-4"});case"Đã đặt":return s.jsx(ft,{className:"w-4 h-4"});default:return s.jsx(lr,{className:"w-4 h-4"})}},Y=()=>{g({soPhong:"",tang:"",idKieuPhong:"",idTrangThai:"TT001",moTa:""}),f(!0)},z=Z=>{v(Z),g({soPhong:Z.soPhong,tang:Z.tang.toString(),idKieuPhong:Z.idHangPhong||"",idTrangThai:Z.idTt||"",moTa:Z.moTa||""}),x(!0)},de=async Z=>{var ge,_;if(window.confirm("Bạn có chắc chắn muốn xóa phòng này?"))try{const ee=await W.delete(`/api/phong/delete/${Z}`);ee.data.statusCode===200?(t(Q=>Q.filter(G=>G.soPhong!==Z)),n(Q=>Q.filter(G=>G.soPhong!==Z)),J.success("Xóa phòng thành công!")):J.error(ee.data.message||"Xóa phòng thất bại")}catch(ee){console.error("Error deleting room:",ee),J.error(((_=(ge=ee.response)==null?void 0:ge.data)==null?void 0:_.message)||"Có lỗi xảy ra khi xóa phòng")}},X=async Z=>{var ge,_;if(Z.preventDefault(),!y.soPhong||!y.tang||!y.idKieuPhong){J.error("Vui lòng điền đầy đủ thông tin");return}try{if(p){const ee={soPhong:y.soPhong,tang:parseInt(y.tang),hangPhong:{idHangPhong:parseInt(y.idKieuPhong)},trangThai:{idTt:y.idTrangThai}},Q=await W.put(`/api/phong/update/${m.soPhong}`,ee);Q.data.statusCode===200?(J.success("Cập nhật phòng thành công!"),D(),x(!1),v(null)):J.error(Q.data.message||"Cập nhật phòng thất bại")}else{const ee={soPhong:y.soPhong,tang:parseInt(y.tang),hangPhong:{idHangPhong:parseInt(y.idKieuPhong)},trangThai:{idTt:y.idTrangThai||"TT001"}},Q=await W.post("/api/phong/create",ee);Q.data.statusCode===200?(J.success("Tạo phòng thành công!"),D(),f(!1),g({soPhong:"",tang:"",idKieuPhong:"",idTrangThai:"TT001",moTa:""})):J.error(Q.data.message||"Tạo phòng thất bại")}}catch(ee){console.error("Error saving room:",ee),J.error(((_=(ge=ee.response)==null?void 0:ge.data)==null?void 0:_.message)||"Có lỗi xảy ra khi lưu phòng")}},B=o*c,V=B-c,ae=r.slice(V,B),q=Z=>l(Z);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thêm, sửa, xóa và quản lý phòng khách sạn"})]}),s.jsxs("button",{onClick:Y,className:"btn-primary",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Thêm phòng mới"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(ln,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng phòng"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(Or,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Trống"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(Z=>Z.tenTrangThai==="Trống").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(lr,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã có khách"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(Z=>Z.tenTrangThai==="Đã có khách").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(os,{className:"w-6 h-6 text-yellow-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang dọn dẹp"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(Z=>Z.tenTrangThai==="Đang dọn dẹp").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(vo,{className:"w-6 h-6 text-red-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang bảo trì"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(Z=>Z.tenTrangThai==="Đang bảo trì").length})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full w-12 h-12 mx-auto mb-2 flex items-center justify-center",children:s.jsx(ft,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đã đặt"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(Z=>Z.tenTrangThai==="Đã đặt").length})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Fo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Số phòng, loại phòng...",value:u.searchTerm,onChange:Z=>j("searchTerm",Z.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Kiểu phòng"}),s.jsxs("select",{value:u.kieuPhong,onChange:Z=>j("kieuPhong",Z.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Single",children:"Single"}),s.jsx("option",{value:"Double",children:"Double"}),s.jsx("option",{value:"Twin",children:"Twin"}),s.jsx("option",{value:"Family",children:"Family"}),s.jsx("option",{value:"Suite",children:"Suite"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại phòng"}),s.jsxs("select",{value:u.loaiPhong,onChange:Z=>j("loaiPhong",Z.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Standard",children:"Standard"}),s.jsx("option",{value:"Superior",children:"Superior"}),s.jsx("option",{value:"VIP",children:"VIP"}),s.jsx("option",{value:"Deluxe",children:"Deluxe"}),s.jsx("option",{value:"Executive",children:"Executive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:Z=>j("status",Z.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Trống",children:"Trống"}),s.jsx("option",{value:"Đã có khách",children:"Đã có khách"}),s.jsx("option",{value:"Đang dọn dẹp",children:"Đang dọn dẹp"}),s.jsx("option",{value:"Đang bảo trì",children:"Đang bảo trì"}),s.jsx("option",{value:"Đã đặt",children:"Đã đặt"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsxs("select",{value:u.floor,onChange:Z=>j("floor",Z.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"1",children:"Tầng 1"}),s.jsx("option",{value:"2",children:"Tầng 2"}),s.jsx("option",{value:"3",children:"Tầng 3"}),s.jsx("option",{value:"4",children:"Tầng 4"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:L,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Danh sách phòng (",r.length,")"]})}),r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ae.map((Z,ge)=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Phòng ",Z.soPhong]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tầng ",Z.tang]})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${K(Z.tenTrangThai)}`,children:[M(Z.tenTrangThai),s.jsx("span",{className:"ml-1",children:Z.tenTrangThai})]})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Loại:"})," ",Z.tenKp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giường:"})," ",Z.tenLp]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Diện tích:"})," ",Z.dienTich,"m²"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Giá:"})," ",Pd(Z.giaPhong)]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{className:"flex-1 text-blue-600 hover:text-blue-800 text-sm font-medium",children:[s.jsx(Mr,{className:"w-4 h-4 inline mr-1"}),"Xem"]}),s.jsxs("button",{onClick:()=>z(Z),className:"flex-1 text-green-600 hover:text-green-800 text-sm font-medium",children:[s.jsx(Tn,{className:"w-4 h-4 inline mr-1"}),"Sửa"]}),s.jsxs("button",{onClick:()=>de(Z.soPhong),className:"flex-1 text-red-600 hover:text-red-800 text-sm font-medium",children:[s.jsx(ds,{className:"w-4 h-4 inline mr-1"}),"Xóa"]})]})]},Z.soPhong||Z.id||ge))}),s.jsx(wi,{itemsPerPage:c,totalItems:r.length,currentPage:o,paginate:q})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ln,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có phòng nào"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy phòng nào phù hợp với bộ lọc"})]})]}),(h||p)&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:p?"Chỉnh sửa phòng":"Thêm phòng mới"}),s.jsx("button",{onClick:()=>{f(!1),x(!1),v(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số phòng"}),s.jsx("input",{type:"text",value:y.soPhong,onChange:Z=>g(ge=>({...ge,soPhong:Z.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tầng"}),s.jsxs("select",{value:y.tang,onChange:Z=>g(ge=>({...ge,tang:Z.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn tầng"}),s.jsx("option",{value:"1",children:"Tầng 1"}),s.jsx("option",{value:"2",children:"Tầng 2"}),s.jsx("option",{value:"3",children:"Tầng 3"}),s.jsx("option",{value:"4",children:"Tầng 4"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hạng phòng"}),s.jsxs("select",{value:y.idKieuPhong,onChange:Z=>g(ge=>({...ge,idKieuPhong:Z.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn hạng phòng"}),w.map(Z=>s.jsxs("option",{value:Z.idHangPhong,children:[Z.tenKp," - ",Z.tenLp," (",Pd(Z.giaPhong),")"]},Z.idHangPhong))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:y.idTrangThai,onChange:Z=>g(ge=>({...ge,idTrangThai:Z.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"TT001",children:"Trống"}),s.jsx("option",{value:"TT002",children:"Đã có khách"}),s.jsx("option",{value:"TT003",children:"Đang dọn dẹp"}),s.jsx("option",{value:"TT004",children:"Đang bảo trì"}),s.jsx("option",{value:"TT005",children:"Đã đặt"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),s.jsx("textarea",{value:y.moTa,onChange:Z=>g(ge=>({...ge,moTa:Z.target.value})),className:"input min-h-[80px]",placeholder:"Mô tả về phòng..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{f(!1),x(!1),v(null)},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:p?"Cập nhật":"Thêm mới"})]})]})]})})})]})},jA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(10),[u,d]=N.useState({searchTerm:"",role:"",status:"",department:""}),[h,f]=N.useState([]),[p,x]=N.useState([]),[m,v]=N.useState(!1),[y,g]=N.useState(!1),[w,b]=N.useState(!1),[k,D]=N.useState(null),[j,T]=N.useState({ho:"",ten:"",email:"",sdt:"",diaChi:"",ngaySinh:"",phai:"",username:"",password:"",idBp:"",idNq:""});N.useEffect(()=>{L(),K(),M()},[]);const L=async()=>{try{i(!0);const pe=(await W.get("/api/nhanvien/all")).data.nhanVienList||[];t(pe),n(pe)}catch(U){console.error("Error fetching staff:",U)}finally{i(!1)}},K=async()=>{try{const U=await Nl.getAllDepartments();U.statusCode===200&&f(U.boPhanList||[])}catch(U){console.error("Error fetching departments:",U),J.error("Không thể tải danh sách bộ phận. Vui lòng kiểm tra kết nối backend.")}},M=async()=>{try{const U=await Nl.getAllRoles();U.statusCode===200&&x(U.nhomQuyenList||[])}catch(U){console.error("Error fetching roles:",U),J.error("Không thể tải danh sách nhóm quyền. Vui lòng kiểm tra kết nối backend.")}},Y=(U,pe)=>{const ne={...u,[U]:pe};d(ne),z(ne)},z=U=>{let pe=[...e];if(U.searchTerm){const ne=U.searchTerm.toLowerCase();pe=pe.filter(H=>(H.ho+" "+H.ten).toLowerCase().includes(ne)||H.email&&H.email.toLowerCase().includes(ne)||H.sdt&&H.sdt.includes(ne)||H.tenNq&&H.tenNq.toLowerCase().includes(ne)||H.tenBp&&H.tenBp.toLowerCase().includes(ne))}U.role&&(pe=pe.filter(ne=>ne.tenBp===U.role)),U.status,U.department&&(pe=pe.filter(ne=>ne.tenBp===U.department)),n(pe),l(1)},de=()=>{d({searchTerm:"",role:"",status:"",department:""}),n(e),l(1)},X=U=>{switch(U){case"Quản lý":return"text-purple-600 bg-purple-100";case"Lễ tân":return"text-blue-600 bg-blue-100";case"Nhà hàng":return"text-green-600 bg-green-100";case"Kế toán":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},B=U=>U||"Không xác định",V=()=>{T({ho:"",ten:"",email:"",sdt:"",diaChi:"",ngaySinh:"",phai:"",username:"",password:"",idBp:"",idNq:""}),v(!0)},ae=U=>{D(U),T({ho:U.ho,ten:U.ten,email:U.email,soDienThoai:U.soDienThoai,diaChi:U.diaChi,ngaySinh:U.ngaySinh,gioiTinh:U.gioiTinh,chucVu:U.chucVu,phongBan:U.phongBan,luong:U.luong.toString(),ngayVaoLam:U.ngayVaoLam,trangThai:U.trangThai}),g(!0)},q=U=>{D(U),b(!0)},Z=async U=>{if(window.confirm("Bạn có chắc chắn muốn xóa nhân viên này?"))try{t(pe=>pe.filter(ne=>ne.id!==U)),n(pe=>pe.filter(ne=>ne.id!==U)),J.success("Xóa nhân viên thành công!")}catch{J.error("Có lỗi xảy ra khi xóa nhân viên")}},ge=async U=>{var pe,ne,H;U.preventDefault();try{if(y)J.error("Chức năng cập nhật nhân viên chưa được triển khai");else{const re=await Nl.createEmployee(j);re.statusCode===200?(J.success("Thêm nhân viên thành công!"),L()):J.error(re.message||"Có lỗi xảy ra khi thêm nhân viên")}v(!1),g(!1),D(null)}catch(re){console.error("Error saving staff:",re),console.error("Error response:",(pe=re.response)==null?void 0:pe.data),J.error(((H=(ne=re.response)==null?void 0:ne.data)==null?void 0:H.message)||"Có lỗi xảy ra khi lưu nhân viên")}},_=o*c,ee=_-c,Q=r.slice(ee,_),G=U=>l(U);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý nhân viên"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Thêm, sửa, xóa và quản lý nhân viên khách sạn"})]}),s.jsxs("button",{onClick:V,className:"btn-primary",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Thêm nhân viên"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(wr,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng nhân viên"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Or,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Đang làm việc"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(jh,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Quản lý"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(U=>U.tenBp==="Quản lý").length})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(Pt,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nhân viên"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(U=>U.tenBp!=="Quản lý").length})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Fo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Tên, email, SĐT, chức vụ...",value:u.searchTerm,onChange:U=>Y("searchTerm",U.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vai trò"}),s.jsxs("select",{value:u.role,onChange:U=>Y("role",U.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Quản lý",children:"Quản lý"}),s.jsx("option",{value:"Lễ tân",children:"Lễ tân"}),s.jsx("option",{value:"Nhà hàng",children:"Nhà hàng"}),s.jsx("option",{value:"Kế toán",children:"Kế toán"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u.status,onChange:U=>Y("status",U.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"active",children:"Hoạt động"}),s.jsx("option",{value:"inactive",children:"Nghỉ việc"}),s.jsx("option",{value:"suspended",children:"Tạm nghỉ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phòng ban"}),s.jsxs("select",{value:u.department,onChange:U=>Y("department",U.target.value),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Quản lý",children:"Quản lý"}),s.jsx("option",{value:"Lễ tân",children:"Lễ tân"}),s.jsx("option",{value:"Nhà hàng",children:"Nhà hàng"}),s.jsx("option",{value:"Kế toán",children:"Kế toán"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:de,className:"btn-outline w-full",children:"Xóa bộ lọc"})})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Danh sách nhân viên (",r.length,")"]})}),r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhân viên"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Liên hệ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chức vụ"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vai trò"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.map((U,pe)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.ho," ",U.ten]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",U.idNv]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(cs,{className:"w-4 h-4 mr-1 text-gray-400"}),U.sdt||"Không xác định"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ls,{className:"w-4 h-4 mr-1 text-gray-400"}),U.email]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.tenNq||"Chưa xác định"}),s.jsx("div",{className:"text-sm text-gray-500",children:U.tenBp||"Chưa phân bộ phận"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${X(U.tenBp)}`,children:B(U.tenBp)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Hoạt động"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>q(U),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Mr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ae(U),className:"text-green-600 hover:text-green-900",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Z(U.id),className:"text-red-600 hover:text-red-900",children:s.jsx(ds,{className:"w-4 h-4"})})]})})]},U.idNv||U.id||pe))})]})}),s.jsx(wi,{itemsPerPage:c,totalItems:r.length,currentPage:o,paginate:G})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(wr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có nhân viên nào"}),s.jsx("p",{className:"text-gray-500",children:"Không tìm thấy nhân viên nào phù hợp với bộ lọc"})]})]}),(m||y)&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y?"Chỉnh sửa nhân viên":"Thêm nhân viên mới"}),s.jsx("button",{onClick:()=>{v(!1),g(!1),D(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsx("input",{type:"text",value:j.username,onChange:U=>T(pe=>({...pe,username:U.target.value})),className:"input",placeholder:"Tên đăng nhập",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:j.password,onChange:U=>T(pe=>({...pe,password:U.target.value})),className:"input",placeholder:"Mật khẩu (tối thiểu 6 ký tự)",minLength:"6",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Họ"}),s.jsx("input",{type:"text",value:j.ho,onChange:U=>T(pe=>({...pe,ho:U.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên"}),s.jsx("input",{type:"text",value:j.ten,onChange:U=>T(pe=>({...pe,ten:U.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:j.email,onChange:U=>T(pe=>({...pe,email:U.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Số điện thoại"}),s.jsx("input",{type:"tel",value:j.sdt,onChange:U=>T(pe=>({...pe,sdt:U.target.value})),className:"input",pattern:"[0-9]{10,11}",placeholder:"0901234567",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giới tính"}),s.jsxs("select",{value:j.phai,onChange:U=>T(pe=>({...pe,phai:U.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn giới tính"}),s.jsx("option",{value:"Nam",children:"Nam"}),s.jsx("option",{value:"Nữ",children:"Nữ"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày sinh"}),s.jsx("input",{type:"date",value:j.ngaySinh,onChange:U=>T(pe=>({...pe,ngaySinh:U.target.value})),className:"input"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Địa chỉ"}),s.jsx("input",{type:"text",value:j.diaChi,onChange:U=>T(pe=>({...pe,diaChi:U.target.value})),className:"input",placeholder:"Địa chỉ nhà"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bộ phận"}),s.jsxs("select",{value:j.idBp,onChange:U=>T(pe=>({...pe,idBp:U.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn bộ phận"}),h.map(U=>s.jsx("option",{value:U.idBp,children:U.tenBp},U.idBp))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nhóm quyền"}),s.jsxs("select",{value:j.idNq,onChange:U=>T(pe=>({...pe,idNq:U.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn nhóm quyền"}),p.map(U=>s.jsx("option",{value:U.idNq,children:U.tenNq},U.idNq))]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{v(!1),g(!1),D(null)},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:y?"Cập nhật":"Thêm mới"})]})]})]})})}),w&&k&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Chi tiết nhân viên"}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Họ tên"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.hoTen})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Giới tính"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.gioiTinh})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày sinh"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.ngaySinh})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Số điện thoại"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.soDienThoai})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.email})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Địa chỉ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.diaChi})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Chức vụ"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.chucVu})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phòng ban"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.phongBan})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ngày sinh"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:k.ngaySinh||"Chưa cập nhật"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vai trò"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${X(k.tenBp)}`,children:B(k.tenBp)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trạng thái"}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Hoạt động"})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>b(!1),className:"btn-outline",children:"Đóng"}),s.jsx("button",{onClick:()=>{b(!1),ae(k)},className:"btn-primary",children:"Chỉnh sửa"})]})]})})})]})},TA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(1),[c]=N.useState(12),[u,d]=N.useState(""),[h,f]=N.useState({unit:"",priceRange:""}),[p,x]=N.useState(!1),[m,v]=N.useState(!1),[y,g]=N.useState(null),[w,b]=N.useState({tenDv:"",moTa:"",donViTinh:"",gia:""});N.useEffect(()=>{k()},[]),N.useEffect(()=>{D()},[u,h,e]);const k=async()=>{i(!0);try{const B=await W.get("/api/services/dich-vu");if(B.data.statusCode===200){const V=B.data.dichVuList||[];t(V),n(V)}else Le.error(B.data.message||"Lỗi khi tải danh sách dịch vụ")}catch(B){console.error("Error fetching services:",B),Le.error("Lỗi khi tải danh sách dịch vụ")}finally{i(!1)}},D=()=>{let B=e.filter(V=>{var ae,q,Z;return((ae=V.tenDv)==null?void 0:ae.toLowerCase().includes(u.toLowerCase()))||((q=V.idDv)==null?void 0:q.toLowerCase().includes(u.toLowerCase()))||((Z=V.moTa)==null?void 0:Z.toLowerCase().includes(u.toLowerCase()))});h.unit&&(B=B.filter(V=>V.donViTinh===h.unit)),n(B)},j=()=>{b({tenDv:"",moTa:"",donViTinh:"",gia:""}),x(!0)},T=B=>{g(B),b({tenDv:B.tenDv,moTa:B.moTa||"",donViTinh:B.donViTinh||"",gia:B.giaHienTai||""}),v(!0)},L=async B=>{var V,ae;if(window.confirm("Bạn có chắc chắn muốn xóa dịch vụ này?"))try{const q=await W.delete(`/api/services/dich-vu/${B}`);q.data.statusCode===200?(Le.success("Xóa dịch vụ thành công!"),k()):Le.error(q.data.message||"Xóa dịch vụ thất bại")}catch(q){console.error("Error deleting service:",q),Le.error(((ae=(V=q.response)==null?void 0:V.data)==null?void 0:ae.message)||"Có lỗi xảy ra khi xóa dịch vụ")}},K=async B=>{var V,ae;if(B.preventDefault(),!w.tenDv||!w.donViTinh||!w.gia){Le.error("Vui lòng điền đầy đủ thông tin");return}try{if(m){const q=await W.put(`/api/services/dich-vu/${y.idDv}`,w);q.data.statusCode===200?(Le.success("Cập nhật dịch vụ thành công!"),v(!1),g(null),k()):Le.error(q.data.message||"Cập nhật dịch vụ thất bại")}else{const q=await W.post("/api/services/dich-vu",w);q.data.statusCode===200?(Le.success("Thêm dịch vụ thành công!"),x(!1),b({tenDv:"",moTa:"",donViTinh:"",gia:""}),k()):Le.error(q.data.message||"Thêm dịch vụ thất bại")}}catch(q){console.error("Error saving service:",q),Le.error(((ae=(V=q.response)==null?void 0:V.data)==null?void 0:ae.message)||"Có lỗi xảy ra khi lưu dịch vụ")}},M=o*c,Y=M-c,z=r.slice(Y,M),de=Math.ceil(r.length/c),X=B=>l(B);return a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý dịch vụ"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý dịch vụ khách sạn"})]}),s.jsxs("button",{onClick:j,className:"btn-primary",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Thêm dịch vụ mới"]})]}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Fo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Tìm kiếm và lọc"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tìm kiếm"}),s.jsx("input",{type:"text",placeholder:"Tên dịch vụ, ID, mô tả...",value:u,onChange:B=>d(B.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đơn vị tính"}),s.jsxs("select",{value:h.unit,onChange:B=>f(V=>({...V,unit:B.target.value})),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"Lần",children:"Lần"}),s.jsx("option",{value:"Giờ",children:"Giờ"}),s.jsx("option",{value:"Ngày",children:"Ngày"}),s.jsx("option",{value:"Phần",children:"Phần"}),s.jsx("option",{value:"Suất",children:"Suất"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Khoảng giá"}),s.jsxs("select",{value:h.priceRange,onChange:B=>f(V=>({...V,priceRange:B.target.value})),className:"input",children:[s.jsx("option",{value:"",children:"Tất cả"}),s.jsx("option",{value:"0-100000",children:"Dưới 100K"}),s.jsx("option",{value:"100000-500000",children:"100K - 500K"}),s.jsx("option",{value:"500000-1000000",children:"500K - 1M"}),s.jsx("option",{value:"1000000-",children:"Trên 1M"})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Danh sách dịch vụ (",r.length,")"]})}),r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:z.map((B,V)=>s.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:B.tenDv}),s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:["ID: ",B.idDv]})]})}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:B.moTa||"Không có mô tả"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Đơn vị tính:"}),s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:B.donViTinh})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Giá hiện tại:"}),s.jsx("span",{className:"font-semibold text-gray-900",children:B.giaHienTai?Pd(B.giaHienTai):"Chưa có giá"})]}),B.ngayApDungGia&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Ngày áp dụng:"}),s.jsx("span",{children:new Date(B.ngayApDungGia).toLocaleDateString("vi-VN")})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>T(B),className:"flex-1 text-green-600 hover:text-green-800 text-sm font-medium",children:[s.jsx(Tn,{className:"w-4 h-4 inline mr-1"}),"Sửa"]}),s.jsxs("button",{onClick:()=>L(B.idDv),className:"flex-1 text-red-600 hover:text-red-800 text-sm font-medium",children:[s.jsx(ds,{className:"w-4 h-4 inline mr-1"}),"Xóa"]})]})]},B.idDv||V))}),de>1&&s.jsx("div",{className:"flex justify-center mt-6",children:s.jsx("div",{className:"flex space-x-2",children:Array.from({length:de},(B,V)=>s.jsx("button",{onClick:()=>X(V+1),className:`px-3 py-2 text-sm font-medium rounded-md ${o===V+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:V+1},V+1))})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(R_,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Không có dịch vụ nào"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Bắt đầu bằng cách thêm dịch vụ đầu tiên"}),s.jsxs("button",{onClick:j,className:"btn-primary",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Thêm dịch vụ mới"]})]})]}),(p||m)&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:m?"Chỉnh sửa dịch vụ":"Thêm dịch vụ mới"}),s.jsx("button",{onClick:()=>{x(!1),v(!1),g(null)},className:"text-gray-400 hover:text-gray-600",children:"×"})]}),s.jsxs("form",{onSubmit:K,className:"space-y-4",children:[m&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID dịch vụ"}),s.jsx("input",{type:"text",value:(y==null?void 0:y.idDv)||"",className:"input bg-gray-100",disabled:!0,placeholder:"ID sẽ được tự động tạo"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ID không thể thay đổi"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên dịch vụ"}),s.jsx("input",{type:"text",value:w.tenDv,onChange:B=>b(V=>({...V,tenDv:B.target.value})),className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mô tả"}),s.jsx("textarea",{value:w.moTa,onChange:B=>b(V=>({...V,moTa:B.target.value})),className:"input min-h-[80px]",placeholder:"Mô tả chi tiết về dịch vụ..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đơn vị tính"}),s.jsxs("select",{value:w.donViTinh,onChange:B=>b(V=>({...V,donViTinh:B.target.value})),className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn đơn vị tính"}),s.jsx("option",{value:"Lần",children:"Lần"}),s.jsx("option",{value:"Giờ",children:"Giờ"}),s.jsx("option",{value:"Ngày",children:"Ngày"}),s.jsx("option",{value:"Phần",children:"Phần"}),s.jsx("option",{value:"Suất",children:"Suất"}),s.jsx("option",{value:"Chai",children:"Chai"}),s.jsx("option",{value:"Ly",children:"Ly"}),s.jsx("option",{value:"Kg",children:"Kg"}),s.jsx("option",{value:"Gói",children:"Gói"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá dịch vụ (VNĐ)"}),s.jsx("input",{type:"number",value:w.gia,onChange:B=>b(V=>({...V,gia:B.target.value})),className:"input",placeholder:"VD: 100000",min:"0",step:"1000",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{x(!1),v(!1),g(null)},className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:m?"Cập nhật":"Thêm mới"})]})]})]})})})]})},kA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,h]=N.useState(null),[f,p]=N.useState({idTn:"",tenTn:"",icon:""}),x=Im;N.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const D=await W.get("/api/tien-nghi/all");D.data.statusCode===200?t(D.data.tienNghiList||[]):Le.error("Không thể tải danh sách tiện ích")}catch(D){console.error("Error fetching amenities:",D),Le.error("Lỗi khi tải danh sách tiện ích")}finally{n(!1)}},v=D=>{const{name:j,value:T}=D.target;p(L=>({...L,[j]:T}))},y=async D=>{var j,T,L;if(D.preventDefault(),!d&&(!f.tenTn||!f.icon)){Le.error("Vui lòng điền đầy đủ thông tin");return}if(d&&(!f.idTn||!f.tenTn||!f.icon)){Le.error("Vui lòng điền đầy đủ thông tin");return}try{let K;if(d)K=await W.put(`/api/tien-nghi/update/${d.idTn}`,f);else{const{idTn:M,...Y}=f;console.log("Data to send:",Y),K=await W.post("/api/tien-nghi/add",Y)}K.data.statusCode===200?(Le.success(d?"Cập nhật tiện ích thành công":"Thêm tiện ích thành công"),u(!1),h(null),p({idTn:"",tenTn:"",icon:""}),m()):Le.error(K.data.message||"Có lỗi xảy ra")}catch(K){console.error("Error saving amenity:",K),console.error("Error response:",(j=K.response)==null?void 0:j.data),Le.error(((L=(T=K.response)==null?void 0:T.data)==null?void 0:L.message)||"Lỗi khi lưu tiện ích")}},g=D=>{h(D),p({idTn:D.idTn,tenTn:D.tenTn,icon:D.icon}),u(!0)},w=async D=>{if(window.confirm("Bạn có chắc chắn muốn xóa tiện ích này?"))try{const j=await W.delete(`/api/tien-nghi/delete/${D}`);j.data.statusCode===200?(Le.success("Xóa tiện ích thành công"),m()):Le.error(j.data.message||"Có lỗi xảy ra")}catch(j){console.error("Error deleting amenity:",j),Le.error("Lỗi khi xóa tiện ích")}},b=e.filter(D=>{var j,T;return((j=D.tenTn)==null?void 0:j.toLowerCase().includes(a.toLowerCase()))||((T=D.idTn)==null?void 0:T.toLowerCase().includes(a.toLowerCase()))}),k=()=>{h(null),p({idTn:"",tenTn:"",icon:""}),u(!0)};return r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Quản lý tiện ích"}),s.jsx("p",{className:"text-gray-600",children:"Quản lý các tiện ích của khách sạn"})]}),s.jsxs("button",{onClick:k,className:"btn-primary flex items-center space-x-2",children:[s.jsx(br,{className:"w-4 h-4"}),s.jsx("span",{children:"Thêm tiện ích"})]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm kiếm tiện ích...",value:a,onChange:D=>i(D.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(D=>s.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fp,{amenity:D,className:"w-5 h-5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:D.tenTn}),s.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",D.idTn]})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>g(D),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>w(D.idTn),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(ds,{className:"w-4 h-4"})})]})]})},D.idTn))}),b.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Không tìm thấy tiện ích nào"})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:d?"Chỉnh sửa tiện ích":"Thêm tiện ích mới"}),!d&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("span",{className:"font-medium",children:"💡 Lưu ý:"})," ID tiện ích sẽ được tự động tạo (TN001, TN002, ...)"]})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ID tiện ích"}),s.jsx("input",{type:"text",name:"idTn",value:f.idTn,onChange:v,disabled:!0,className:"input bg-gray-100",placeholder:"ID sẽ được tự động tạo"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên tiện ích"}),s.jsx("input",{type:"text",name:"tenTn",value:f.tenTn,onChange:v,className:"input",placeholder:"Nhập tên tiện ích",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),s.jsxs("select",{name:"icon",value:f.icon,onChange:v,className:"input",required:!0,children:[s.jsx("option",{value:"",children:"Chọn icon"}),P5().map(D=>s.jsx("optgroup",{label:D.label,children:x.filter(j=>j.category===D.value).map(j=>s.jsx("option",{value:j.value,children:j.label},j.value))},D.value))]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:d?"Cập nhật":"Thêm"})]})]})]})})]})},SA=()=>{var de,X,B;const[e,t]=N.useState([]),[r,n]=N.useState(null),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(!1),[d,h]=N.useState(!1),[f,p]=N.useState(!1),[x,m]=N.useState({ngayApDung:"",gia:"",idNv:"NV01"}),[v,y]=N.useState({checkIn:"",checkOut:""}),[g,w]=N.useState(null);N.useEffect(()=>{b()},[]);const b=async()=>{try{const V=await W.get("/api/hang-phong/all");V.data.statusCode===200&&t(V.data.hangPhongList||[])}catch{Le.error("Lỗi khi tải danh sách hạng phòng")}finally{l(!1)}},k=async V=>{try{const ae=await W.get(`/api/hang-phong/${V}/prices`);ae.data.statusCode===200&&i(ae.data.giaHangPhongList||[])}catch{Le.error("Lỗi khi tải danh sách giá")}},D=V=>{n(V),k(V.idHangPhong)},j=async V=>{if(V.preventDefault(),!Y(x.ngayApDung)){Le.error("Ngày áp dụng phải là ngày trong tương lai");return}try{const ae=await W.post(`/api/hang-phong/${r.idHangPhong}/prices`,x);ae.data.statusCode===200?(Le.success("Thêm giá thành công!"),k(r.idHangPhong),u(!1),m({ngayApDung:"",gia:"",idNv:"NV01"})):Le.error(ae.data.message||"Thêm giá thất bại")}catch{Le.error("Lỗi khi thêm giá")}},T=async V=>{V.preventDefault();try{const ae=await W.put(`/api/hang-phong/${r.idHangPhong}/prices?ngayApDung=${x.ngayApDung}`,{gia:x.gia,idNv:x.idNv});ae.data.statusCode===200?(Le.success("Cập nhật giá thành công!"),k(r.idHangPhong),h(!1),m({ngayApDung:"",gia:"",idNv:"NV01"})):Le.error(ae.data.message||"Cập nhật giá thất bại")}catch{Le.error("Lỗi khi cập nhật giá")}},L=async V=>{V.preventDefault();try{const ae=await W.get(`/api/hang-phong/${r.idHangPhong}/price-for-dates?checkIn=${v.checkIn}&checkOut=${v.checkOut}`);ae.data.statusCode===200?w(ae.data):Le.error(ae.data.message||"Tính giá thất bại")}catch{Le.error("Lỗi khi tính giá")}},K=V=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(V),M=V=>new Date(V).toLocaleDateString("vi-VN"),Y=V=>{const ae=new Date(V),q=new Date;return q.setHours(0,0,0,0),ae>q},z=()=>{const V=new Date;return V.setDate(V.getDate()+1),V.toISOString().split("T")[0]};return o?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Quản lý giá hạng phòng"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Quản lý giá theo ngày áp dụng cho từng hạng phòng"})]}),r&&s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>p(!0),className:"btn-outline",children:[s.jsx(w_,{className:"w-4 h-4 mr-2"}),"Tính giá"]}),s.jsxs("button",{onClick:()=>u(!0),className:"btn-primary",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Thêm giá mới"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"card",children:[s.jsx("div",{className:"card-header",children:s.jsx("h3",{className:"text-lg font-semibold",children:"Danh sách hạng phòng"})}),s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.map(V=>s.jsxs("div",{onClick:()=>D(V),className:`p-4 border-b cursor-pointer hover:bg-gray-50 transition-colors ${(r==null?void 0:r.idHangPhong)===V.idHangPhong?"bg-blue-50 border-blue-200":""}`,children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[V.tenKp," - ",V.tenLp]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",V.idHangPhong]})]},V.idHangPhong))})})]})}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"card-header",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Giá của ",r.tenKp," - ",r.tenLp]}),s.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Lưu ý:"})," Giá phòng không thể xóa để đảm bảo tính toán chính xác cho các booking đã tồn tại. Chỉ có thể sửa giá cho ngày áp dụng trong tương lai để tránh ảnh hưởng đến các booking đã có."]})})]}),s.jsx("div",{className:"card-body",children:a.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày thiết lập"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhân viên"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sửa"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(V=>s.jsxs("tr",{className:Y(V.ngayApDung)?"":"bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:M(V.ngayApDung)}),!Y(V.ngayApDung)&&s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-600",children:"Đã áp dụng"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:K(V.gia)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M(V.ngayThietLap)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.idNv}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:Y(V.ngayApDung)?s.jsxs("button",{onClick:()=>{m({ngayApDung:V.ngayApDung,gia:V.gia,idNv:V.idNv}),h(!0)},className:"text-blue-600 hover:text-blue-900 flex items-center space-x-1",title:"Sửa giá",children:[s.jsx(Tn,{className:"w-4 h-4"}),s.jsx("span",{children:"Sửa"})]}):s.jsx("span",{className:"text-gray-400 text-sm",children:"Không thể sửa"})})]},V.ngayApDung))})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(No,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Chưa có giá nào"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Bắt đầu bằng cách thêm giá đầu tiên cho hạng phòng này."}),s.jsx("p",{className:"mt-2 text-xs text-blue-600",children:"Mỗi giá sẽ áp dụng từ ngày được chỉ định cho đến khi có giá mới."})]})})]}):s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body text-center py-12",children:[s.jsx(ft,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Chọn hạng phòng"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Chọn một hạng phòng từ danh sách bên trái để xem và quản lý giá."})]})})})]}),c&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Thêm giá mới"}),s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày áp dụng"}),s.jsx("input",{type:"date",value:x.ngayApDung,onChange:V=>m({...x,ngayApDung:V.target.value}),className:"input",min:z(),required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chỉ có thể chọn ngày trong tương lai"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá (VND)"}),s.jsx("input",{type:"number",value:x.gia,onChange:V=>m({...x,gia:V.target.value}),className:"input",min:"0",step:"1000",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>u(!1),className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Thêm"})]})]})]})})}),d&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Sửa giá"}),s.jsxs("form",{onSubmit:T,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày áp dụng"}),s.jsx("input",{type:"date",value:x.ngayApDung,className:"input bg-gray-100",disabled:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá (VND)"}),s.jsx("input",{type:"number",value:x.gia,onChange:V=>m({...x,gia:V.target.value}),className:"input",min:"0",step:"1000",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-outline",children:"Hủy"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Cập nhật"})]})]})]})})}),f&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tính giá theo khoảng thời gian"}),s.jsxs("form",{onSubmit:L,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày check-in"}),s.jsx("input",{type:"date",value:v.checkIn,onChange:V=>y({...v,checkIn:V.target.value}),className:"input",required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày check-out"}),s.jsx("input",{type:"date",value:v.checkOut,onChange:V=>y({...v,checkOut:V.target.value}),className:"input",required:!0})]}),g&&s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Kết quả tính giá:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{children:["Tổng tiền: ",s.jsx("span",{className:"font-medium",children:K(g.roomPrice)})]}),s.jsxs("div",{children:["Số đêm: ",s.jsx("span",{className:"font-medium",children:(de=g.stats)==null?void 0:de.numberOfNights})]}),s.jsxs("div",{children:["Giá trung bình/đêm: ",s.jsx("span",{className:"font-medium",children:K((X=g.stats)==null?void 0:X.averagePricePerNight)})]}),s.jsxs("div",{children:["Có thay đổi giá: ",s.jsx("span",{className:"font-medium",children:(B=g.stats)!=null&&B.hasPriceChanges?"Có":"Không"})]}),s.jsxs("div",{children:["Tiền cọc tối thiểu: ",s.jsx("span",{className:"font-medium",children:K(g.minDeposit)})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{type:"button",onClick:()=>{p(!1),w(null)},className:"btn-outline",children:"Đóng"}),s.jsx("button",{type:"submit",className:"btn-primary",children:"Tính giá"})]})]})]})})})]})},_i={async getAllPhuThu(){var e;try{return(await W.get("/api/phu-thu/all")).data}catch(t){throw((e=t.response)==null?void 0:e.data)||t.message}},async getPhuThuById(e){var t;try{return(await W.get(`/api/phu-thu/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async createPhuThu(e){var t;try{return(await W.post("/api/phu-thu/create",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async updatePhuThu(e,t){var r;try{return(await W.put(`/api/phu-thu/update/${e}`,t)).data}catch(n){throw((r=n.response)==null?void 0:r.data)||n.message}},async deletePhuThu(e){var t;try{return(await W.delete(`/api/phu-thu/delete/${e}`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async addPhuThuPrice(e){var t;try{return(await W.post("/api/phu-thu/add-price",e)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getPhuThuPrices(e){var t;try{return(await W.get(`/api/phu-thu/${e}/prices`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}},async getCurrentPrice(e){var t;try{return(await W.get(`/api/phu-thu/${e}/current-price`)).data}catch(r){throw((t=r.response)==null?void 0:t.data)||r.message}}},CA=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(""),[c,u]=N.useState(!1),[d,h]=N.useState(!1),[f,p]=N.useState(null),[x,m]=N.useState(null),[v,y]=N.useState({idPhuThu:"",tenPhuThu:"",lyDo:""}),[g,w]=N.useState({idPhuThu:"",ngayApDung:"",gia:"",idNv:"NV001"});N.useEffect(()=>{b()},[]);const b=async()=>{i(!0);try{const B=await _i.getAllPhuThu();B.statusCode===200&&t(B.phuThuList||[])}catch(B){Le.error("Lỗi khi tải danh sách phụ thu"),console.error("Error fetching surcharges:",B)}finally{i(!1)}},k=async B=>{try{const V=await _i.getPhuThuPrices(B);V.statusCode===200&&n(V.giaPhuThuList||[])}catch(V){Le.error("Lỗi khi tải lịch sử giá phụ thu"),console.error("Error fetching surcharge prices:",V)}},D=async B=>{B.preventDefault(),i(!0);try{let V;f?V=await _i.updatePhuThu(f.idPhuThu,v):V=await _i.createPhuThu(v),V.statusCode===200||V.statusCode===201?(Le.success(f?"Cập nhật phụ thu thành công!":"Thêm phụ thu thành công!"),b(),M(),u(!1)):Le.error(V.message||"Có lỗi xảy ra")}catch(V){Le.error("Lỗi khi lưu phụ thu"),console.error("Error saving surcharge:",V)}finally{i(!1)}},j=async B=>{B.preventDefault(),i(!0);try{const V=await _i.addPhuThuPrice(g);V.statusCode===200||V.statusCode===201?(Le.success("Thêm giá phụ thu thành công!"),k(g.idPhuThu),Y()):Le.error(V.message||"Có lỗi xảy ra")}catch(V){Le.error("Lỗi khi thêm giá phụ thu"),console.error("Error adding surcharge price:",V)}finally{i(!1)}},T=B=>{p(B),y({idPhuThu:B.idPhuThu,tenPhuThu:B.tenPhuThu,lyDo:B.lyDo}),u(!0)},L=async B=>{if(window.confirm("Bạn có chắc chắn muốn xóa phụ thu này?")){i(!0);try{const V=await _i.deletePhuThu(B);V.statusCode===200?(Le.success("Xóa phụ thu thành công!"),b()):Le.error(V.message||"Có lỗi xảy ra")}catch(V){Le.error("Lỗi khi xóa phụ thu"),console.error("Error deleting surcharge:",V)}finally{i(!1)}}},K=B=>{m(B),w({...g,idPhuThu:B.idPhuThu}),k(B.idPhuThu),h(!0)},M=()=>{y({idPhuThu:"",tenPhuThu:"",lyDo:""}),p(null)},Y=()=>{w({idPhuThu:(x==null?void 0:x.idPhuThu)||"",ngayApDung:"",gia:"",idNv:"NV001"})},z=e.filter(B=>{var V,ae;return((V=B.tenPhuThu)==null?void 0:V.toLowerCase().includes(o.toLowerCase()))||((ae=B.lyDo)==null?void 0:ae.toLowerCase().includes(o.toLowerCase()))}),de=B=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(B),X=B=>new Date(B).toLocaleDateString("vi-VN");return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Quản lý Phụ thu"}),s.jsxs("button",{onClick:()=>{M(),u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Thêm phụ thu"]})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Tìm kiếm phụ thu...",value:o,onChange:B=>l(B.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full max-w-md"})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên phụ thu"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lý do"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a?s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):z.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-gray-500",children:"Không có phụ thu nào"})}):z.map(B=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.idPhuThu}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B.tenPhuThu}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:B.lyDo}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>K(B),className:"text-green-600 hover:text-green-900",title:"Quản lý giá",children:s.jsx(No,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>T(B),className:"text-blue-600 hover:text-blue-900",title:"Chỉnh sửa",children:s.jsx(Tn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>L(B.idPhuThu),className:"text-red-600 hover:text-red-900",title:"Xóa",children:s.jsx(ds,{className:"w-4 h-4"})})]})})]},B.idPhuThu))})]})}),c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:f?"Chỉnh sửa phụ thu":"Thêm phụ thu mới"}),s.jsxs("form",{onSubmit:D,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mã phụ thu"}),s.jsx("input",{type:"text",value:v.idPhuThu,onChange:B=>y({...v,idPhuThu:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:f})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tên phụ thu"}),s.jsx("input",{type:"text",value:v.tenPhuThu,onChange:B=>y({...v,tenPhuThu:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lý do"}),s.jsx("textarea",{value:v.lyDo,onChange:B=>y({...v,lyDo:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{u(!1),M()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Hủy"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:a?"Đang lưu...":f?"Cập nhật":"Thêm"})]})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Quản lý giá phụ thu: ",x==null?void 0:x.tenPhuThu]}),s.jsx("button",{onClick:()=>{h(!1),m(null),n([])},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Thêm giá mới"}),s.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ngày áp dụng"}),s.jsx("input",{type:"date",value:g.ngayApDung,onChange:B=>w({...g,ngayApDung:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Giá (VND)"}),s.jsx("input",{type:"number",value:g.gia,onChange:B=>w({...g,gia:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,min:"0"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:a?"Đang thêm...":"Thêm giá"})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[s.jsx("h3",{className:"text-lg font-semibold p-4 bg-gray-50 border-b",children:"Lịch sử giá"}),s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày áp dụng"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Giá"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nhân viên"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-gray-500",children:"Chưa có lịch sử giá"})}):r.map((B,V)=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X(B.ngayApDung)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:de(B.gia)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:B.idNv})]},V))})]})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Ad={};Ad.version="0.18.5";var B2=1252,EA=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],H2=function(e){EA.indexOf(e)!=-1&&(B2=e)};function _A(){H2(1252)}var rc=function(e){H2(e)};function DA(){rc(1200),_A()}var su=function(t){return String.fromCharCode(t)},Hy=function(t){return String.fromCharCode(t)},Od,oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function nc(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,a=e.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),t+=oa.charAt(i)+oa.charAt(o)+oa.charAt(l)+oa.charAt(c);return t}function Ls(e){var t="",r=0,n=0,a=0,i=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=oa.indexOf(e.charAt(u++)),o=oa.indexOf(e.charAt(u++)),r=i<<2|o>>4,t+=String.fromCharCode(r),l=oa.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=oa.indexOf(e.charAt(u++)),a=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Vs=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function hi(e){return qe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function $y(e){return qe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Rn=function(t){return qe?Vs(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Oh(e){if(typeof ArrayBuffer>"u")return Rn(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function jc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function PA(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ar=qe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Vs(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function AA(e){for(var t=[],r=0,n=e.length+250,a=hi(e.length+255),i=0;i<e.length;++i){var o=e.charCodeAt(i);if(o<128)a[r++]=o;else if(o<2048)a[r++]=192|o>>6&31,a[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++i)&1023;a[r++]=240|o>>8&7,a[r++]=128|o>>2&63,a[r++]=128|l>>6&15|(o&3)<<4,a[r++]=128|l&63}else a[r++]=224|o>>12&15,a[r++]=128|o>>6&63,a[r++]=128|o&63;r>n&&(t.push(a.slice(0,r)),r=0,a=hi(65535),n=65530)}return t.push(a.slice(0,r)),ar(t)}var jl=/\u0000/g,au=/[\u0001-\u0006]/g;function no(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Mn(e,t){var r=""+e;return r.length>=t?r:kt("0",t-r.length)+r}function Bm(e,t){var r=""+e;return r.length>=t?r:kt(" ",t-r.length)+r}function Rd(e,t){var r=""+e;return r.length>=t?r:r+kt(" ",t-r.length)}function OA(e,t){var r=""+Math.round(e);return r.length>=t?r:kt("0",t-r.length)+r}function RA(e,t){var r=""+e;return r.length>=t?r:kt("0",t-r.length)+r}var Uy=Math.pow(2,32);function Di(e,t){if(e>Uy||e<-Uy)return OA(e,t);var r=Math.round(e);return RA(r,t)}function Md(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Vy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mf=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function MA(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var St={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Wy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},FA={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Fd(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,o=1,l=0,c=1,u=0,d=0,h=Math.floor(a);u<t&&(h=Math.floor(a),l=h*o+i,d=h*u+c,!(a-h<5e-8));)a=1/(a-h),i=o,o=l,c=u,u=d;if(d>t&&(u>t?(d=c,l=i):(d=u,l=o)),!r)return[0,n*l,d];var f=Math.floor(n*l/d);return[f,n*l-f*d,d]}function iu(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,o=[],l={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=VA(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var $2=new Date(1899,11,31,0,0,0),LA=$2.getTime(),IA=new Date(1900,2,1,0,0,0);function U2(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=IA&&(r+=24*60*60*1e3),(r-(LA+(e.getTimezoneOffset()-$2.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Hm(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BA(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function HA(e){var t=e<0?12:11,r=Hm(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function $A(e){var t=Hm(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function UA(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=HA(e):t===10?r=e.toFixed(10).substr(0,12):r=$A(e),Hm(BA(r.toUpperCase()))}function pp(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):UA(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _a(14,U2(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function VA(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function WA(e,t,r,n){var a="",i=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return Mf[r.m-1][1];case 5:return Mf[r.m-1][0];default:return Mf[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return Vy[r.q][0];default:return Vy[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Mn(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,i=Math.round(o*(r.S+r.u)),i>=60*o&&(i=0),t==="s"?i===0?"0":""+i/o:(a=Mn(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?Mn(c,u):"";return d}function la(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var V2=/%/g;function KA(e,t,r){var n=t.replace(V2,""),a=t.length-n.length;return Es(e,n,r*Math.pow(10,2*a))+kt("%",a)}function YA(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Es(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function W2(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+W2(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var K2=/# (\?+)( ?)\/( ?)(\d+)/;function zA(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),o=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(o===0?kt(" ",e[1].length+1+e[4].length):Bm(o,e[1].length)+e[2]+"/"+e[3]+Mn(l,e[4].length))}function qA(e,t,r){return r+(t===0?"":""+t)+kt(" ",e[1].length+2+e[4].length)}var Y2=/^#*0*\.([0#]+)/,z2=/\).*[0#]/,q2=/\(###\) ###\\?-####/;function _r(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Ky(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Yy(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function QA(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function GA(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function fn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(z2)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?fn("n",n,r):"("+fn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return YA(e,t,r);if(t.indexOf("%")!==-1)return KA(e,t,r);if(t.indexOf("E")!==-1)return W2(t,r);if(t.charCodeAt(0)===36)return"$"+fn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Di(c,t.length);if(t.match(/^[#?]+$/))return a=Di(r,0),a==="0"&&(a=""),a.length>t.length?a:_r(t.substr(0,t.length-a.length))+a;if(i=t.match(K2))return zA(i,c,u);if(t.match(/^#+0+$/))return u+Di(c,t.length-t.indexOf("0"));if(i=t.match(Y2))return a=Ky(r,i[1].length).replace(/^([^\.]+)$/,"$1."+_r(i[1])).replace(/\.$/,"."+_r(i[1])).replace(/\.(\d*)$/,function(x,m){return"."+m+kt("0",_r(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Ky(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+la(Di(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+fn(e,t,-r):la(""+(Math.floor(r)+QA(r,i[1].length)))+"."+Mn(Yy(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return fn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=no(fn(e,t.replace(/[\\-]/g,""),r)),o=0,no(no(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(q2))return a=fn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Fd(c,Math.pow(10,o)-1,!1),a=""+u,d=Es("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Rd(l[2],o),d.length<i[4].length&&(d=_r(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Fd(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Bm(l[1],o)+i[2]+"/"+i[3]+Rd(l[2],o):kt(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Di(r,0),t.length<=a.length?a:_r(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,f=t.length-a.length-h;return _r(t.substr(0,h)+a+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return o=Yy(r,i[1].length),r<0?"-"+fn(e,t,-r):la(GA(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Mn(0,3-x.length):"")+x})+"."+Mn(o,i[1].length);switch(t){case"###,##0.00":return fn(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=la(Di(c,0));return p!=="0"?u+p:"";case"###,###.00":return fn(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return fn(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function XA(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Es(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function JA(e,t,r){var n=t.replace(V2,""),a=t.length-n.length;return Es(e,n,r*Math.pow(10,2*a))+kt("%",a)}function Q2(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Q2(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+i):r+="E+"+(o-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Kn(e,t,r){if(e.charCodeAt(0)===40&&!t.match(z2)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Kn("n",n,r):"("+Kn("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return XA(e,t,r);if(t.indexOf("%")!==-1)return JA(e,t,r);if(t.indexOf("E")!==-1)return Q2(t,r);if(t.charCodeAt(0)===36)return"$"+Kn(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+Mn(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:_r(t.substr(0,t.length-a.length))+a;if(i=t.match(K2))return qA(i,c,u);if(t.match(/^#+0+$/))return u+Mn(c,t.length-t.indexOf("0"));if(i=t.match(Y2))return a=(""+r).replace(/^([^\.]+)$/,"$1."+_r(i[1])).replace(/\.$/,"."+_r(i[1])),a=a.replace(/\.(\d*)$/,function(x,m){return"."+m+kt("0",_r(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+la(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Kn(e,t,-r):la(""+r)+"."+kt("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Kn(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=no(Kn(e,t.replace(/[\\-]/g,""),r)),o=0,no(no(t.replace(/\\/g,"")).replace(/[0#]/g,function(x){return o<a.length?a.charAt(o++):x==="0"?"0":""}));if(t.match(q2))return a=Kn(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(i[4].length,7),l=Fd(c,Math.pow(10,o)-1,!1),a=""+u,d=Es("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=Rd(l[2],o),d.length<i[4].length&&(d=_r(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(i[1].length,i[4].length),7),l=Fd(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Bm(l[1],o)+i[2]+"/"+i[3]+Rd(l[2],o):kt(" ",2*o+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:_r(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),o=a.indexOf(".");var h=t.indexOf(".")-o,f=t.length-a.length-h;return _r(t.substr(0,h)+a+t.substr(t.length-f))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Kn(e,t,-r):la(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?Mn(0,3-x.length):"")+x})+"."+Mn(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=la(""+c);return p!=="0"?u+p:"";default:if(t.match(/\.[0#?]*$/))return Kn(e,t.slice(0,t.lastIndexOf(".")),r)+_r(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Es(e,t,r){return(r|0)===r?Kn(e,t,r):fn(e,t,r)}function ZA(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var G2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function X2(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Md(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(G2))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function eO(e,t,r,n){for(var a=[],i="",o=0,l="",c="t",u,d,h,f="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!Md(e,o))throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"G",v:"General"},o+=7;break;case'"':for(i="";(h=e.charCodeAt(++o))!==34&&o<e.length;)i+=String.fromCharCode(h);a[a.length]={t:"t",v:i},++o;break;case"\\":var p=e.charAt(++o),x=p==="("||p===")"?p:"t";a[a.length]={t:x,v:p},++o;break;case"_":a[a.length]={t:"t",v:" "},o+=2;break;case"@":a[a.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=iu(t,r,e.charAt(o+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=iu(t,r),u==null))return"";for(i=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=f),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"上":var m={t:l,v:l};if(u==null&&(u=iu(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",f="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,f="h"):e.substr(o,5).toUpperCase()==="上午/下午"?(u!=null&&(m.v=u.H>=12?"下午":"上午"),m.t="T",o+=5,f="h"):(m.t="t",++o),u==null&&m.t==="T")return"";a[a.length]=m,c=l;break;case"[":for(i=l;e.charAt(o++)!=="]"&&o<e.length;)i+=e.charAt(o);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(G2)){if(u==null&&(u=iu(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",X2(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++o<e.length&&(l=e.charAt(o))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;e.charAt(++o)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)i+=e.charAt(o);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++o;break;case"$":a[a.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);a[a.length]={t:"t",v:l},++o;break}var v=0,y=0,g;for(o=a.length-1,c="t";o>=0;--o)switch(a[o].t){case"h":case"H":a[o].t=f,c="h",v<1&&(v=1);break;case"s":(g=a[o].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":c=a[o].t;break;case"m":c==="s"&&(a[o].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[o].v.match(/[Hh]/)&&(v=1),v<2&&a[o].v.match(/[Mm]/)&&(v=2),v<3&&a[o].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",b;for(o=0;o<a.length;++o)switch(a[o].t){case"t":case"T":case" ":case"D":break;case"X":a[o].v="",a[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[o].v=WA(a[o].t.charCodeAt(0),a[o].v,u,y),a[o].t="t";break;case"n":case"?":for(b=o+1;a[b]!=null&&((l=a[b].t)==="?"||l==="D"||(l===" "||l==="t")&&a[b+1]!=null&&(a[b+1].t==="?"||a[b+1].t==="t"&&a[b+1].v==="/")||a[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[b].v==="/"||a[b].v===" "&&a[b+1]!=null&&a[b+1].t=="?"));)a[o].v+=a[b].v,a[b]={v:"",t:";"},++b;w+=a[o].v,o=b-1;break;case"G":a[o].t="t",a[o].v=pp(t,r);break}var k="",D,j;if(w.length>0){w.charCodeAt(0)==40?(D=t<0&&w.charCodeAt(0)===45?-t:t,j=Es("n",w,D)):(D=t<0&&n>1?-t:t,j=Es("n",w,D),D<0&&a[0]&&a[0].t=="t"&&(j=j.substr(1),a[0].v="-"+a[0].v)),b=j.length-1;var T=a.length;for(o=0;o<a.length;++o)if(a[o]!=null&&a[o].t!="t"&&a[o].v.indexOf(".")>-1){T=o;break}var L=a.length;if(T===a.length&&j.indexOf("E")===-1){for(o=a.length-1;o>=0;--o)a[o]==null||"n?".indexOf(a[o].t)===-1||(b>=a[o].v.length-1?(b-=a[o].v.length,a[o].v=j.substr(b+1,a[o].v.length)):b<0?a[o].v="":(a[o].v=j.substr(0,b+1),b=-1),a[o].t="t",L=o);b>=0&&L<a.length&&(a[L].v=j.substr(0,b+1)+a[L].v)}else if(T!==a.length&&j.indexOf("E")===-1){for(b=j.indexOf(".")-1,o=T;o>=0;--o)if(!(a[o]==null||"n?".indexOf(a[o].t)===-1)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")-1:a[o].v.length-1,k=a[o].v.substr(d+1);d>=0;--d)b>=0&&(a[o].v.charAt(d)==="0"||a[o].v.charAt(d)==="#")&&(k=j.charAt(b--)+k);a[o].v=k,a[o].t="t",L=o}for(b>=0&&L<a.length&&(a[L].v=j.substr(0,b+1)+a[L].v),b=j.indexOf(".")+1,o=T;o<a.length;++o)if(!(a[o]==null||"n?(".indexOf(a[o].t)===-1&&o!==T)){for(d=a[o].v.indexOf(".")>-1&&o===T?a[o].v.indexOf(".")+1:0,k=a[o].v.substr(0,d);d<a[o].v.length;++d)b<j.length&&(k+=j.charAt(b++));a[o].v=k,a[o].t="t",L=o}}}for(o=0;o<a.length;++o)a[o]!=null&&"n?".indexOf(a[o].t)>-1&&(D=n>1&&t<0&&o>0&&a[o-1].v==="-"?-t:t,a[o].v=Es(a[o].t,a[o].v,D),a[o].t="t");var K="";for(o=0;o!==a.length;++o)a[o]!=null&&(K+=a[o].v);return K}var zy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function qy(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function tO(e,t){var r=ZA(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(zy),l=r[1].match(zy);return qy(t,o)?[n,r[0]]:qy(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,i]}function _a(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:St)[e],n==null&&(n=r.table&&r.table[Wy[e]]||St[Wy[e]]),n==null&&(n=FA[e]||"General");break}if(Md(n,0))return pp(t,r);t instanceof Date&&(t=U2(t,r.date1904));var a=tO(n,t);if(Md(a[1]))return pp(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return eO(a[1],t,r,a[0])}function J2(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(St[r]==null){t<0&&(t=r);continue}if(St[r]==e){t=r;break}}t<0&&(t=391)}return St[t]=e,t}function Rh(e){for(var t=0;t!=392;++t)e[t]!==void 0&&J2(e[t],t)}function Mh(){St=MA()}var Z2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function rO(e){var t=typeof e=="number"?St[e]:e;return t=t.replace(Z2,"(\\d+)"),new RegExp("^"+t+"$")}function nO(e,t,r){var n=-1,a=-1,i=-1,o=-1,l=-1,c=-1;(t.match(Z2)||[]).forEach(function(h,f){var p=parseInt(r[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":o=p;break;case"s":c=p;break;case"m":o>=0?l=p:a=p;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var sO=function(){var e={};e.version="1.2.0";function t(){for(var j=0,T=new Array(256),L=0;L!=256;++L)j=L,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,T[L]=j;return typeof Int32Array<"u"?new Int32Array(T):T}var r=t();function n(j){var T=0,L=0,K=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(K=0;K!=256;++K)M[K]=j[K];for(K=0;K!=256;++K)for(L=j[K],T=256+K;T<4096;T+=256)L=M[T]=L>>>8^j[L&255];var Y=[];for(K=1;K!=16;++K)Y[K-1]=typeof Int32Array<"u"?M.subarray(K*256,K*256+256):M.slice(K*256,K*256+256);return Y}var a=n(r),i=a[0],o=a[1],l=a[2],c=a[3],u=a[4],d=a[5],h=a[6],f=a[7],p=a[8],x=a[9],m=a[10],v=a[11],y=a[12],g=a[13],w=a[14];function b(j,T){for(var L=T^-1,K=0,M=j.length;K<M;)L=L>>>8^r[(L^j.charCodeAt(K++))&255];return~L}function k(j,T){for(var L=T^-1,K=j.length-15,M=0;M<K;)L=w[j[M++]^L&255]^g[j[M++]^L>>8&255]^y[j[M++]^L>>16&255]^v[j[M++]^L>>>24]^m[j[M++]]^x[j[M++]]^p[j[M++]]^f[j[M++]]^h[j[M++]]^d[j[M++]]^u[j[M++]]^c[j[M++]]^l[j[M++]]^o[j[M++]]^i[j[M++]]^r[j[M++]];for(K+=15;M<K;)L=L>>>8^r[(L^j[M++])&255];return~L}function D(j,T){for(var L=T^-1,K=0,M=j.length,Y=0,z=0;K<M;)Y=j.charCodeAt(K++),Y<128?L=L>>>8^r[(L^Y)&255]:Y<2048?(L=L>>>8^r[(L^(192|Y>>6&31))&255],L=L>>>8^r[(L^(128|Y&63))&255]):Y>=55296&&Y<57344?(Y=(Y&1023)+64,z=j.charCodeAt(K++)&1023,L=L>>>8^r[(L^(240|Y>>8&7))&255],L=L>>>8^r[(L^(128|Y>>2&63))&255],L=L>>>8^r[(L^(128|z>>6&15|(Y&3)<<4))&255],L=L>>>8^r[(L^(128|z&63))&255]):(L=L>>>8^r[(L^(224|Y>>12&15))&255],L=L>>>8^r[(L^(128|Y>>6&63))&255],L=L>>>8^r[(L^(128|Y&63))&255]);return~L}return e.table=r,e.bstr=b,e.buf=k,e.str=D,e}(),it=function(){var t={};t.version="1.2.1";function r(S,O){for(var E=S.split("/"),P=O.split("/"),F=0,I=0,le=Math.min(E.length,P.length);F<le;++F){if(I=E[F].length-P[F].length)return I;if(E[F]!=P[F])return E[F]<P[F]?-1:1}return E.length-P.length}function n(S){if(S.charAt(S.length-1)=="/")return S.slice(0,-1).indexOf("/")===-1?S:n(S.slice(0,-1));var O=S.lastIndexOf("/");return O===-1?S:S.slice(0,O+1)}function a(S){if(S.charAt(S.length-1)=="/")return a(S.slice(0,-1));var O=S.lastIndexOf("/");return O===-1?S:S.slice(O+1)}function i(S,O){typeof O=="string"&&(O=new Date(O));var E=O.getHours();E=E<<6|O.getMinutes(),E=E<<5|O.getSeconds()>>>1,S.write_shift(2,E);var P=O.getFullYear()-1980;P=P<<4|O.getMonth()+1,P=P<<5|O.getDate(),S.write_shift(2,P)}function o(S){var O=S.read_shift(2)&65535,E=S.read_shift(2)&65535,P=new Date,F=E&31;E>>>=5;var I=E&15;E>>>=4,P.setMilliseconds(0),P.setFullYear(E+1980),P.setMonth(I-1),P.setDate(F);var le=O&31;O>>>=5;var me=O&63;return O>>>=6,P.setHours(O),P.setMinutes(me),P.setSeconds(le<<1),P}function l(S){en(S,0);for(var O={},E=0;S.l<=S.length-4;){var P=S.read_shift(2),F=S.read_shift(2),I=S.l+F,le={};switch(P){case 21589:E=S.read_shift(1),E&1&&(le.mtime=S.read_shift(4)),F>5&&(E&2&&(le.atime=S.read_shift(4)),E&4&&(le.ctime=S.read_shift(4))),le.mtime&&(le.mt=new Date(le.mtime*1e3));break}S.l=I,O[P]=le}return O}var c;function u(){return c||(c={})}function d(S,O){if(S[0]==80&&S[1]==75)return lx(S,O);if((S[0]|32)==109&&(S[1]|32)==105)return Sj(S,O);if(S.length<512)throw new Error("CFB file size "+S.length+" < 512");var E=3,P=512,F=0,I=0,le=0,me=0,oe=0,ce=[],ue=S.slice(0,512);en(ue,0);var Ne=h(ue);switch(E=Ne[0],E){case 3:P=512;break;case 4:P=4096;break;case 0:if(Ne[1]==0)return lx(S,O);default:throw new Error("Major Version: Expected 3 or 4 saw "+E)}P!==512&&(ue=S.slice(0,P),en(ue,28));var _e=S.slice(0,P);f(ue,E);var Ae=ue.read_shift(4,"i");if(E===3&&Ae!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ae);ue.l+=4,le=ue.read_shift(4,"i"),ue.l+=4,ue.chk("00100000","Mini Stream Cutoff Size: "),me=ue.read_shift(4,"i"),F=ue.read_shift(4,"i"),oe=ue.read_shift(4,"i"),I=ue.read_shift(4,"i");for(var Te=-1,De=0;De<109&&(Te=ue.read_shift(4,"i"),!(Te<0));++De)ce[De]=Te;var Ie=p(S,P);v(oe,I,Ie,P,ce);var xt=g(Ie,le,ce,P);xt[le].name="!Directory",F>0&&me!==z&&(xt[me].name="!MiniFAT"),xt[ce[0]].name="!FAT",xt.fat_addrs=ce,xt.ssz=P;var gt={},mr=[],Uo=[],Vo=[];w(le,xt,Ie,mr,F,gt,Uo,me),x(Uo,Vo,mr),mr.shift();var Wo={FileIndex:Uo,FullPaths:Vo};return O&&O.raw&&(Wo.raw={header:_e,sectors:Ie}),Wo}function h(S){if(S[S.l]==80&&S[S.l+1]==75)return[0,0];S.chk(de,"Header Signature: "),S.l+=16;var O=S.read_shift(2,"u");return[S.read_shift(2,"u"),O]}function f(S,O){var E=9;switch(S.l+=2,E=S.read_shift(2)){case 9:if(O!=3)throw new Error("Sector Shift: Expected 9 saw "+E);break;case 12:if(O!=4)throw new Error("Sector Shift: Expected 12 saw "+E);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+E)}S.chk("0600","Mini Sector Shift: "),S.chk("000000000000","Reserved: ")}function p(S,O){for(var E=Math.ceil(S.length/O)-1,P=[],F=1;F<E;++F)P[F-1]=S.slice(F*O,(F+1)*O);return P[E-1]=S.slice(E*O),P}function x(S,O,E){for(var P=0,F=0,I=0,le=0,me=0,oe=E.length,ce=[],ue=[];P<oe;++P)ce[P]=ue[P]=P,O[P]=E[P];for(;me<ue.length;++me)P=ue[me],F=S[P].L,I=S[P].R,le=S[P].C,ce[P]===P&&(F!==-1&&ce[F]!==F&&(ce[P]=ce[F]),I!==-1&&ce[I]!==I&&(ce[P]=ce[I])),le!==-1&&(ce[le]=P),F!==-1&&P!=ce[P]&&(ce[F]=ce[P],ue.lastIndexOf(F)<me&&ue.push(F)),I!==-1&&P!=ce[P]&&(ce[I]=ce[P],ue.lastIndexOf(I)<me&&ue.push(I));for(P=1;P<oe;++P)ce[P]===P&&(I!==-1&&ce[I]!==I?ce[P]=ce[I]:F!==-1&&ce[F]!==F&&(ce[P]=ce[F]));for(P=1;P<oe;++P)if(S[P].type!==0){if(me=P,me!=ce[me])do me=ce[me],O[P]=O[me]+"/"+O[P];while(me!==0&&ce[me]!==-1&&me!=ce[me]);ce[P]=-1}for(O[0]+="/",P=1;P<oe;++P)S[P].type!==2&&(O[P]+="/")}function m(S,O,E){for(var P=S.start,F=S.size,I=[],le=P;E&&F>0&&le>=0;)I.push(O.slice(le*Y,le*Y+Y)),F-=Y,le=Ua(E,le*4);return I.length===0?fe(0):ar(I).slice(0,S.size)}function v(S,O,E,P,F){var I=z;if(S===z){if(O!==0)throw new Error("DIFAT chain shorter than expected")}else if(S!==-1){var le=E[S],me=(P>>>2)-1;if(!le)return;for(var oe=0;oe<me&&(I=Ua(le,oe*4))!==z;++oe)F.push(I);v(Ua(le,P-4),O-1,E,P,F)}}function y(S,O,E,P,F){var I=[],le=[];F||(F=[]);var me=P-1,oe=0,ce=0;for(oe=O;oe>=0;){F[oe]=!0,I[I.length]=oe,le.push(S[oe]);var ue=E[Math.floor(oe*4/P)];if(ce=oe*4&me,P<4+ce)throw new Error("FAT boundary crossed: "+oe+" 4 "+P);if(!S[ue])break;oe=Ua(S[ue],ce)}return{nodes:I,data:rv([le])}}function g(S,O,E,P){var F=S.length,I=[],le=[],me=[],oe=[],ce=P-1,ue=0,Ne=0,_e=0,Ae=0;for(ue=0;ue<F;++ue)if(me=[],_e=ue+O,_e>=F&&(_e-=F),!le[_e]){oe=[];var Te=[];for(Ne=_e;Ne>=0;){Te[Ne]=!0,le[Ne]=!0,me[me.length]=Ne,oe.push(S[Ne]);var De=E[Math.floor(Ne*4/P)];if(Ae=Ne*4&ce,P<4+Ae)throw new Error("FAT boundary crossed: "+Ne+" 4 "+P);if(!S[De]||(Ne=Ua(S[De],Ae),Te[Ne]))break}I[_e]={nodes:me,data:rv([oe])}}return I}function w(S,O,E,P,F,I,le,me){for(var oe=0,ce=P.length?2:0,ue=O[S].data,Ne=0,_e=0,Ae;Ne<ue.length;Ne+=128){var Te=ue.slice(Ne,Ne+128);en(Te,64),_e=Te.read_shift(2),Ae=Km(Te,0,_e-ce),P.push(Ae);var De={name:Ae,type:Te.read_shift(1),color:Te.read_shift(1),L:Te.read_shift(4,"i"),R:Te.read_shift(4,"i"),C:Te.read_shift(4,"i"),clsid:Te.read_shift(16),state:Te.read_shift(4,"i"),start:0,size:0},Ie=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);Ie!==0&&(De.ct=b(Te,Te.l-8));var xt=Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2)+Te.read_shift(2);xt!==0&&(De.mt=b(Te,Te.l-8)),De.start=Te.read_shift(4,"i"),De.size=Te.read_shift(4,"i"),De.size<0&&De.start<0&&(De.size=De.type=0,De.start=z,De.name=""),De.type===5?(oe=De.start,F>0&&oe!==z&&(O[oe].name="!StreamData")):De.size>=4096?(De.storage="fat",O[De.start]===void 0&&(O[De.start]=y(E,De.start,O.fat_addrs,O.ssz)),O[De.start].name=De.name,De.content=O[De.start].data.slice(0,De.size)):(De.storage="minifat",De.size<0?De.size=0:oe!==z&&De.start!==z&&O[oe]&&(De.content=m(De,O[oe].data,(O[me]||{}).data))),De.content&&en(De.content,0),I[Ae]=De,le.push(De)}}function b(S,O){return new Date((rn(S,O+4)/1e7*Math.pow(2,32)+rn(S,O)/1e7-11644473600)*1e3)}function k(S,O){return u(),d(c.readFileSync(S),O)}function D(S,O){var E=O&&O.type;switch(E||qe&&Buffer.isBuffer(S)&&(E="buffer"),E||"base64"){case"file":return k(S,O);case"base64":return d(Rn(Ls(S)),O);case"binary":return d(Rn(S),O)}return d(S,O)}function j(S,O){var E=O||{},P=E.root||"Root Entry";if(S.FullPaths||(S.FullPaths=[]),S.FileIndex||(S.FileIndex=[]),S.FullPaths.length!==S.FileIndex.length)throw new Error("inconsistent CFB structure");S.FullPaths.length===0&&(S.FullPaths[0]=P+"/",S.FileIndex[0]={name:P,type:5}),E.CLSID&&(S.FileIndex[0].clsid=E.CLSID),T(S)}function T(S){var O="Sh33tJ5";if(!it.find(S,"/"+O)){var E=fe(4);E[0]=55,E[1]=E[3]=50,E[2]=54,S.FileIndex.push({name:O,type:2,content:E,size:4,L:69,R:69,C:69}),S.FullPaths.push(S.FullPaths[0]+O),L(S)}}function L(S,O){j(S);for(var E=!1,P=!1,F=S.FullPaths.length-1;F>=0;--F){var I=S.FileIndex[F];switch(I.type){case 0:P?E=!0:(S.FileIndex.pop(),S.FullPaths.pop());break;case 1:case 2:case 5:P=!0,isNaN(I.R*I.L*I.C)&&(E=!0),I.R>-1&&I.L>-1&&I.R==I.L&&(E=!0);break;default:E=!0;break}}if(!(!E&&!O)){var le=new Date(1987,1,19),me=0,oe=Object.create?Object.create(null):{},ce=[];for(F=0;F<S.FullPaths.length;++F)oe[S.FullPaths[F]]=!0,S.FileIndex[F].type!==0&&ce.push([S.FullPaths[F],S.FileIndex[F]]);for(F=0;F<ce.length;++F){var ue=n(ce[F][0]);P=oe[ue],P||(ce.push([ue,{name:a(ue).replace("/",""),type:1,clsid:B,ct:le,mt:le,content:null}]),oe[ue]=!0)}for(ce.sort(function(Ae,Te){return r(Ae[0],Te[0])}),S.FullPaths=[],S.FileIndex=[],F=0;F<ce.length;++F)S.FullPaths[F]=ce[F][0],S.FileIndex[F]=ce[F][1];for(F=0;F<ce.length;++F){var Ne=S.FileIndex[F],_e=S.FullPaths[F];if(Ne.name=a(_e).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||B,F===0)Ne.C=ce.length>1?1:-1,Ne.size=0,Ne.type=5;else if(_e.slice(-1)=="/"){for(me=F+1;me<ce.length&&n(S.FullPaths[me])!=_e;++me);for(Ne.C=me>=ce.length?-1:me,me=F+1;me<ce.length&&n(S.FullPaths[me])!=n(_e);++me);Ne.R=me>=ce.length?-1:me,Ne.type=1}else n(S.FullPaths[F+1]||"")==n(_e)&&(Ne.R=F+1),Ne.type=2}}}function K(S,O){var E=O||{};if(E.fileType=="mad")return Cj(S,E);switch(L(S),E.fileType){case"zip":return wj(S,E)}var P=function(Ae){for(var Te=0,De=0,Ie=0;Ie<Ae.FileIndex.length;++Ie){var xt=Ae.FileIndex[Ie];if(xt.content){var gt=xt.content.length;gt>0&&(gt<4096?Te+=gt+63>>6:De+=gt+511>>9)}}for(var mr=Ae.FullPaths.length+3>>2,Uo=Te+7>>3,Vo=Te+127>>7,Wo=Uo+De+mr+Vo,Ia=Wo+127>>7,Vh=Ia<=109?0:Math.ceil((Ia-109)/127);Wo+Ia+Vh+127>>7>Ia;)Vh=++Ia<=109?0:Math.ceil((Ia-109)/127);var gs=[1,Vh,Ia,Vo,mr,De,Te,0];return Ae.FileIndex[0].size=Te<<6,gs[7]=(Ae.FileIndex[0].start=gs[0]+gs[1]+gs[2]+gs[3]+gs[4]+gs[5])+(gs[6]+7>>3),gs}(S),F=fe(P[7]<<9),I=0,le=0;{for(I=0;I<8;++I)F.write_shift(1,X[I]);for(I=0;I<8;++I)F.write_shift(2,0);for(F.write_shift(2,62),F.write_shift(2,3),F.write_shift(2,65534),F.write_shift(2,9),F.write_shift(2,6),I=0;I<3;++I)F.write_shift(2,0);for(F.write_shift(4,0),F.write_shift(4,P[2]),F.write_shift(4,P[0]+P[1]+P[2]+P[3]-1),F.write_shift(4,0),F.write_shift(4,4096),F.write_shift(4,P[3]?P[0]+P[1]+P[2]-1:z),F.write_shift(4,P[3]),F.write_shift(-4,P[1]?P[0]-1:z),F.write_shift(4,P[1]),I=0;I<109;++I)F.write_shift(-4,I<P[2]?P[1]+I:-1)}if(P[1])for(le=0;le<P[1];++le){for(;I<236+le*127;++I)F.write_shift(-4,I<P[2]?P[1]+I:-1);F.write_shift(-4,le===P[1]-1?z:le+1)}var me=function(Ae){for(le+=Ae;I<le-1;++I)F.write_shift(-4,I+1);Ae&&(++I,F.write_shift(-4,z))};for(le=I=0,le+=P[1];I<le;++I)F.write_shift(-4,V.DIFSECT);for(le+=P[2];I<le;++I)F.write_shift(-4,V.FATSECT);me(P[3]),me(P[4]);for(var oe=0,ce=0,ue=S.FileIndex[0];oe<S.FileIndex.length;++oe)ue=S.FileIndex[oe],ue.content&&(ce=ue.content.length,!(ce<4096)&&(ue.start=le,me(ce+511>>9)));for(me(P[6]+7>>3);F.l&511;)F.write_shift(-4,V.ENDOFCHAIN);for(le=I=0,oe=0;oe<S.FileIndex.length;++oe)ue=S.FileIndex[oe],ue.content&&(ce=ue.content.length,!(!ce||ce>=4096)&&(ue.start=le,me(ce+63>>6)));for(;F.l&511;)F.write_shift(-4,V.ENDOFCHAIN);for(I=0;I<P[4]<<2;++I){var Ne=S.FullPaths[I];if(!Ne||Ne.length===0){for(oe=0;oe<17;++oe)F.write_shift(4,0);for(oe=0;oe<3;++oe)F.write_shift(4,-1);for(oe=0;oe<12;++oe)F.write_shift(4,0);continue}ue=S.FileIndex[I],I===0&&(ue.start=ue.size?ue.start-1:z);var _e=I===0&&E.root||ue.name;if(ce=2*(_e.length+1),F.write_shift(64,_e,"utf16le"),F.write_shift(2,ce),F.write_shift(1,ue.type),F.write_shift(1,ue.color),F.write_shift(-4,ue.L),F.write_shift(-4,ue.R),F.write_shift(-4,ue.C),ue.clsid)F.write_shift(16,ue.clsid,"hex");else for(oe=0;oe<4;++oe)F.write_shift(4,0);F.write_shift(4,ue.state||0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,0),F.write_shift(4,ue.start),F.write_shift(4,ue.size),F.write_shift(4,0)}for(I=1;I<S.FileIndex.length;++I)if(ue=S.FileIndex[I],ue.size>=4096)if(F.l=ue.start+1<<9,qe&&Buffer.isBuffer(ue.content))ue.content.copy(F,F.l,0,ue.size),F.l+=ue.size+511&-512;else{for(oe=0;oe<ue.size;++oe)F.write_shift(1,ue.content[oe]);for(;oe&511;++oe)F.write_shift(1,0)}for(I=1;I<S.FileIndex.length;++I)if(ue=S.FileIndex[I],ue.size>0&&ue.size<4096)if(qe&&Buffer.isBuffer(ue.content))ue.content.copy(F,F.l,0,ue.size),F.l+=ue.size+63&-64;else{for(oe=0;oe<ue.size;++oe)F.write_shift(1,ue.content[oe]);for(;oe&63;++oe)F.write_shift(1,0)}if(qe)F.l=F.length;else for(;F.l<F.length;)F.write_shift(1,0);return F}function M(S,O){var E=S.FullPaths.map(function(oe){return oe.toUpperCase()}),P=E.map(function(oe){var ce=oe.split("/");return ce[ce.length-(oe.slice(-1)=="/"?2:1)]}),F=!1;O.charCodeAt(0)===47?(F=!0,O=E[0].slice(0,-1)+O):F=O.indexOf("/")!==-1;var I=O.toUpperCase(),le=F===!0?E.indexOf(I):P.indexOf(I);if(le!==-1)return S.FileIndex[le];var me=!I.match(au);for(I=I.replace(jl,""),me&&(I=I.replace(au,"!")),le=0;le<E.length;++le)if((me?E[le].replace(au,"!"):E[le]).replace(jl,"")==I||(me?P[le].replace(au,"!"):P[le]).replace(jl,"")==I)return S.FileIndex[le];return null}var Y=64,z=-2,de="d0cf11e0a1b11ae1",X=[208,207,17,224,161,177,26,225],B="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:z,FREESECT:-1,HEADER_SIGNATURE:de,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:B,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ae(S,O,E){u();var P=K(S,E);c.writeFileSync(O,P)}function q(S){for(var O=new Array(S.length),E=0;E<S.length;++E)O[E]=String.fromCharCode(S[E]);return O.join("")}function Z(S,O){var E=K(S,O);switch(O&&O.type||"buffer"){case"file":return u(),c.writeFileSync(O.filename,E),E;case"binary":return typeof E=="string"?E:q(E);case"base64":return nc(typeof E=="string"?E:q(E));case"buffer":if(qe)return Buffer.isBuffer(E)?E:Vs(E);case"array":return typeof E=="string"?Rn(E):E}return E}var ge;function _(S){try{var O=S.InflateRaw,E=new O;if(E._processChunk(new Uint8Array([3,0]),E._finishFlushFlag),E.bytesRead)ge=S;else throw new Error("zlib does not expose bytesRead")}catch(P){console.error("cannot use native zlib: "+(P.message||P))}}function ee(S,O){if(!ge)return ix(S,O);var E=ge.InflateRaw,P=new E,F=P._processChunk(S.slice(S.l),P._finishFlushFlag);return S.l+=P.bytesRead,F}function Q(S){return ge?ge.deflateRawSync(S):je(S)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ne(S){var O=(S<<1|S<<11)&139536|(S<<5|S<<15)&558144;return(O>>16|O>>8|O)&255}for(var H=typeof Uint8Array<"u",re=H?new Uint8Array(256):[],C=0;C<256;++C)re[C]=ne(C);function A(S,O){var E=re[S&255];return O<=8?E>>>8-O:(E=E<<8|re[S>>8&255],O<=16?E>>>16-O:(E=E<<8|re[S>>16&255],E>>>24-O))}function se(S,O){var E=O&7,P=O>>>3;return(S[P]|(E<=6?0:S[P+1]<<8))>>>E&3}function he(S,O){var E=O&7,P=O>>>3;return(S[P]|(E<=5?0:S[P+1]<<8))>>>E&7}function ve(S,O){var E=O&7,P=O>>>3;return(S[P]|(E<=4?0:S[P+1]<<8))>>>E&15}function Ee(S,O){var E=O&7,P=O>>>3;return(S[P]|(E<=3?0:S[P+1]<<8))>>>E&31}function we(S,O){var E=O&7,P=O>>>3;return(S[P]|(E<=1?0:S[P+1]<<8))>>>E&127}function ot(S,O,E){var P=O&7,F=O>>>3,I=(1<<E)-1,le=S[F]>>>P;return E<8-P||(le|=S[F+1]<<8-P,E<16-P)||(le|=S[F+2]<<16-P,E<24-P)||(le|=S[F+3]<<24-P),le&I}function Et(S,O,E){var P=O&7,F=O>>>3;return P<=5?S[F]|=(E&7)<<P:(S[F]|=E<<P&255,S[F+1]=(E&7)>>8-P),O+3}function fr(S,O,E){var P=O&7,F=O>>>3;return E=(E&1)<<P,S[F]|=E,O+1}function Ir(S,O,E){var P=O&7,F=O>>>3;return E<<=P,S[F]|=E&255,E>>>=8,S[F+1]=E,O+8}function Ws(S,O,E){var P=O&7,F=O>>>3;return E<<=P,S[F]|=E&255,E>>>=8,S[F+1]=E&255,S[F+2]=E>>>8,O+16}function xs(S,O){var E=S.length,P=2*E>O?2*E:O+5,F=0;if(E>=O)return S;if(qe){var I=$y(P);if(S.copy)S.copy(I);else for(;F<S.length;++F)I[F]=S[F];return I}else if(H){var le=new Uint8Array(P);if(le.set)le.set(S);else for(;F<E;++F)le[F]=S[F];return le}return S.length=P,S}function pr(S){for(var O=new Array(S),E=0;E<S;++E)O[E]=0;return O}function Zt(S,O,E){var P=1,F=0,I=0,le=0,me=0,oe=S.length,ce=H?new Uint16Array(32):pr(32);for(I=0;I<32;++I)ce[I]=0;for(I=oe;I<E;++I)S[I]=0;oe=S.length;var ue=H?new Uint16Array(oe):pr(oe);for(I=0;I<oe;++I)ce[F=S[I]]++,P<F&&(P=F),ue[I]=0;for(ce[0]=0,I=1;I<=P;++I)ce[I+16]=me=me+ce[I-1]<<1;for(I=0;I<oe;++I)me=S[I],me!=0&&(ue[I]=ce[me+16]++);var Ne=0;for(I=0;I<oe;++I)if(Ne=S[I],Ne!=0)for(me=A(ue[I],P)>>P-Ne,le=(1<<P+4-Ne)-1;le>=0;--le)O[me|le<<Ne]=Ne&15|I<<4;return P}var Ht=H?new Uint16Array(512):pr(512),hn=H?new Uint16Array(32):pr(32);if(!H){for(var Cn=0;Cn<512;++Cn)Ht[Cn]=0;for(Cn=0;Cn<32;++Cn)hn[Cn]=0}(function(){for(var S=[],O=0;O<32;O++)S.push(5);Zt(S,hn,32);var E=[];for(O=0;O<=143;O++)E.push(8);for(;O<=255;O++)E.push(9);for(;O<=279;O++)E.push(7);for(;O<=287;O++)E.push(8);Zt(E,Ht,288)})();var te=function(){for(var O=H?new Uint8Array(32768):[],E=0,P=0;E<pe.length-1;++E)for(;P<pe[E+1];++P)O[P]=E;for(;P<32768;++P)O[P]=29;var F=H?new Uint8Array(259):[];for(E=0,P=0;E<U.length-1;++E)for(;P<U[E+1];++P)F[P]=E;function I(me,oe){for(var ce=0;ce<me.length;){var ue=Math.min(65535,me.length-ce),Ne=ce+ue==me.length;for(oe.write_shift(1,+Ne),oe.write_shift(2,ue),oe.write_shift(2,~ue&65535);ue-- >0;)oe[oe.l++]=me[ce++]}return oe.l}function le(me,oe){for(var ce=0,ue=0,Ne=H?new Uint16Array(32768):[];ue<me.length;){var _e=Math.min(65535,me.length-ue);if(_e<10){for(ce=Et(oe,ce,+(ue+_e==me.length)),ce&7&&(ce+=8-(ce&7)),oe.l=ce/8|0,oe.write_shift(2,_e),oe.write_shift(2,~_e&65535);_e-- >0;)oe[oe.l++]=me[ue++];ce=oe.l*8;continue}ce=Et(oe,ce,+(ue+_e==me.length)+2);for(var Ae=0;_e-- >0;){var Te=me[ue];Ae=(Ae<<5^Te)&32767;var De=-1,Ie=0;if((De=Ne[Ae])&&(De|=ue&-32768,De>ue&&(De-=32768),De<ue))for(;me[De+Ie]==me[ue+Ie]&&Ie<250;)++Ie;if(Ie>2){Te=F[Ie],Te<=22?ce=Ir(oe,ce,re[Te+1]>>1)-1:(Ir(oe,ce,3),ce+=5,Ir(oe,ce,re[Te-23]>>5),ce+=3);var xt=Te<8?0:Te-4>>2;xt>0&&(Ws(oe,ce,Ie-U[Te]),ce+=xt),Te=O[ue-De],ce=Ir(oe,ce,re[Te]>>3),ce-=3;var gt=Te<4?0:Te-2>>1;gt>0&&(Ws(oe,ce,ue-De-pe[Te]),ce+=gt);for(var mr=0;mr<Ie;++mr)Ne[Ae]=ue&32767,Ae=(Ae<<5^me[ue])&32767,++ue;_e-=Ie-1}else Te<=143?Te=Te+48:ce=fr(oe,ce,1),ce=Ir(oe,ce,re[Te]),Ne[Ae]=ue&32767,++ue}ce=Ir(oe,ce,0)-1}return oe.l=(ce+7)/8|0,oe.l}return function(oe,ce){return oe.length<8?I(oe,ce):le(oe,ce)}}();function je(S){var O=fe(50+Math.floor(S.length*1.1)),E=te(S,O);return O.slice(0,E)}var Me=H?new Uint16Array(32768):pr(32768),Be=H?new Uint16Array(32768):pr(32768),Ge=H?new Uint16Array(128):pr(128),lt=1,er=1;function Qr(S,O){var E=Ee(S,O)+257;O+=5;var P=Ee(S,O)+1;O+=5;var F=ve(S,O)+4;O+=4;for(var I=0,le=H?new Uint8Array(19):pr(19),me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oe=1,ce=H?new Uint8Array(8):pr(8),ue=H?new Uint8Array(8):pr(8),Ne=le.length,_e=0;_e<F;++_e)le[G[_e]]=I=he(S,O),oe<I&&(oe=I),ce[I]++,O+=3;var Ae=0;for(ce[0]=0,_e=1;_e<=oe;++_e)ue[_e]=Ae=Ae+ce[_e-1]<<1;for(_e=0;_e<Ne;++_e)(Ae=le[_e])!=0&&(me[_e]=ue[Ae]++);var Te=0;for(_e=0;_e<Ne;++_e)if(Te=le[_e],Te!=0){Ae=re[me[_e]]>>8-Te;for(var De=(1<<7-Te)-1;De>=0;--De)Ge[Ae|De<<Te]=Te&7|_e<<3}var Ie=[];for(oe=1;Ie.length<E+P;)switch(Ae=Ge[we(S,O)],O+=Ae&7,Ae>>>=3){case 16:for(I=3+se(S,O),O+=2,Ae=Ie[Ie.length-1];I-- >0;)Ie.push(Ae);break;case 17:for(I=3+he(S,O),O+=3;I-- >0;)Ie.push(0);break;case 18:for(I=11+we(S,O),O+=7;I-- >0;)Ie.push(0);break;default:Ie.push(Ae),oe<Ae&&(oe=Ae);break}var xt=Ie.slice(0,E),gt=Ie.slice(E);for(_e=E;_e<286;++_e)xt[_e]=0;for(_e=P;_e<30;++_e)gt[_e]=0;return lt=Zt(xt,Me,286),er=Zt(gt,Be,30),O}function $h(S,O){if(S[0]==3&&!(S[1]&3))return[hi(O),2];for(var E=0,P=0,F=$y(O||1<<18),I=0,le=F.length>>>0,me=0,oe=0;!(P&1);){if(P=he(S,E),E+=3,P>>>1)P>>1==1?(me=9,oe=5):(E=Qr(S,E),me=lt,oe=er);else{E&7&&(E+=8-(E&7));var ce=S[E>>>3]|S[(E>>>3)+1]<<8;if(E+=32,ce>0)for(!O&&le<I+ce&&(F=xs(F,I+ce),le=F.length);ce-- >0;)F[I++]=S[E>>>3],E+=8;continue}for(;;){!O&&le<I+32767&&(F=xs(F,I+32767),le=F.length);var ue=ot(S,E,me),Ne=P>>>1==1?Ht[ue]:Me[ue];if(E+=Ne&15,Ne>>>=4,!(Ne>>>8&255))F[I++]=Ne;else{if(Ne==256)break;Ne-=257;var _e=Ne<8?0:Ne-4>>2;_e>5&&(_e=0);var Ae=I+U[Ne];_e>0&&(Ae+=ot(S,E,_e),E+=_e),ue=ot(S,E,oe),Ne=P>>>1==1?hn[ue]:Be[ue],E+=Ne&15,Ne>>>=4;var Te=Ne<4?0:Ne-2>>1,De=pe[Ne];for(Te>0&&(De+=ot(S,E,Te),E+=Te),!O&&le<Ae&&(F=xs(F,Ae+100),le=F.length);I<Ae;)F[I]=F[I-De],++I}}}return O?[F,E+7>>>3]:[F.slice(0,I),E+7>>>3]}function ix(S,O){var E=S.slice(S.l||0),P=$h(E,O);return S.l+=P[1],P[0]}function ox(S,O){if(S)typeof console<"u"&&console.error(O);else throw new Error(O)}function lx(S,O){var E=S;en(E,0);var P=[],F=[],I={FileIndex:P,FullPaths:F};j(I,{root:O.root});for(var le=E.length-4;(E[le]!=80||E[le+1]!=75||E[le+2]!=5||E[le+3]!=6)&&le>=0;)--le;E.l=le+4,E.l+=4;var me=E.read_shift(2);E.l+=6;var oe=E.read_shift(4);for(E.l=oe,le=0;le<me;++le){E.l+=20;var ce=E.read_shift(4),ue=E.read_shift(4),Ne=E.read_shift(2),_e=E.read_shift(2),Ae=E.read_shift(2);E.l+=8;var Te=E.read_shift(4),De=l(E.slice(E.l+Ne,E.l+Ne+_e));E.l+=Ne+_e+Ae;var Ie=E.l;E.l=Te+4,vj(E,ce,ue,I,De),E.l=Ie}return I}function vj(S,O,E,P,F){S.l+=2;var I=S.read_shift(2),le=S.read_shift(2),me=o(S);if(I&8257)throw new Error("Unsupported ZIP encryption");for(var oe=S.read_shift(4),ce=S.read_shift(4),ue=S.read_shift(4),Ne=S.read_shift(2),_e=S.read_shift(2),Ae="",Te=0;Te<Ne;++Te)Ae+=String.fromCharCode(S[S.l++]);if(_e){var De=l(S.slice(S.l,S.l+_e));(De[21589]||{}).mt&&(me=De[21589].mt),((F||{})[21589]||{}).mt&&(me=F[21589].mt)}S.l+=_e;var Ie=S.slice(S.l,S.l+ce);switch(le){case 8:Ie=ee(S,ue);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+le)}var xt=!1;I&8&&(oe=S.read_shift(4),oe==134695760&&(oe=S.read_shift(4),xt=!0),ce=S.read_shift(4),ue=S.read_shift(4)),ce!=O&&ox(xt,"Bad compressed size: "+O+" != "+ce),ue!=E&&ox(xt,"Bad uncompressed size: "+E+" != "+ue),Uh(P,Ae,Ie,{unsafe:!0,mt:me})}function wj(S,O){var E=O||{},P=[],F=[],I=fe(1),le=E.compression?8:0,me=0,oe=0,ce=0,ue=0,Ne=0,_e=S.FullPaths[0],Ae=_e,Te=S.FileIndex[0],De=[],Ie=0;for(oe=1;oe<S.FullPaths.length;++oe)if(Ae=S.FullPaths[oe].slice(_e.length),Te=S.FileIndex[oe],!(!Te.size||!Te.content||Ae=="Sh33tJ5")){var xt=ue,gt=fe(Ae.length);for(ce=0;ce<Ae.length;++ce)gt.write_shift(1,Ae.charCodeAt(ce)&127);gt=gt.slice(0,gt.l),De[Ne]=sO.buf(Te.content,0);var mr=Te.content;le==8&&(mr=Q(mr)),I=fe(30),I.write_shift(4,67324752),I.write_shift(2,20),I.write_shift(2,me),I.write_shift(2,le),Te.mt?i(I,Te.mt):I.write_shift(4,0),I.write_shift(-4,De[Ne]),I.write_shift(4,mr.length),I.write_shift(4,Te.content.length),I.write_shift(2,gt.length),I.write_shift(2,0),ue+=I.length,P.push(I),ue+=gt.length,P.push(gt),ue+=mr.length,P.push(mr),I=fe(46),I.write_shift(4,33639248),I.write_shift(2,0),I.write_shift(2,20),I.write_shift(2,me),I.write_shift(2,le),I.write_shift(4,0),I.write_shift(-4,De[Ne]),I.write_shift(4,mr.length),I.write_shift(4,Te.content.length),I.write_shift(2,gt.length),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(4,0),I.write_shift(4,xt),Ie+=I.l,F.push(I),Ie+=gt.length,F.push(gt),++Ne}return I=fe(22),I.write_shift(4,101010256),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(2,Ne),I.write_shift(2,Ne),I.write_shift(4,Ie),I.write_shift(4,ue),I.write_shift(2,0),ar([ar(P),ar(F),I])}var _c={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Nj(S,O){if(S.ctype)return S.ctype;var E=S.name||"",P=E.match(/\.([^\.]+)$/);return P&&_c[P[1]]||O&&(P=(E=O).match(/[\.\\]([^\.\\])+$/),P&&_c[P[1]])?_c[P[1]]:"application/octet-stream"}function bj(S){for(var O=nc(S),E=[],P=0;P<O.length;P+=76)E.push(O.slice(P,P+76));return E.join(`\r
`)+`\r
`}function jj(S){var O=S.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ce){var ue=ce.charCodeAt(0).toString(16).toUpperCase();return"="+(ue.length==1?"0"+ue:ue)});O=O.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),O.charAt(0)==`
`&&(O="=0D"+O.slice(1)),O=O.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var E=[],P=O.split(`\r
`),F=0;F<P.length;++F){var I=P[F];if(I.length==0){E.push("");continue}for(var le=0;le<I.length;){var me=76,oe=I.slice(le,le+me);oe.charAt(me-1)=="="?me--:oe.charAt(me-2)=="="?me-=2:oe.charAt(me-3)=="="&&(me-=3),oe=I.slice(le,le+me),le+=me,le<I.length&&(oe+="="),E.push(oe)}}return E.join(`\r
`)}function Tj(S){for(var O=[],E=0;E<S.length;++E){for(var P=S[E];E<=S.length&&P.charAt(P.length-1)=="=";)P=P.slice(0,P.length-1)+S[++E];O.push(P)}for(var F=0;F<O.length;++F)O[F]=O[F].replace(/[=][0-9A-Fa-f]{2}/g,function(I){return String.fromCharCode(parseInt(I.slice(1),16))});return Rn(O.join(`\r
`))}function kj(S,O,E){for(var P="",F="",I="",le,me=0;me<10;++me){var oe=O[me];if(!oe||oe.match(/^\s*$/))break;var ce=oe.match(/^(.*?):\s*([^\s].*)$/);if(ce)switch(ce[1].toLowerCase()){case"content-location":P=ce[2].trim();break;case"content-type":I=ce[2].trim();break;case"content-transfer-encoding":F=ce[2].trim();break}}switch(++me,F.toLowerCase()){case"base64":le=Rn(Ls(O.slice(me).join("")));break;case"quoted-printable":le=Tj(O.slice(me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+F)}var ue=Uh(S,P.slice(E.length),le,{unsafe:!0});I&&(ue.ctype=I)}function Sj(S,O){if(q(S.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var E=O&&O.root||"",P=(qe&&Buffer.isBuffer(S)?S.toString("binary"):q(S)).split(`\r
`),F=0,I="";for(F=0;F<P.length;++F)if(I=P[F],!!/^Content-Location:/i.test(I)&&(I=I.slice(I.indexOf("file")),E||(E=I.slice(0,I.lastIndexOf("/")+1)),I.slice(0,E.length)!=E))for(;E.length>0&&(E=E.slice(0,E.length-1),E=E.slice(0,E.lastIndexOf("/")+1),I.slice(0,E.length)!=E););var le=(P[1]||"").match(/boundary="(.*?)"/);if(!le)throw new Error("MAD cannot find boundary");var me="--"+(le[1]||""),oe=[],ce=[],ue={FileIndex:oe,FullPaths:ce};j(ue);var Ne,_e=0;for(F=0;F<P.length;++F){var Ae=P[F];Ae!==me&&Ae!==me+"--"||(_e++&&kj(ue,P.slice(Ne,F),E),Ne=F)}return ue}function Cj(S,O){var E=O||{},P=E.boundary||"SheetJS";P="------="+P;for(var F=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+P.slice(2)+'"',"","",""],I=S.FullPaths[0],le=I,me=S.FileIndex[0],oe=1;oe<S.FullPaths.length;++oe)if(le=S.FullPaths[oe].slice(I.length),me=S.FileIndex[oe],!(!me.size||!me.content||le=="Sh33tJ5")){le=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ie){return"_x"+Ie.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ie){return"_u"+Ie.charCodeAt(0).toString(16)+"_"});for(var ce=me.content,ue=qe&&Buffer.isBuffer(ce)?ce.toString("binary"):q(ce),Ne=0,_e=Math.min(1024,ue.length),Ae=0,Te=0;Te<=_e;++Te)(Ae=ue.charCodeAt(Te))>=32&&Ae<128&&++Ne;var De=Ne>=_e*4/5;F.push(P),F.push("Content-Location: "+(E.root||"file:///C:/SheetJS/")+le),F.push("Content-Transfer-Encoding: "+(De?"quoted-printable":"base64")),F.push("Content-Type: "+Nj(me,le)),F.push(""),F.push(De?jj(ue):bj(ue))}return F.push(P+`--\r
`),F.join(`\r
`)}function Ej(S){var O={};return j(O,S),O}function Uh(S,O,E,P){var F=P&&P.unsafe;F||j(S);var I=!F&&it.find(S,O);if(!I){var le=S.FullPaths[0];O.slice(0,le.length)==le?le=O:(le.slice(-1)!="/"&&(le+="/"),le=(le+O).replace("//","/")),I={name:a(O),type:2},S.FileIndex.push(I),S.FullPaths.push(le),F||it.utils.cfb_gc(S)}return I.content=E,I.size=E?E.length:0,P&&(P.CLSID&&(I.clsid=P.CLSID),P.mt&&(I.mt=P.mt),P.ct&&(I.ct=P.ct)),I}function _j(S,O){j(S);var E=it.find(S,O);if(E){for(var P=0;P<S.FileIndex.length;++P)if(S.FileIndex[P]==E)return S.FileIndex.splice(P,1),S.FullPaths.splice(P,1),!0}return!1}function Dj(S,O,E){j(S);var P=it.find(S,O);if(P){for(var F=0;F<S.FileIndex.length;++F)if(S.FileIndex[F]==P)return S.FileIndex[F].name=a(E),S.FullPaths[F]=E,!0}return!1}function Pj(S){L(S,!0)}return t.find=M,t.read=D,t.parse=d,t.write=Z,t.writeFile=ae,t.utils={cfb_new:Ej,cfb_add:Uh,cfb_del:_j,cfb_mov:Dj,cfb_gc:Pj,ReadShift:kl,CheckField:gb,prep_blob:en,bconcat:ar,use_zlib:_,_deflateRaw:je,_inflateRaw:ix,consts:V},t}();function aO(e){return typeof e=="string"?Oh(e):Array.isArray(e)?PA(e):e}function Tc(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Oh(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?ac(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([aO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=jc(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function hr(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function Qy(e,t){for(var r=[],n=hr(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function $m(e){for(var t=[],r=hr(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Fh(e){for(var t=[],r=hr(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function iO(e){for(var t=[],r=hr(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Ld=new Date(1899,11,30,0,0,0);function zr(e,t){var r=e.getTime(),n=Ld.getTime()+(e.getTimezoneOffset()-Ld.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var eb=new Date,oO=Ld.getTime()+(eb.getTimezoneOffset()-Ld.getTimezoneOffset())*6e4,Gy=eb.getTimezoneOffset();function tb(e){var t=new Date;return t.setTime(e*24*60*60*1e3+oO),t.getTimezoneOffset()!==Gy&&t.setTime(t.getTime()+(t.getTimezoneOffset()-Gy)*6e4),t}var Xy=new Date("2017-02-19T19:06:09.000Z"),rb=isNaN(Xy.getFullYear())?new Date("2/19/17"):Xy,lO=rb.getFullYear()==2017;function Rr(e,t){var r=new Date(e);if(lO)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(rb.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Lh(e,t){if(qe&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function qr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=qr(e[r]));return t}function kt(e,t){for(var r="";r.length<t;)r+=e;return r}function _s(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var cO=["january","february","march","april","may","june","july","august","september","october","november","december"];function sc(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&cO.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function He(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return qe?n=Vs(r):n=AA(r),it.utils.cfb_add(e,t,n)}it.utils.cfb_add(e,t,r)}else e.file(t,r)}function Um(){return it.utils.cfb_new()}var Bt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uO={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Vm=$m(uO),Wm=/[&<>'"]/g,dO=/[\u0000-\u0008\u000b-\u001f]/g;function nt(e){var t=e+"";return t.replace(Wm,function(r){return Vm[r]}).replace(dO,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Jy(e){return nt(e).replace(/ /g,"_x0020_")}var nb=/[\u0000-\u001f]/g;function hO(e){var t=e+"";return t.replace(Wm,function(r){return Vm[r]}).replace(/\n/g,"<br/>").replace(nb,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function fO(e){var t=e+"";return t.replace(Wm,function(r){return Vm[r]}).replace(nb,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function pO(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function mO(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Ff(e){for(var t="",r=0,n=0,a=0,i=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=a&63,t+=String.fromCharCode(o);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function Zy(e){var t=hi(2*e.length),r,n,a=1,i=0,o=0,l;for(n=0;n<e.length;n+=a)a=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[i++]=o&255,t[i++]=o>>>8,o=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function ev(e){return Vs(e,"binary").toString("utf8")}var ou="foo bar bazâð£",Tl=qe&&(ev(ou)==Ff(ou)&&ev||Zy(ou)==Ff(ou)&&Zy)||Ff,ac=qe?function(e){return Vs(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},xO=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),sb=/(^\s|\s$|\n)/;function ir(e,t){return"<"+e+(t.match(sb)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function ic(e){return hr(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ke(e,t,r){return"<"+e+(r!=null?ic(r):"")+(t!=null?(t.match(sb)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function mp(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function gO(e,t){switch(typeof e){case"string":var r=ke("vt:lpwstr",nt(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ke((e|0)==e?"vt:i4":"vt:r8",nt(String(e)));case"boolean":return ke("vt:bool",e?"true":"false")}if(e instanceof Date)return ke("vt:filetime",mp(e));throw new Error("Unable to serialize "+e)}var Kt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Io=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],tn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function yO(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function vO(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,o=n?-t:t;isFinite(o)?o==0?a=i=0:(a=Math.floor(Math.log(o)/Math.LN2),i=o*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var l=0;l<=5;++l,i/=256)e[r+l]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var tv=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},rv=qe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Vs(t)})):tv(e)}:tv,nv=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(ul(e,a)));return n.join("").replace(jl,"")},Km=qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(jl,""):nv(e,t,r)}:nv,sv=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},ab=qe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):sv(e,t,r)}:sv,av=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Mi(e,a)));return n.join("")},kc=qe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):av(t,r,n)}:av,ib=function(e,t){var r=rn(e,t);return r>0?kc(e,t+4,t+4+r-1):""},ob=ib,lb=function(e,t){var r=rn(e,t);return r>0?kc(e,t+4,t+4+r-1):""},cb=lb,ub=function(e,t){var r=2*rn(e,t);return r>0?kc(e,t+4,t+4+r-1):""},db=ub,hb=function(t,r){var n=rn(t,r);return n>0?Km(t,r+4,r+4+n):""},fb=hb,pb=function(e,t){var r=rn(e,t);return r>0?kc(e,t+4,t+4+r):""},mb=pb,xb=function(e,t){return yO(e,t)},Id=xb,Ym=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};qe&&(ob=function(t,r){if(!Buffer.isBuffer(t))return ib(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},cb=function(t,r){if(!Buffer.isBuffer(t))return lb(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},db=function(t,r){if(!Buffer.isBuffer(t))return ub(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},fb=function(t,r){if(!Buffer.isBuffer(t))return hb(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},mb=function(t,r){if(!Buffer.isBuffer(t))return pb(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Id=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):xb(t,r)},Ym=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Mi=function(e,t){return e[t]},ul=function(e,t){return e[t+1]*256+e[t]},wO=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},rn=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ua=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},NO=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function kl(e,t){var r="",n,a,i=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(ul(this,u)),u+=2;e*=2;break;case"utf8":r=kc(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Km(this,this.l,this.l+e);break;case"wstr":return kl.call(this,e,"dbcs");case"lpstr-ansi":r=ob(this,this.l),e=4+rn(this,this.l);break;case"lpstr-cp":r=cb(this,this.l),e=4+rn(this,this.l);break;case"lpwstr":r=db(this,this.l),e=4+2*rn(this,this.l);break;case"lpp4":e=4+rn(this,this.l),r=fb(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+rn(this,this.l),r=mb(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=Mi(this,this.l+e++))!==0;)i.push(su(o));r=i.join("");break;case"_wstr":for(e=0,r="";(o=ul(this,this.l+e))!==0;)i.push(su(o)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Mi(this,u),this.l=u+1,l=kl.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(su(ul(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Mi(this,u),this.l=u+1,l=kl.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(su(Mi(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=Mi(this,this.l),this.l++,n;case 2:return n=(t==="i"?wO:ul)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ua:NO)(this,this.l),this.l+=4,n):(a=rn(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Id(this,this.l):a=Id([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=ab(this,this.l,e);break}}return this.l+=e,r}var bO=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},jO=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},TO=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function kO(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)TO(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var o=t.charCodeAt(a);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,bO(this,t,this.l);break;case 8:if(n=8,r==="f"){vO(this,t,this.l);break}case 16:break;case-4:n=4,jO(this,t,this.l);break}return this.l+=n,this}function gb(e,t){var r=ab(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function en(e,t){e.l=t,e.read_shift=kl,e.chk=gb,e.write_shift=kO}function fs(e,t){e.l+=t}function fe(e){var t=hi(e);return en(t,0),t}function Yr(){var e=[],t=qe?256:2048,r=function(u){var d=fe(u);return en(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},o=function(){return a(),ar(e)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:l,end:o,_bufs:e}}function ye(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=yI[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var o=e.next(i);a<=127?o.write_shift(1,a):(o.write_shift(1,(a&127)+128),o.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&Ym(r)&&e.push(r)}}function Sl(e,t,r){var n=qr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function iv(e,t,r){var n=qr(e);return n.s=Sl(n.s,t.s,r),n.e=Sl(n.e,t.s,r),n}function Cl(e,t){if(e.cRel&&e.c<0)for(e=qr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=qr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=at(e);return!e.cRel&&e.cRel!=null&&(r=EO(r)),!e.rRel&&e.rRel!=null&&(r=SO(r)),r}function Lf(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+jr(e.s.c)+":"+(e.e.cRel?"":"$")+jr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ur(e.s.r)+":"+(e.e.rRel?"":"$")+ur(e.e.r):Cl(e.s,t.biff)+":"+Cl(e.e,t.biff)}function zm(e){return parseInt(CO(e),10)-1}function ur(e){return""+(e+1)}function SO(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function CO(e){return e.replace(/\$(\d+)$/,"$1")}function qm(e){for(var t=_O(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function jr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function EO(e){return e.replace(/^([A-Z])/,"$$$1")}function _O(e){return e.replace(/^\$([A-Z])/,"$1")}function DO(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Yt(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function at(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function cn(e){var t=e.indexOf(":");return t==-1?{s:Yt(e),e:Yt(e)}:{s:Yt(e.slice(0,t)),e:Yt(e.slice(t+1))}}function It(e,t){return typeof t>"u"||typeof t=="number"?It(e.s,e.e):(typeof e!="string"&&(e=at(e)),typeof t!="string"&&(t=at(t)),e==t?e:e+":"+t)}function pt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function ov(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_a(e.z,r?zr(t):t)}catch{}try{return e.w=_a((e.XF||{}).numFmtId||(r?14:0),r?zr(t):t)}catch{return""+t}}function Is(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Sc[e.v]||e.v:t==null?ov(e,e.v):ov(e,t))}function Ni(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function yb(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),o=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Yt(n.origin):n.origin;o=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=pt(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),o==-1&&(u.e.r=o=d.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(!(typeof t[h][f]>"u")){var p={v:t[h][f]},x=o+h,m=l+f;if(u.s.r>x&&(u.s.r=x),u.s.c>m&&(u.s.c=m),u.e.r<x&&(u.e.r=x),u.e.c<m&&(u.e.c=m),t[h][f]&&typeof t[h][f]=="object"&&!Array.isArray(t[h][f])&&!(t[h][f]instanceof Date))p=t[h][f];else if(Array.isArray(p.v)&&(p.f=t[h][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||St[14],n.cellDates?(p.t="d",p.w=_a(p.z,zr(p.v))):(p.t="n",p.v=zr(p.v),p.w=_a(p.z,p.v))):p.t="s";if(a)i[x]||(i[x]=[]),i[x][m]&&i[x][m].z&&(p.z=i[x][m].z),i[x][m]=p;else{var v=at({c:m,r:x});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return u.s.c<1e7&&(i["!ref"]=It(u)),i}function Bo(e,t){return yb(null,e,t)}function PO(e){return e.read_shift(4,"i")}function In(e,t){return t||(t=fe(4)),t.write_shift(4,e),t}function Tr(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function zt(e,t){var r=!1;return t==null&&(r=!0,t=fe(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function AO(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function OO(e,t){return t||(t=fe(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Qm(e,t){var r=e.l,n=e.read_shift(1),a=Tr(e),i=[],o={t:a,h:a};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)i.push(AO(e));o.r=i}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function RO(e,t){var r=!1;return t==null&&(r=!0,t=fe(15+4*e.t.length)),t.write_shift(1,0),zt(e.t,t),r?t.slice(0,t.l):t}var MO=Qm;function FO(e,t){var r=!1;return t==null&&(r=!0,t=fe(23+4*e.t.length)),t.write_shift(1,1),zt(e.t,t),t.write_shift(4,1),OO({},t),r?t.slice(0,t.l):t}function Sn(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function bi(e,t){return t==null&&(t=fe(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ji(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Ti(e,t){return t==null&&(t=fe(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var LO=Tr,vb=zt;function Gm(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Bd(e,t){var r=!1;return t==null&&(r=!0,t=fe(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var IO=Tr,xp=Gm,Xm=Bd;function wb(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Id([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ua(t,0)>>2;return r?a/100:a}function Nb(e,t){t==null&&(t=fe(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function bb(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function BO(e,t){return t||(t=fe(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var ki=bb,Ho=BO;function $o(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function fi(e,t){return(t||fe(8)).write_shift(8,e,"f")}function HO(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=QO[a];u&&(t.rgb=yv(u));break;case 2:t.rgb=yv([o,l,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Hd(e,t){if(t||(t=fe(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function $O(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function UO(e,t){t||(t=fe(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var jb=2,Xr=3,lu=11,$d=19,cu=64,VO=65,WO=71,KO=4108,YO=4126,nr=80,lv={1:{n:"CodePage",t:jb},2:{n:"Category",t:nr},3:{n:"PresentationFormat",t:nr},4:{n:"ByteCount",t:Xr},5:{n:"LineCount",t:Xr},6:{n:"ParagraphCount",t:Xr},7:{n:"SlideCount",t:Xr},8:{n:"NoteCount",t:Xr},9:{n:"HiddenCount",t:Xr},10:{n:"MultimediaClipCount",t:Xr},11:{n:"ScaleCrop",t:lu},12:{n:"HeadingPairs",t:KO},13:{n:"TitlesOfParts",t:YO},14:{n:"Manager",t:nr},15:{n:"Company",t:nr},16:{n:"LinksUpToDate",t:lu},17:{n:"CharacterCount",t:Xr},19:{n:"SharedDoc",t:lu},22:{n:"HyperlinksChanged",t:lu},23:{n:"AppVersion",t:Xr,p:"version"},24:{n:"DigSig",t:VO},26:{n:"ContentType",t:nr},27:{n:"ContentStatus",t:nr},28:{n:"Language",t:nr},29:{n:"Version",t:nr},255:{},2147483648:{n:"Locale",t:$d},2147483651:{n:"Behavior",t:$d},1919054434:{}},cv={1:{n:"CodePage",t:jb},2:{n:"Title",t:nr},3:{n:"Subject",t:nr},4:{n:"Author",t:nr},5:{n:"Keywords",t:nr},6:{n:"Comments",t:nr},7:{n:"Template",t:nr},8:{n:"LastAuthor",t:nr},9:{n:"RevNumber",t:nr},10:{n:"EditTime",t:cu},11:{n:"LastPrinted",t:cu},12:{n:"CreatedDate",t:cu},13:{n:"ModifiedDate",t:cu},14:{n:"PageCount",t:Xr},15:{n:"WordCount",t:Xr},16:{n:"CharCount",t:Xr},17:{n:"Thumbnail",t:WO},18:{n:"Application",t:nr},19:{n:"DocSecurity",t:Xr},255:{},2147483648:{n:"Locale",t:$d},2147483651:{n:"Behavior",t:$d},1919054434:{}};function zO(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var qO=zO([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),QO=qr(qO),Sc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},GO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},uu={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Tb(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kb(e,t){var r=iO(GO),n=[],a;n[n.length]=Bt,n[n.length]=ke("Types",null,{xmlns:Kt.CT,"xmlns:xsd":Kt.xsd,"xmlns:xsi":Kt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ke("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ke("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:uu[c][t.bookType]||uu[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:uu[c][t.bookType]||uu[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ke("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ye={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Sb(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function so(e){var t=[Bt,ke("Relationships",null,{xmlns:Kt.RELS})];return hr(e["!id"]).forEach(function(r){t[t.length]=ke("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ze(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Ye.HLINK,Ye.XPATH,Ye.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function XO(e){var t=[Bt];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function uv(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function JO(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function ZO(e){var t=[Bt];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(uv(e[r][0],e[r][1])),t.push(JO("",e[r][0]));return t.push(uv("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Cb(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Ad.version+"</meta:generator></office:meta></office:document-meta>"}var ni=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function If(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=nt(t),n[n.length]=r?ke(e,t,r):ir(e,t))}function Eb(e,t){var r=t||{},n=[Bt,ke("cp:coreProperties",null,{"xmlns:cp":Kt.CORE_PROPS,"xmlns:dc":Kt.dc,"xmlns:dcterms":Kt.dcterms,"xmlns:dcmitype":Kt.dcmitype,"xmlns:xsi":Kt.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&If("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:mp(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&If("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:mp(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=ni.length;++i){var o=ni[i],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&If(o[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ao=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],_b=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Db(e){var t=[],r=ke;return e||(e={}),e.Application="SheetJS",t[t.length]=Bt,t[t.length]=ke("Properties",null,{xmlns:Kt.EXT_PROPS,"xmlns:vt":Kt.vt}),ao.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=nt(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+nt(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Pb(e){var t=[Bt,ke("Properties",null,{xmlns:Kt.CUST_PROPS,"xmlns:vt":Kt.vt})];if(!e)return t.join("");var r=1;return hr(e).forEach(function(a){++r,t[t.length]=ke("property",gO(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:nt(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var dv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function eR(e,t){var r=[];return hr(dv).map(function(n){for(var a=0;a<ni.length;++a)if(ni[a][1]==n)return ni[a];for(a=0;a<ao.length;++a)if(ao[a][1]==n)return ao[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ir(dv[n[1]]||n[1],a))}}),ke("DocumentProperties",r.join(""),{xmlns:tn.o})}function tR(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&hr(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var o=0;o<ni.length;++o)if(i==ni[o][1])return;for(o=0;o<ao.length;++o)if(i==ao[o][1])return;for(o=0;o<r.length;++o)if(i==r[o])return;var l=e[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(ke(Jy(i),l,{"dt:dt":c}))}}),t&&hr(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var o=t[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),a.push(ke(Jy(i),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+tn.o+'">'+a.join("")+"</"+n+">"}function rR(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var o=fe(8);return o.write_shift(4,n),o.write_shift(4,a),o}function hv(e,t){var r=fe(4),n=fe(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=fe(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=rR(t);break;case 31:case 80:for(n=fe(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ar([r,n])}var Ab=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function nR(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function fv(e,t,r){var n=fe(8),a=[],i=[],o=8,l=0,c=fe(8),u=fe(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),o+=8+c.length,!t){u=fe(8),u.write_shift(4,0),a.unshift(u);var d=[fe(4)];for(d[0].write_shift(4,e.length),l=0;l<e.length;++l){var h=e[l][0];for(c=fe(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=ar(d),i.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(Ab.indexOf(e[l][0])>-1||_b.indexOf(e[l][0])>-1)&&e[l][1]!=null){var f=e[l][1],p=0;if(t){p=+t[e[l][0]];var x=r[p];if(x.p=="version"&&typeof f=="string"){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}c=hv(x.t,f)}else{var v=nR(f);v==-1&&(v=31,f=String(f)),c=hv(v,f)}i.push(c),u=fe(8),u.write_shift(4,t?p:2+l),a.push(u),o+=8+c.length}var y=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,y),y+=i[l].length;return n.write_shift(4,o),n.write_shift(4,i.length),ar([n].concat(a).concat(i))}function pv(e,t,r,n,a,i){var o=fe(a?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,it.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,a?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,a?68:48);var c=fv(e,r,n);if(l.push(c),a){var u=fv(a,null,null);o.write_shift(16,i,"hex"),o.write_shift(4,68+c.length),l.push(u)}return ar(l)}function sR(e,t){t||(t=fe(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function aR(e,t){return e.read_shift(t)===1}function Dr(e,t){return t||(t=fe(2)),t.write_shift(2,+!!e),t}function Ob(e){return e.read_shift(2,"u")}function mn(e,t){return t||(t=fe(2)),t.write_shift(2,e),t}function Rb(e,t,r){return r||(r=fe(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Mb(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var o=n?e.read_shift(n,a):"";return o}function iR(e){var t=e.t||"",r=fe(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=fe(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return ar(a)}function oR(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function lR(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):oR(e,n,r)}function cR(e,t,r){if(r.biff>5)return lR(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Fb(e,t,r){return r||(r=fe(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function mv(e,t){t||(t=fe(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function uR(e){var t=fe(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(i==28)n=n.slice(1),mv(n,t);else if(i&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),i&8&&mv(a>-1?n.slice(a+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function pi(e,t,r,n){return n||(n=fe(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function dR(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[a,i,o]}function hR(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Lb(e,t){return t||(t=fe(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Jm(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=fe(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function fR(e,t){var r=!t||t.biff==8,n=fe(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function pR(e,t){var r=!t||t.biff>=8?2:1,n=fe(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function mR(e,t){var r=fe(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=iR(e[a]);var i=ar([r].concat(n));return i.parts=[r.length].concat(n.map(function(o){return o.length})),i}function xR(){var e=fe(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function gR(e){var t=fe(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function yR(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=fe(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function vR(e,t,r,n){var a=fe(10);return pi(e,t,n,a),a.write_shift(4,r),a}function wR(e,t,r,n,a){var i=!a||a.biff==8,o=fe(8+ +i+(1+i)*r.length);return pi(e,t,n,o),o.write_shift(2,r.length),i&&o.write_shift(1,1),o.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),o}function NR(e,t,r,n){var a=r&&r.biff==5;n||(n=fe(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function bR(e,t){var r=t.biff==8||!t.biff?4:2,n=fe(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function xv(e,t,r,n){var a=r&&r.biff==5;n||(n=fe(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function jR(e){var t=fe(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function TR(e,t,r,n,a,i){var o=fe(8);return pi(e,t,n,o),Rb(r,i,o),o}function kR(e,t,r,n){var a=fe(14);return pi(e,t,n,a),fi(r,a),a}function SR(e,t,r){if(r.biff<8)return CR(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(dR(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function CR(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Mb(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function ER(e){var t=fe(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)Lb(e[r],t);return t}function _R(e){var t=fe(24),r=Yt(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return ar([t,uR(e[1])])}function DR(e){var t=e[1].Tooltip,r=fe(10+2*(t.length+1));r.write_shift(2,2048);var n=Yt(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function PR(e){return e||(e=fe(4)),e.write_shift(2,1),e.write_shift(2,1),e}function AR(e,t,r){if(!r.cellStyles)return fs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function OR(e,t){var r=fe(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function RR(e){for(var t=fe(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function MR(e,t,r){var n=fe(15);return Ec(n,e,t),n.write_shift(8,r,"f"),n}function FR(e,t,r){var n=fe(9);return Ec(n,e,t),n.write_shift(2,r),n}var LR=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=$m({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=hi(1);switch(c.type){case"base64":d=Rn(Ls(l));break;case"binary":d=Rn(l);break;case"buffer":case"array":d=l;break}en(d,0);var h=d.read_shift(1),f=!!(h&136),p=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,f=!0;break;case 49:p=!0,f=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var m=0,v=521;h==2&&(m=d.read_shift(2)),d.l+=3,h!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),h!=2&&(v=d.read_shift(2));var y=d.read_shift(2),g=c.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(g=e[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var w=[],b={},k=Math.min(d.length,h==2?521:v-10-(p?264:0)),D=x?32:11;d.l<k&&d[d.l]!=13;)switch(b={},b.name=Od.utils.decode(g,d.slice(d.l,d.l+D)).replace(/[\u0000\r\n].*$/g,""),d.l+=D,b.type=String.fromCharCode(d.read_shift(1)),h!=2&&!x&&(b.offset=d.read_shift(4)),b.len=d.read_shift(1),h==2&&(b.offset=d.read_shift(2)),b.dec=d.read_shift(1),b.name.length&&w.push(b),h!=2&&(d.l+=x?13:14),b.type){case"B":(!p||b.len!=8)&&c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+b.name+":"+b.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+b.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var j=0,T=0;for(u[0]=[],T=0;T!=w.length;++T)u[0][T]=w[T].name;for(;m-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++j]=[],T=0,T=0;T!=w.length;++T){var L=d.slice(d.l,d.l+w[T].len);d.l+=w[T].len,en(L,0);var K=Od.utils.decode(g,L);switch(w[T].type){case"C":K.trim().length&&(u[j][T]=K.replace(/\s+$/,""));break;case"D":K.length===8?u[j][T]=new Date(+K.slice(0,4),+K.slice(4,6)-1,+K.slice(6,8)):u[j][T]=K;break;case"F":u[j][T]=parseFloat(K.trim());break;case"+":case"I":u[j][T]=x?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(K.trim().toUpperCase()){case"Y":case"T":u[j][T]=!0;break;case"N":case"F":u[j][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+K+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[j][T]="##MEMO##"+(x?parseInt(K.trim(),10):L.read_shift(4));break;case"N":K=K.replace(/\u0000/g,"").trim(),K&&K!="."&&(u[j][T]=+K||0);break;case"@":u[j][T]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":u[j][T]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":u[j][T]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[j][T]=-L.read_shift(-8,"f");break;case"B":if(p&&w[T].len==8){u[j][T]=L.read_shift(8,"f");break}case"G":case"P":L.l+=w[T].len;break;case"0":if(w[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[T].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Bo(r(l,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function a(l,c){try{return Ni(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&rc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Yr(),h=Yd(l,{header:1,raw:!0,cellDates:!0}),f=h[0],p=h.slice(1),x=l["!cols"]||[],m=0,v=0,y=0,g=1;for(m=0;m<f.length;++m){if(((x[m]||{}).DBF||{}).name){f[m]=x[m].DBF.name,++y;continue}if(f[m]!=null){if(++y,typeof f[m]=="number"&&(f[m]=f[m].toString(10)),typeof f[m]!="string")throw new Error("DBF Invalid column name "+f[m]+" |"+typeof f[m]+"|");if(f.indexOf(f[m])!==m){for(v=0;v<1024;++v)if(f.indexOf(f[m]+"_"+v)==-1){f[m]+="_"+v;break}}}}var w=pt(l["!ref"]),b=[],k=[],D=[];for(m=0;m<=w.e.c-w.s.c;++m){var j="",T="",L=0,K=[];for(v=0;v<p.length;++v)p[v][m]!=null&&K.push(p[v][m]);if(K.length==0||f[m]==null){b[m]="?";continue}for(v=0;v<K.length;++v){switch(typeof K[v]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=K[v]instanceof Date?"D":"C";break;default:T="C"}L=Math.max(L,String(K[v]).length),j=j&&j!=T?"C":T}L>250&&(L=250),T=((x[m]||{}).DBF||{}).type,T=="C"&&x[m].DBF.len>L&&(L=x[m].DBF.len),j=="B"&&T=="N"&&(j="N",D[m]=x[m].DBF.dec,L=x[m].DBF.len),k[m]=j=="C"||T=="N"?L:i[j]||0,g+=k[m],b[m]=j}var M=d.next(32);for(M.write_shift(4,318902576),M.write_shift(4,p.length),M.write_shift(2,296+32*y),M.write_shift(2,g),m=0;m<4;++m)M.write_shift(4,0);for(M.write_shift(4,0|(+t[B2]||3)<<8),m=0,v=0;m<f.length;++m)if(f[m]!=null){var Y=d.next(32),z=(f[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Y.write_shift(1,z,"sbcs"),Y.write_shift(1,b[m]=="?"?"C":b[m],"sbcs"),Y.write_shift(4,v),Y.write_shift(1,k[m]||i[b[m]]||0),Y.write_shift(1,D[m]||0),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(1,0),Y.write_shift(4,0),Y.write_shift(4,0),v+=k[m]||i[b[m]]||0}var de=d.next(264);for(de.write_shift(4,13),m=0;m<65;++m)de.write_shift(4,0);for(m=0;m<p.length;++m){var X=d.next(g);for(X.write_shift(1,0),v=0;v<f.length;++v)if(f[v]!=null)switch(b[v]){case"L":X.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":X.write_shift(8,p[m][v]||0,"f");break;case"N":var B="0";for(typeof p[m][v]=="number"&&(B=p[m][v].toFixed(D[v]||0)),y=0;y<k[v]-B.length;++y)X.write_shift(1,32);X.write_shift(1,B,"sbcs");break;case"D":p[m][v]?(X.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),X.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),X.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):X.write_shift(8,"00000000","sbcs");break;case"C":var V=String(p[m][v]!=null?p[m][v]:"").slice(0,k[v]);for(X.write_shift(1,V,"sbcs"),y=0;y<k[v]-V.length;++y)X.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:o}}(),IR=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+hr(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,p){var x=e[p];return typeof x=="number"?Hy(x):x},n=function(f,p,x){var m=p.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return m==59?f:Hy(m)};e["|"]=254;function a(f,p){switch(p.type){case"base64":return i(Ls(f),p);case"binary":return i(f,p);case"buffer":return i(qe&&Buffer.isBuffer(f)?f.toString("binary"):jc(f),p);case"array":return i(Lh(f),p)}throw new Error("Unrecognized type "+p.type)}function i(f,p){var x=f.split(/[\n\r]+/),m=-1,v=-1,y=0,g=0,w=[],b=[],k=null,D={},j=[],T=[],L=[],K=0,M;for(+p.codepage>=0&&rc(+p.codepage);y!==x.length;++y){K=0;var Y=x[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),z=Y.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),de=z[0],X;if(Y.length>0)switch(de){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":z[1].charAt(0)=="P"&&b.push(Y.slice(3).replace(/;;/g,";"));break;case"C":var B=!1,V=!1,ae=!1,q=!1,Z=-1,ge=-1;for(g=1;g<z.length;++g)switch(z[g].charAt(0)){case"A":break;case"X":v=parseInt(z[g].slice(1))-1,V=!0;break;case"Y":for(m=parseInt(z[g].slice(1))-1,V||(v=0),M=w.length;M<=m;++M)w[M]=[];break;case"K":X=z[g].slice(1),X.charAt(0)==='"'?X=X.slice(1,X.length-1):X==="TRUE"?X=!0:X==="FALSE"?X=!1:isNaN(_s(X))?isNaN(sc(X).getDate())||(X=Rr(X)):(X=_s(X),k!==null&&X2(k)&&(X=tb(X))),B=!0;break;case"E":q=!0;var _=FM(z[g].slice(1),{r:m,c:v});w[m][v]=[w[m][v],_];break;case"S":ae=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":Z=parseInt(z[g].slice(1))-1;break;case"C":ge=parseInt(z[g].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+Y)}if(B&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=X:w[m][v]=X,k=null),ae){if(q)throw new Error("SYLK shared formula cannot have own formula");var ee=Z>-1&&w[Z][ge];if(!ee||!ee[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=LM(ee[1],{r:m-Z,c:v-ge})}break;case"F":var Q=0;for(g=1;g<z.length;++g)switch(z[g].charAt(0)){case"X":v=parseInt(z[g].slice(1))-1,++Q;break;case"Y":for(m=parseInt(z[g].slice(1))-1,M=w.length;M<=m;++M)w[M]=[];break;case"M":K=parseInt(z[g].slice(1))/20;break;case"F":break;case"G":break;case"P":k=b[parseInt(z[g].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=z[g].slice(1).split(" "),M=parseInt(L[0],10);M<=parseInt(L[1],10);++M)K=parseInt(L[2],10),T[M-1]=K===0?{hidden:!0}:{wch:K},Zm(T[M-1]);break;case"C":v=parseInt(z[g].slice(1))-1,T[v]||(T[v]={});break;case"R":m=parseInt(z[g].slice(1))-1,j[m]||(j[m]={}),K>0?(j[m].hpt=K,j[m].hpx=Ub(K)):K===0&&(j[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+Y)}Q<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+Y)}}return j.length>0&&(D["!rows"]=j),T.length>0&&(D["!cols"]=T),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,D]}function o(f,p){var x=a(f,p),m=x[0],v=x[1],y=Bo(m,p);return hr(v).forEach(function(g){y[g]=v[g]}),y}function l(f,p){return Ni(o(f,p),p)}function c(f,p,x,m){var v="C;Y"+(x+1)+";X"+(m+1)+";K";switch(f.t){case"n":v+=f.v||0,f.f&&!f.F&&(v+=";E"+tx(f.f,{r:x,c:m}));break;case"b":v+=f.v?"TRUE":"FALSE";break;case"e":v+=f.w||f.v;break;case"d":v+='"'+(f.w||f.v)+'"';break;case"s":v+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(f,p){p.forEach(function(x,m){var v="F;W"+(m+1)+" "+(m+1)+" ";x.hidden?v+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Ud(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Vd(x.wpx)),typeof x.wch=="number"&&(v+=Math.round(x.wch))),v.charAt(v.length-1)!=" "&&f.push(v)})}function d(f,p){p.forEach(function(x,m){var v="F;";x.hidden?v+="M0;":x.hpt?v+="M"+20*x.hpt+";":x.hpx&&(v+="M"+20*Wd(x.hpx)+";"),v.length>2&&f.push(v+"R"+(m+1))})}function h(f,p){var x=["ID;PWXL;N;E"],m=[],v=pt(f["!ref"]),y,g=Array.isArray(f),w=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),f["!cols"]&&u(x,f["!cols"]),f["!rows"]&&d(x,f["!rows"]),x.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var b=v.s.r;b<=v.e.r;++b)for(var k=v.s.c;k<=v.e.c;++k){var D=at({r:b,c:k});y=g?(f[b]||[])[k]:f[D],!(!y||y.v==null&&(!y.f||y.F))&&m.push(c(y,f,b,k))}return x.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),BR=function(){function e(i,o){switch(o.type){case"base64":return t(Ls(i),o);case"binary":return t(i,o);case"buffer":return t(qe&&Buffer.isBuffer(i)?i.toString("binary"):jc(i),o);case"array":return t(Lh(i),o)}throw new Error("Unrecognized type "+o.type)}function t(i,o){for(var l=i.split(`
`),c=-1,u=-1,d=0,h=[];d!==l.length;++d){if(l[d].trim()==="BOT"){h[++c]=[],u=0;continue}if(!(c<0)){var f=l[d].trim().split(","),p=f[0],x=f[1];++d;for(var m=l[d]||"";(m.match(/["]/g)||[]).length&1&&d<l.length-1;)m+=`
`+l[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){h[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?h[c][u]=!0:m==="FALSE"?h[c][u]=!1:isNaN(_s(x))?isNaN(sc(x).getDate())?h[c][u]=x:h[c][u]=Rr(x):h[c][u]=_s(x),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),h[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(i,o){return Bo(e(i,o),o)}function n(i,o){return Ni(r(i,o),o)}var a=function(){var i=function(c,u,d,h,f){c.push(u),c.push(d+","+h),c.push('"'+f.replace(/"/g,'""')+'"')},o=function(c,u,d,h){c.push(u+","+d),c.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var u=[],d=pt(c["!ref"]),h,f=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){o(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var m=at({r:p,c:x});if(h=f?(c[p]||[])[x]:c[m],!h){o(u,1,0,"");continue}switch(h.t){case"n":var v=h.w;!v&&h.v!=null&&(v=h.v),v==null?h.f&&!h.F?o(u,1,0,"="+h.f):o(u,1,0,""):o(u,0,v,"V");break;case"b":o(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=_a(h.z||St[14],zr(Rr(h.v)))),o(u,0,h.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var y=`\r
`,g=u.join(y);return g}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Ib=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,f){for(var p=h.split(`
`),x=-1,m=-1,v=0,y=[];v!==p.length;++v){var g=p[v].trim().split(":");if(g[0]==="cell"){var w=Yt(g[1]);if(y.length<=w.r)for(x=y.length;x<=w.r;++x)y[x]||(y[x]=[]);switch(x=w.r,m=w.c,g[2]){case"t":y[x][m]=e(g[3]);break;case"v":y[x][m]=+g[3];break;case"vtf":var b=g[g.length-1];case"vtc":switch(g[3]){case"nl":y[x][m]=!!+g[4];break;default:y[x][m]=+g[4];break}g[2]=="vtf"&&(y[x][m]=[y[x][m],b])}}}return f&&f.sheetRows&&(y=y.slice(0,f.sheetRows)),y}function n(h,f){return Bo(r(h,f),f)}function a(h,f){return Ni(n(h,f),f)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var f=[],p=[],x,m="",v=cn(h["!ref"]),y=Array.isArray(h),g=v.s.r;g<=v.e.r;++g)for(var w=v.s.c;w<=v.e.c;++w)if(m=at({r:g,c:w}),x=y?(h[g]||[])[w]:h[m],!(!x||x.v==null||x.t==="z")){switch(p=["cell",m,"t"],x.t){case"s":case"str":p.push(t(x.v));break;case"n":x.f?(p[2]="vtf",p[3]="n",p[4]=x.v,p[5]=t(x.f)):(p[2]="v",p[3]=x.v);break;case"b":p[2]="vt"+(x.f?"f":"c"),p[3]="nl",p[4]=x.v?"1":"0",p[5]=t(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var b=zr(Rr(x.v));p[2]="vtc",p[3]="nd",p[4]=""+b,p[5]=x.w||_a(x.z||St[14],b);break;case"e":continue}f.push(p.join(":"))}return f.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function d(h){return[i,o,l,o,u(h),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),HR=function(){function e(d,h,f,p,x){x.raw?h[f][p]=d:d===""||(d==="TRUE"?h[f][p]=!0:d==="FALSE"?h[f][p]=!1:isNaN(_s(d))?isNaN(sc(d).getDate())?h[f][p]=d:h[f][p]=Rr(d):h[f][p]=_s(d))}function t(d,h){var f=h||{},p=[];if(!d||d.length===0)return p;for(var x=d.split(/[\r\n]/),m=x.length-1;m>=0&&x[m].length===0;)--m;for(var v=10,y=0,g=0;g<=m;++g)y=x[g].indexOf(" "),y==-1?y=x[g].length:y++,v=Math.max(v,y);for(g=0;g<=m;++g){p[g]=[];var w=0;for(e(x[g].slice(0,v).trim(),p,g,w,f),w=1;w<=(x[g].length-v)/10+1;++w)e(x[g].slice(v+(w-1)*10,v+w*10).trim(),p,g,w,f)}return f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var h={},f=!1,p=0,x=0;p<d.length;++p)(x=d.charCodeAt(p))==34?f=!f:!f&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&x.push([h[p],p]);if(!x.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&x.push([h[p],p])}return x.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[x.pop()[1]]||44}function i(d,h){var f=h||{},p="",x=f.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):f&&f.FS?p=f.FS:p=a(d.slice(0,1024));var v=0,y=0,g=0,w=0,b=0,k=p.charCodeAt(0),D=!1,j=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var L=f.dateNF!=null?rO(f.dateNF):null;function K(){var M=d.slice(w,b),Y={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)Y.t="z";else if(f.raw)Y.t="s",Y.v=M;else if(M.trim().length===0)Y.t="s",Y.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(Y.t="s",Y.v=M.slice(2,-1).replace(/""/g,'"')):IM(M)?(Y.t="n",Y.f=M.slice(1)):(Y.t="s",Y.v=M);else if(M=="TRUE")Y.t="b",Y.v=!0;else if(M=="FALSE")Y.t="b",Y.v=!1;else if(!isNaN(g=_s(M)))Y.t="n",f.cellText!==!1&&(Y.w=M),Y.v=g;else if(!isNaN(sc(M).getDate())||L&&M.match(L)){Y.z=f.dateNF||St[14];var z=0;L&&M.match(L)&&(M=nO(M,f.dateNF,M.match(L)||[]),z=1),f.cellDates?(Y.t="d",Y.v=Rr(M,z)):(Y.t="n",Y.v=zr(Rr(M,z))),f.cellText!==!1&&(Y.w=_a(Y.z,Y.v instanceof Date?zr(Y.v):Y.v)),f.cellNF||delete Y.z}else Y.t="s",Y.v=M;if(Y.t=="z"||(f.dense?(x[v]||(x[v]=[]),x[v][y]=Y):x[at({c:y,r:v})]=Y),w=b+1,T=d.charCodeAt(w),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),j==k)++y;else if(y=0,++v,f.sheetRows&&f.sheetRows<=v)return!0}e:for(;b<d.length;++b)switch(j=d.charCodeAt(b)){case 34:T===34&&(D=!D);break;case k:case 10:case 13:if(!D&&K())break e;break}return b-w>0&&K(),x["!ref"]=It(m),x}function o(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,h):Bo(t(d,h),h)}function l(d,h){var f="",p=h.type=="string"?[0,0,0,0]:JI(d,h);switch(h.type){case"base64":f=Ls(d);break;case"binary":f=d;break;case"buffer":h.codepage==65001?f=d.toString("utf8"):h.codepage&&typeof Od<"u"||(f=qe&&Buffer.isBuffer(d)?d.toString("binary"):jc(d));break;case"array":f=Lh(d);break;case"string":f=d;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?f=Tl(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=Tl(f):h.type=="binary"&&typeof Od<"u",f.slice(0,19)=="socialcalc:version:"?Ib.to_sheet(h.type=="string"?f:Tl(f),h):o(f,h)}function c(d,h){return Ni(l(d,h),h)}function u(d){for(var h=[],f=pt(d["!ref"]),p,x=Array.isArray(d),m=f.s.r;m<=f.e.r;++m){for(var v=[],y=f.s.c;y<=f.e.c;++y){var g=at({r:m,c:y});if(p=x?(d[m]||[])[y]:d[g],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(Is(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}h.push(v.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),gv=function(){function e(_,ee,Q){if(_){en(_,_.l||0);for(var G=Q.Enum||Z;_.l<_.length;){var U=_.read_shift(2),pe=G[U]||G[65535],ne=_.read_shift(2),H=_.l+ne,re=pe.f&&pe.f(_,ne,Q);if(_.l=H,ee(re,pe,U))return}}}function t(_,ee){switch(ee.type){case"base64":return r(Rn(Ls(_)),ee);case"binary":return r(Rn(_),ee);case"buffer":case"array":return r(_,ee)}throw"Unsupported type "+ee.type}function r(_,ee){if(!_)return _;var Q=ee||{},G=Q.dense?[]:{},U="Sheet1",pe="",ne=0,H={},re=[],C=[],A={s:{r:0,c:0},e:{r:0,c:0}},se=Q.sheetRows||0;if(_[2]==0&&(_[3]==8||_[3]==9)&&_.length>=16&&_[14]==5&&_[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(_[2]==2)Q.Enum=Z,e(_,function(we,ot,Et){switch(Et){case 0:Q.vers=we,we>=4096&&(Q.qpro=!0);break;case 6:A=we;break;case 204:we&&(pe=we);break;case 222:pe=we;break;case 15:case 51:Q.qpro||(we[1].v=we[1].v.slice(1));case 13:case 14:case 16:Et==14&&(we[2]&112)==112&&(we[2]&15)>1&&(we[2]&15)<15&&(we[1].z=Q.dateNF||St[14],Q.cellDates&&(we[1].t="d",we[1].v=tb(we[1].v))),Q.qpro&&we[3]>ne&&(G["!ref"]=It(A),H[U]=G,re.push(U),G=Q.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},ne=we[3],U=pe||"Sheet"+(ne+1),pe="");var fr=Q.dense?(G[we[0].r]||[])[we[0].c]:G[at(we[0])];if(fr){fr.t=we[1].t,fr.v=we[1].v,we[1].z!=null&&(fr.z=we[1].z),we[1].f!=null&&(fr.f=we[1].f);break}Q.dense?(G[we[0].r]||(G[we[0].r]=[]),G[we[0].r][we[0].c]=we[1]):G[at(we[0])]=we[1];break}},Q);else if(_[2]==26||_[2]==14)Q.Enum=ge,_[2]==14&&(Q.qpro=!0,_.l=0),e(_,function(we,ot,Et){switch(Et){case 204:U=we;break;case 22:we[1].v=we[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(we[3]>ne&&(G["!ref"]=It(A),H[U]=G,re.push(U),G=Q.dense?[]:{},A={s:{r:0,c:0},e:{r:0,c:0}},ne=we[3],U="Sheet"+(ne+1)),se>0&&we[0].r>=se)break;Q.dense?(G[we[0].r]||(G[we[0].r]=[]),G[we[0].r][we[0].c]=we[1]):G[at(we[0])]=we[1],A.e.c<we[0].c&&(A.e.c=we[0].c),A.e.r<we[0].r&&(A.e.r=we[0].r);break;case 27:we[14e3]&&(C[we[14e3][0]]=we[14e3][1]);break;case 1537:C[we[0]]=we[1],we[0]==ne&&(U=we[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+_[2]);if(G["!ref"]=It(A),H[pe||U]=G,re.push(pe||U),!C.length)return{SheetNames:re,Sheets:H};for(var he={},ve=[],Ee=0;Ee<C.length;++Ee)H[re[Ee]]?(ve.push(C[Ee]||re[Ee]),he[C[Ee]]=H[C[Ee]]||H[re[Ee]]):(ve.push(C[Ee]),he[C[Ee]]={"!ref":"A1"});return{SheetNames:ve,Sheets:he}}function n(_,ee){var Q=ee||{};if(+Q.codepage>=0&&rc(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Yr(),U=pt(_["!ref"]),pe=Array.isArray(_),ne=[];Ce(G,0,i(1030)),Ce(G,6,c(U));for(var H=Math.min(U.e.r,8191),re=U.s.r;re<=H;++re)for(var C=ur(re),A=U.s.c;A<=U.e.c;++A){re===U.s.r&&(ne[A]=jr(A));var se=ne[A]+C,he=pe?(_[re]||[])[A]:_[se];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Ce(G,13,p(re,A,he.v)):Ce(G,14,m(re,A,he.v));else{var ve=Is(he);Ce(G,15,h(re,A,ve.slice(0,239)))}}return Ce(G,1),G.end()}function a(_,ee){var Q=ee||{};if(+Q.codepage>=0&&rc(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Yr();Ce(G,0,o(_));for(var U=0,pe=0;U<_.SheetNames.length;++U)(_.Sheets[_.SheetNames[U]]||{})["!ref"]&&Ce(G,27,q(_.SheetNames[U],pe++));var ne=0;for(U=0;U<_.SheetNames.length;++U){var H=_.Sheets[_.SheetNames[U]];if(!(!H||!H["!ref"])){for(var re=pt(H["!ref"]),C=Array.isArray(H),A=[],se=Math.min(re.e.r,8191),he=re.s.r;he<=se;++he)for(var ve=ur(he),Ee=re.s.c;Ee<=re.e.c;++Ee){he===re.s.r&&(A[Ee]=jr(Ee));var we=A[Ee]+ve,ot=C?(H[he]||[])[Ee]:H[we];if(!(!ot||ot.t=="z"))if(ot.t=="n")Ce(G,23,K(he,Ee,ne,ot.v));else{var Et=Is(ot);Ce(G,22,j(he,Ee,ne,Et.slice(0,239)))}}++ne}}return Ce(G,1),G.end()}function i(_){var ee=fe(2);return ee.write_shift(2,_),ee}function o(_){var ee=fe(26);ee.write_shift(2,4096),ee.write_shift(2,4),ee.write_shift(4,0);for(var Q=0,G=0,U=0,pe=0;pe<_.SheetNames.length;++pe){var ne=_.SheetNames[pe],H=_.Sheets[ne];if(!(!H||!H["!ref"])){++U;var re=cn(H["!ref"]);Q<re.e.r&&(Q=re.e.r),G<re.e.c&&(G=re.e.c)}}return Q>8191&&(Q=8191),ee.write_shift(2,Q),ee.write_shift(1,U),ee.write_shift(1,G),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(1,1),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(4,0),ee}function l(_,ee,Q){var G={s:{c:0,r:0},e:{c:0,r:0}};return ee==8&&Q.qpro?(G.s.c=_.read_shift(1),_.l++,G.s.r=_.read_shift(2),G.e.c=_.read_shift(1),_.l++,G.e.r=_.read_shift(2),G):(G.s.c=_.read_shift(2),G.s.r=_.read_shift(2),ee==12&&Q.qpro&&(_.l+=2),G.e.c=_.read_shift(2),G.e.r=_.read_shift(2),ee==12&&Q.qpro&&(_.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function c(_){var ee=fe(8);return ee.write_shift(2,_.s.c),ee.write_shift(2,_.s.r),ee.write_shift(2,_.e.c),ee.write_shift(2,_.e.r),ee}function u(_,ee,Q){var G=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(G[0].c=_.read_shift(1),G[3]=_.read_shift(1),G[0].r=_.read_shift(2),_.l+=2):(G[2]=_.read_shift(1),G[0].c=_.read_shift(2),G[0].r=_.read_shift(2)),G}function d(_,ee,Q){var G=_.l+ee,U=u(_,ee,Q);if(U[1].t="s",Q.vers==20768){_.l++;var pe=_.read_shift(1);return U[1].v=_.read_shift(pe,"utf8"),U}return Q.qpro&&_.l++,U[1].v=_.read_shift(G-_.l,"cstr"),U}function h(_,ee,Q){var G=fe(7+Q.length);G.write_shift(1,255),G.write_shift(2,ee),G.write_shift(2,_),G.write_shift(1,39);for(var U=0;U<G.length;++U){var pe=Q.charCodeAt(U);G.write_shift(1,pe>=128?95:pe)}return G.write_shift(1,0),G}function f(_,ee,Q){var G=u(_,ee,Q);return G[1].v=_.read_shift(2,"i"),G}function p(_,ee,Q){var G=fe(7);return G.write_shift(1,255),G.write_shift(2,ee),G.write_shift(2,_),G.write_shift(2,Q,"i"),G}function x(_,ee,Q){var G=u(_,ee,Q);return G[1].v=_.read_shift(8,"f"),G}function m(_,ee,Q){var G=fe(13);return G.write_shift(1,255),G.write_shift(2,ee),G.write_shift(2,_),G.write_shift(8,Q,"f"),G}function v(_,ee,Q){var G=_.l+ee,U=u(_,ee,Q);if(U[1].v=_.read_shift(8,"f"),Q.qpro)_.l=G;else{var pe=_.read_shift(2);b(_.slice(_.l,_.l+pe),U),_.l+=pe}return U}function y(_,ee,Q){var G=ee&32768;return ee&=-32769,ee=(G?_:0)+(ee>=8192?ee-16384:ee),(G?"":"$")+(Q?jr(ee):ur(ee))}var g={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function b(_,ee){en(_,0);for(var Q=[],G=0,U="",pe="",ne="",H="";_.l<_.length;){var re=_[_.l++];switch(re){case 0:Q.push(_.read_shift(8,"f"));break;case 1:pe=y(ee[0].c,_.read_shift(2),!0),U=y(ee[0].r,_.read_shift(2),!1),Q.push(pe+U);break;case 2:{var C=y(ee[0].c,_.read_shift(2),!0),A=y(ee[0].r,_.read_shift(2),!1);pe=y(ee[0].c,_.read_shift(2),!0),U=y(ee[0].r,_.read_shift(2),!1),Q.push(C+A+":"+pe+U)}break;case 3:if(_.l<_.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(_.read_shift(2));break;case 6:{for(var se="";re=_[_.l++];)se+=String.fromCharCode(re);Q.push('"'+se.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:H=Q.pop(),ne=Q.pop(),Q.push(["AND","OR"][re-20]+"("+ne+","+H+")");break;default:if(re<32&&w[re])H=Q.pop(),ne=Q.pop(),Q.push(ne+w[re]+H);else if(g[re]){if(G=g[re][1],G==69&&(G=_[_.l++]),G>Q.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+Q.join("|")+"|");return}var he=Q.slice(-G);Q.length-=G,Q.push(g[re][0]+"("+he.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}Q.length==1?ee[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function k(_){var ee=[{c:0,r:0},{t:"n",v:0},0];return ee[0].r=_.read_shift(2),ee[3]=_[_.l++],ee[0].c=_[_.l++],ee}function D(_,ee){var Q=k(_);return Q[1].t="s",Q[1].v=_.read_shift(ee-4,"cstr"),Q}function j(_,ee,Q,G){var U=fe(6+G.length);U.write_shift(2,_),U.write_shift(1,Q),U.write_shift(1,ee),U.write_shift(1,39);for(var pe=0;pe<G.length;++pe){var ne=G.charCodeAt(pe);U.write_shift(1,ne>=128?95:ne)}return U.write_shift(1,0),U}function T(_,ee){var Q=k(_);Q[1].v=_.read_shift(2);var G=Q[1].v>>1;if(Q[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return Q[1].v=G,Q}function L(_,ee){var Q=k(_),G=_.read_shift(4),U=_.read_shift(4),pe=_.read_shift(2);if(pe==65535)return G===0&&U===3221225472?(Q[1].t="e",Q[1].v=15):G===0&&U===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var ne=pe&32768;return pe=(pe&32767)-16446,Q[1].v=(1-ne*2)*(U*Math.pow(2,pe+32)+G*Math.pow(2,pe)),Q}function K(_,ee,Q,G){var U=fe(14);if(U.write_shift(2,_),U.write_shift(1,Q),U.write_shift(1,ee),G==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var pe=0,ne=0,H=0,re=0;return G<0&&(pe=1,G=-G),ne=Math.log2(G)|0,G/=Math.pow(2,ne-31),re=G>>>0,re&2147483648||(G/=2,++ne,re=G>>>0),G-=re,re|=2147483648,re>>>=0,G*=Math.pow(2,32),H=G>>>0,U.write_shift(4,H),U.write_shift(4,re),ne+=16383+(pe?32768:0),U.write_shift(2,ne),U}function M(_,ee){var Q=L(_);return _.l+=ee-14,Q}function Y(_,ee){var Q=k(_),G=_.read_shift(4);return Q[1].v=G>>6,Q}function z(_,ee){var Q=k(_),G=_.read_shift(8,"f");return Q[1].v=G,Q}function de(_,ee){var Q=z(_);return _.l+=ee-10,Q}function X(_,ee){return _[_.l+ee-1]==0?_.read_shift(ee,"cstr"):""}function B(_,ee){var Q=_[_.l++];Q>ee-1&&(Q=ee-1);for(var G="";G.length<Q;)G+=String.fromCharCode(_[_.l++]);return G}function V(_,ee,Q){if(!(!Q.qpro||ee<21)){var G=_.read_shift(1);_.l+=17,_.l+=1,_.l+=2;var U=_.read_shift(ee-21,"cstr");return[G,U]}}function ae(_,ee){for(var Q={},G=_.l+ee;_.l<G;){var U=_.read_shift(2);if(U==14e3){for(Q[U]=[0,""],Q[U][0]=_.read_shift(2);_[_.l];)Q[U][1]+=String.fromCharCode(_[_.l]),_.l++;_.l++}}return Q}function q(_,ee){var Q=fe(5+_.length);Q.write_shift(2,14e3),Q.write_shift(2,ee);for(var G=0;G<_.length;++G){var U=_.charCodeAt(G);Q[Q.l++]=U>127?95:U}return Q[Q.l++]=0,Q}var Z={0:{n:"BOF",f:Ob},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:X},222:{n:"SHEETNAMELP",f:B},65535:{n:""}},ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ae},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Y},38:{n:"??"},39:{n:"NUMBER27",f:z},40:{n:"FORMULA28",f:de},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:X},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),$R=/^\s|\s$|[\t\n\r]/;function Bb(e,t){if(!t.bookSST)return"";var r=[Bt];r[r.length]=ke("sst",null,{xmlns:Io[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match($R)&&(i+=' xml:space="preserve"'),i+=">"+nt(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function UR(e){return[e.read_shift(4),e.read_shift(4)]}function VR(e,t){return t||(t=fe(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var WR=RO;function KR(e){var t=Yr();ye(t,159,VR(e));for(var r=0;r<e.length;++r)ye(t,19,WR(e[r]));return ye(t,160),t.end()}function YR(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Hb(e){var t=0,r,n=YR(e),a=n.length+1,i,o,l,c,u;for(r=hi(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)o=r[i],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var zR=function(){function e(a,i){switch(i.type){case"base64":return t(Ls(a),i);case"binary":return t(a,i);case"buffer":return t(qe&&Buffer.isBuffer(a)?a.toString("binary"):jc(a),i);case"array":return t(Lh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var o=i||{},l=o.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,h){Array.isArray(l)&&(l[h]=[]);for(var f=/\\\w+\b/g,p=0,x,m=-1;x=f.exec(d);){switch(x[0]){case"\\cell":var v=d.slice(p,f.lastIndex-x[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(l)?l[h][m]=y:l[at({r:h,c:m})]=y}break}p=f.lastIndex}m>u.e.c&&(u.e.c=m)}),l["!ref"]=It(u),l}function r(a,i){return Ni(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],o=pt(a["!ref"]),l,c=Array.isArray(a),u=o.s.r;u<=o.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var h=at({r:u,c:d});l=c?(a[u]||[])[d]:a[h],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(Is(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function yv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var qR=6,Ds=qR;function Ud(e){return Math.floor((e+Math.round(128/Ds)/256)*Ds)}function Vd(e){return Math.floor((e-5)/Ds*100+.5)/100}function gp(e){return Math.round((e*Ds+5)/Ds*256)/256}function Zm(e){e.width?(e.wpx=Ud(e.width),e.wch=Vd(e.wpx),e.MDW=Ds):e.wpx?(e.wch=Vd(e.wpx),e.width=gp(e.wch),e.MDW=Ds):typeof e.wch=="number"&&(e.width=gp(e.wch),e.wpx=Ud(e.width),e.MDW=Ds),e.customWidth&&delete e.customWidth}var QR=96,$b=QR;function Wd(e){return e*96/$b}function Ub(e){return e*$b/96}function GR(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ke("numFmt",null,{numFmtId:n,formatCode:nt(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ke("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function XR(e){var t=[];return t[t.length]=ke("cellXfs",null),e.forEach(function(r){t[t.length]=ke("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ke("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Vb(e,t){var r=[Bt,ke("styleSheet",null,{xmlns:Io[0],"xmlns:vt":Kt.vt})],n;return e.SSF&&(n=GR(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=XR(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function JR(e,t){var r=e.read_shift(2),n=Tr(e);return[r,n]}function ZR(e,t,r){r||(r=fe(6+4*t.length)),r.write_shift(2,e),zt(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function eM(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=$O(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=HO(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Tr(e),n}function tM(e,t){t||(t=fe(25+4*32)),t.write_shift(2,e.sz*20),UO(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Hd(e.color,t);var n=0;return n=2,t.write_shift(1,n),zt(e.name,t),t.length>t.l?t.slice(0,t.l):t}var rM=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Bf,nM=fs;function vv(e,t){t||(t=fe(4*3+8*7+16*1)),Bf||(Bf=$m(rM));var r=Bf[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Hd({auto:1},t),Hd({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function sM(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Wb(e,t,r){r||(r=fe(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function nl(e,t){return t||(t=fe(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var aM=fs;function iM(e,t){return t||(t=fe(51)),t.write_shift(1,0),nl(null,t),nl(null,t),nl(null,t),nl(null,t),nl(null,t),t.length>t.l?t.slice(0,t.l):t}function oM(e,t){return t||(t=fe(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Bd(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function lM(e,t,r){var n=fe(2052);return n.write_shift(4,e),Bd(t,n),Bd(r,n),n.length>n.l?n.slice(0,n.l):n}function cM(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ye(e,615,In(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ye(e,44,ZR(a,t[a]))}),ye(e,616))}}function uM(e){var t=1;ye(e,611,In(t)),ye(e,43,tM({sz:12,color:{theme:1},name:"Calibri",family:2})),ye(e,612)}function dM(e){var t=2;ye(e,603,In(t)),ye(e,45,vv({patternType:"none"})),ye(e,45,vv({patternType:"gray125"})),ye(e,604)}function hM(e){var t=1;ye(e,613,In(t)),ye(e,46,iM()),ye(e,614)}function fM(e){var t=1;ye(e,626,In(t)),ye(e,47,Wb({numFmtId:0},65535)),ye(e,627)}function pM(e,t){ye(e,617,In(t.length)),t.forEach(function(r){ye(e,47,Wb(r,0))}),ye(e,618)}function mM(e){var t=1;ye(e,619,In(t)),ye(e,48,oM({xfId:0,name:"Normal"})),ye(e,620)}function xM(e){var t=0;ye(e,505,In(t)),ye(e,506)}function gM(e){var t=0;ye(e,508,lM(t,"TableStyleMedium9","PivotStyleMedium4")),ye(e,509)}function yM(e,t){var r=Yr();return ye(r,278),cM(r,e.SSF),uM(r),dM(r),hM(r),fM(r),pM(r,t.cellXfs),mM(r),xM(r),gM(r),ye(r,279),r.end()}function Kb(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[Bt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function vM(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Tr(e)}}function wM(e){var t=fe(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),zt(e.name,t),t.slice(0,t.l)}function NM(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function bM(e){var t=fe(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function jM(e,t){var r=fe(8+2*t.length);return r.write_shift(4,e),zt(t,r),r.slice(0,r.l)}function TM(e){return e.l+=4,e.read_shift(4)!=0}function kM(e,t){var r=fe(8);return r.write_shift(4,e),r.write_shift(4,1),r}function SM(){var e=Yr();return ye(e,332),ye(e,334,In(1)),ye(e,335,wM({name:"XLDAPR",version:12e4,flags:3496657072})),ye(e,336),ye(e,339,jM(1,"XLDAPR")),ye(e,52),ye(e,35,In(514)),ye(e,4096,In(0)),ye(e,4097,mn(1)),ye(e,36),ye(e,53),ye(e,340),ye(e,337,kM(1)),ye(e,51,bM([[1,0]])),ye(e,338),ye(e,333),e.end()}function Yb(){var e=[Bt];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function CM(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=at(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var qi=1024;function zb(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ke("xml",null,{"xmlns:v":tn.v,"xmlns:o":tn.o,"xmlns:x":tn.x,"xmlns:mv":tn.mv}).replace(/\/>/,">"),ke("o:shapelayout",ke("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ke("v:shapetype",[ke("v:stroke",null,{joinstyle:"miter"}),ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];qi<e*1e3;)qi+=1e3;return t.forEach(function(i){var o=Yt(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ke("v:fill",c,l),d={on:"t",obscured:"t"};++qi,a=a.concat(["<v:shape"+ic({id:"_x0000_s"+qi,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ke("v:shadow",null,d),ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ir("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),ir("x:AutoFill","False"),ir("x:Row",String(o.r)),ir("x:Column",String(o.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function qb(e){var t=[Bt,ke("comments",null,{xmlns:Io[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=nt(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(nt(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ir("t",nt(i[0]||"")));else{for(var o=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)o+=`Reply:
    `+i[l]+`
`;t.push(ir("t",nt(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function EM(e,t,r){var n=[Bt,ke("ThreadedComments",null,{xmlns:Kt.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(ke("threadedComment",ir("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function _M(e){var t=[Bt,ke("personList",null,{xmlns:Kt.TCMNT,"xmlns:x":Io[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ke("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function DM(e){var t={};t.iauthor=e.read_shift(4);var r=ki(e);return t.rfx=r.s,t.ref=at(r.s),e.l+=16,t}function PM(e,t){return t==null&&(t=fe(36)),t.write_shift(4,e[1].iauthor),Ho(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var AM=Tr;function OM(e){return zt(e.slice(0,54))}function RM(e){var t=Yr(),r=[];return ye(t,628),ye(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ye(t,632,OM(a.a)))})}),ye(t,631),ye(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Yt(n[0]),e:Yt(n[0])};ye(t,635,PM([i,a])),a.t&&a.t.length>0&&ye(t,637,FO(a)),ye(t,636),delete a.iauthor})}),ye(t,634),ye(t,629),t.end()}function MM(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&it.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Qb=["xlsb","xlsm","xlam","biff8","xla"],FM=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,o){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=t.c:--d,c?u+=t.r:--u,a+(l?"":"$")+jr(d)+(c?"":"$")+ur(u)}return function(a,i){return t=i,a.replace(e,r)}}(),ex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,tx=function(){return function(t,r){return t.replace(ex,function(n,a,i,o,l,c){var u=qm(o)-(i?0:r.c),d=zm(c)-(l?0:r.r),h=d==0?"":l?d+1:"["+d+"]",f=u==0?"":i?u+1:"["+u+"]";return a+"R"+h+"C"+f})}}();function LM(e,t){return e.replace(ex,function(r,n,a,i,o,l){return n+(a=="$"?a+i:jr(qm(i)+t.c))+(o=="$"?o+l:ur(zm(l)+t.r))})}function IM(e){return e.length!=1}function Mt(e){e.l+=1}function Da(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Gb(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Xb(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),o=Da(e),l=Da(e);return{s:{r:a,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Xb(e){var t=Da(e),r=Da(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function BM(e,t,r){if(r.biff<8)return Xb(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Da(e),o=Da(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Jb(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return HM(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Da(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function HM(e){var t=Da(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function $M(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function UM(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return VM(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),o=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(o==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:o,rRel:l}}function VM(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function WM(e,t,r){var n=(e[e.l++]&96)>>5,a=Gb(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function KM(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var o=Gb(e,i,r);return[n,a,o]}function YM(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function zM(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function qM(e,t,r){var n=(e[e.l++]&96)>>5,a=BM(e,t-1,r);return[n,a]}function QM(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function wv(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function GM(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function XM(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function JM(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ZM(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function eF(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Zb(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function tF(e){return e.read_shift(2),Zb(e)}function rF(e){return e.read_shift(2),Zb(e)}function nF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Jb(e,0,r);return[n,a]}function sF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=UM(e,0,r);return[n,a]}function aF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Jb(e,0,r);return[n,a,i]}function iF(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[iL[a],rj[a],n]}function oF(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:lF(e);return[a,(i[0]===0?rj:aL)[i[1]]]}function lF(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function cF(e,t,r){e.l+=r&&r.biff==2?3:4}function uF(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dF(e){return e.l++,Sc[e.read_shift(1)]}function hF(e){return e.l++,e.read_shift(2)}function fF(e){return e.l++,e.read_shift(1)!==0}function pF(e){return e.l++,$o(e)}function mF(e,t,r){return e.l++,Mb(e,t-1,r)}function xF(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=aR(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Sc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=$o(e);break;case 2:r[1]=cR(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function gF(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?ki:hR)(e));return a}function yF(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,o=[];i!=n&&(o[i]=[]);++i)for(var l=0;l!=a;++l)o[i][l]=xF(e,r.biff);return o}function vF(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function wF(e,t,r){if(r.biff==5)return NF(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function NF(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function bF(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function jF(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function TF(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function kF(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var SF=fs,CF=fs,EF=fs;function Cc(e,t,r){return e.l+=2,[$M(e)]}function rx(e){return e.l+=6,[]}var _F=Cc,DF=rx,PF=rx,AF=Cc;function ej(e){return e.l+=2,[Ob(e),e.read_shift(2)&1]}var OF=Cc,RF=ej,MF=rx,FF=Cc,LF=Cc,IF=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function BF(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),o=IF[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:a,C:i}}function HF(e){return e.l+=2,[e.read_shift(4)]}function $F(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function UF(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function VF(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function WF(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function KF(e){return e.l+=4,[0,0]}var Nv={1:{n:"PtgExp",f:uF},2:{n:"PtgTbl",f:EF},3:{n:"PtgAdd",f:Mt},4:{n:"PtgSub",f:Mt},5:{n:"PtgMul",f:Mt},6:{n:"PtgDiv",f:Mt},7:{n:"PtgPower",f:Mt},8:{n:"PtgConcat",f:Mt},9:{n:"PtgLt",f:Mt},10:{n:"PtgLe",f:Mt},11:{n:"PtgEq",f:Mt},12:{n:"PtgGe",f:Mt},13:{n:"PtgGt",f:Mt},14:{n:"PtgNe",f:Mt},15:{n:"PtgIsect",f:Mt},16:{n:"PtgUnion",f:Mt},17:{n:"PtgRange",f:Mt},18:{n:"PtgUplus",f:Mt},19:{n:"PtgUminus",f:Mt},20:{n:"PtgPercent",f:Mt},21:{n:"PtgParen",f:Mt},22:{n:"PtgMissArg",f:Mt},23:{n:"PtgStr",f:mF},26:{n:"PtgSheet",f:$F},27:{n:"PtgEndSheet",f:UF},28:{n:"PtgErr",f:dF},29:{n:"PtgBool",f:fF},30:{n:"PtgInt",f:hF},31:{n:"PtgNum",f:pF},32:{n:"PtgArray",f:QM},33:{n:"PtgFunc",f:iF},34:{n:"PtgFuncVar",f:oF},35:{n:"PtgName",f:vF},36:{n:"PtgRef",f:nF},37:{n:"PtgArea",f:WM},38:{n:"PtgMemArea",f:bF},39:{n:"PtgMemErr",f:SF},40:{n:"PtgMemNoMem",f:CF},41:{n:"PtgMemFunc",f:jF},42:{n:"PtgRefErr",f:TF},43:{n:"PtgAreaErr",f:YM},44:{n:"PtgRefN",f:sF},45:{n:"PtgAreaN",f:qM},46:{n:"PtgMemAreaN",f:VF},47:{n:"PtgMemNoMemN",f:WF},57:{n:"PtgNameX",f:wF},58:{n:"PtgRef3d",f:aF},59:{n:"PtgArea3d",f:KM},60:{n:"PtgRefErr3d",f:kF},61:{n:"PtgAreaErr3d",f:zM},255:{}},YF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zF={1:{n:"PtgElfLel",f:ej},2:{n:"PtgElfRw",f:FF},3:{n:"PtgElfCol",f:_F},6:{n:"PtgElfRwV",f:LF},7:{n:"PtgElfColV",f:AF},10:{n:"PtgElfRadical",f:OF},11:{n:"PtgElfRadicalS",f:MF},13:{n:"PtgElfColS",f:DF},15:{n:"PtgElfColSV",f:PF},16:{n:"PtgElfRadicalLel",f:RF},25:{n:"PtgList",f:BF},29:{n:"PtgSxName",f:HF},255:{}},qF={0:{n:"PtgAttrNoop",f:KF},1:{n:"PtgAttrSemi",f:eF},2:{n:"PtgAttrIf",f:JM},4:{n:"PtgAttrChoose",f:GM},8:{n:"PtgAttrGoto",f:XM},16:{n:"PtgAttrSum",f:cF},32:{n:"PtgAttrBaxcel",f:wv},33:{n:"PtgAttrBaxcel",f:wv},64:{n:"PtgAttrSpace",f:tF},65:{n:"PtgAttrSpaceSemi",f:rF},128:{n:"PtgAttrIfError",f:ZM},255:{}};function QF(e,t,r,n){if(n.biff<8)return fs(e,t);for(var a=e.l+t,i=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=yF(e,0,n),i.push(r[o][1]);break;case"PtgMemArea":r[o][2]=gF(e,r[o][1],n),i.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),i.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=a-e.l,t!==0&&i.push(fs(e,t)),i}function GF(e,t,r){for(var n=e.l+t,a,i,o=[];n!=e.l;)t=n-e.l,i=e[e.l],a=Nv[i]||Nv[YF[i]],(i===24||i===25)&&(a=(i===24?zF:qF)[e[e.l+1]]),!a||!a.f?fs(e,t):o.push([a.n,a.f(e,t,r)]);return o}function XF(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var o=n[i];if(o)switch(o[0]){case 2:a.push('"'+o[1].replace(/"/g,'""')+'"');break;default:a.push(o[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var JF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ZF(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function tj(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function bv(e,t,r){var n=tj(e,t,r);return n=="#REF"?n:ZF(n,r)}function _o(e,t,r,n,a){var i=a&&a.biff||8,o={s:{c:0,r:0}},l=[],c,u,d,h=0,f=0,p,x="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,g=e[0].length;y<g;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=kt(" ",e[0][m][1][1]);break;case 1:v=kt("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}u=u+v,m=-1}l.push(u+JF[w[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Sl(w[1][1],o,a),l.push(Cl(d,i));break;case"PtgRefN":d=r?Sl(w[1][1],r,a):w[1][1],l.push(Cl(d,i));break;case"PtgRef3d":h=w[1][1],d=Sl(w[1][2],o,a),x=bv(n,h,a),l.push(x+"!"+Cl(d,i));break;case"PtgFunc":case"PtgFuncVar":var b=w[1][0],k=w[1][1];b||(b=0),b&=127;var D=b==0?[]:l.slice(-b);l.length-=b,k==="User"&&(k=D.shift()),l.push(k+"("+D.join(",")+")");break;case"PtgBool":l.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(w[1]);break;case"PtgNum":l.push(String(w[1]));break;case"PtgStr":l.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(w[1]);break;case"PtgAreaN":p=iv(w[1][1],r?{s:r}:o,a),l.push(Lf(p,a));break;case"PtgArea":p=iv(w[1][1],o,a),l.push(Lf(p,a));break;case"PtgArea3d":h=w[1][1],p=w[1][2],x=bv(n,h,a),l.push(x+"!"+Lf(p,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=w[1][2];var j=(n.names||[])[f-1]||(n[0]||[])[f],T=j?j.Name:"SH33TJSNAME"+String(f);T&&T.slice(0,6)=="_xlfn."&&!a.xlfn&&(T=T.slice(6)),l.push(T);break;case"PtgNameX":var L=w[1][1];f=w[1][2];var K;if(a.biff<=5)L<0&&(L=-L),n[L]&&(K=n[L][f]);else{var M="";if(((n[L]||[])[0]||[])[0]==14849||(((n[L]||[])[0]||[])[0]==1025?n[L][f]&&n[L][f].itab>0&&(M=n.SheetNames[n[L][f].itab-1]+"!"):M=n.SheetNames[f-1]+"!"),n[L]&&n[L][f])M+=n[L][f].Name;else if(n[0]&&n[0][f])M+=n[0][f].Name;else{var Y=(tj(n,L,a)||"").split(";;");Y[f-1]?M=Y[f-1]:M+="SH33TJSERRX"}l.push(M);break}K||(K={Name:"SH33TJSERRY"}),l.push(K.Name);break;case"PtgParen":var z="(",de=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:z=kt(" ",e[0][m][1][1])+z;break;case 3:z=kt("\r",e[0][m][1][1])+z;break;case 4:de=kt(" ",e[0][m][1][1])+de;break;case 5:de=kt("\r",e[0][m][1][1])+de;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}l.push(z+l.pop()+de);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var X={c:r.c,r:r.r};if(n.sharedf[at(d)]){var B=n.sharedf[at(d)];l.push(_o(B,o,X,n,a))}else{var V=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(_o(u[1],o,X,n,a)),V=!0;break}V||l.push(w[1])}break;case"PtgArray":l.push("{"+XF(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var ae=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&ae.indexOf(e[0][y][0])==-1){w=e[0][m];var q=!0;switch(w[1][0]){case 4:q=!1;case 0:v=kt(" ",w[1][1]);break;case 5:q=!1;case 1:v=kt("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}l.push((q?v:"")+l.pop()+(q?"":v)),m=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function eL(e){if(e==null){var t=fe(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return fi(e);return fi(0)}function tL(e,t,r,n,a){var i=pi(t,r,a),o=eL(e.v),l=fe(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=fe(e.bf.length),d=0;d<e.bf.length;++d)u[d]=e.bf[d];var h=ar([i,o,l,u]);return h}function Ih(e,t,r){var n=e.read_shift(4),a=GF(e,n,r),i=e.read_shift(4),o=i>0?QF(e,i,a,r):null;return[a,o]}var rL=Ih,Bh=Ih,nL=Ih,sL=Ih,aL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},rj={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},iL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function oL(e){var t="of:="+e.replace(ex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function lL(e){return e.replace(/\./,"!")}var El=typeof Map<"u";function nx(e,t,r){var n=0,a=e.length;if(r){if(El?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=El?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(El?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Hh(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Ds=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Vd(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=gp(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function nj(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function La(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){J2(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function cL(e,t,r){if(e&&e["!ref"]){var n=pt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function uL(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+It(e[r])+'"/>';return t+"</mergeCells>"}function dL(e,t,r,n,a){var i=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,o.codeName=ac(nt(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+ke("outlinePr",null,u)}!i&&!l||(a[a.length]=ke("sheetPr",l,o))}var hL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],fL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function pL(e){var t={sheet:1};return hL.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),fL.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=Hb(e.password).toString(16).toUpperCase()),ke("sheetProtection",null,t)}function mL(e){return nj(e),ke("pageMargins",null,e)}function xL(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ke("col",null,Hh(a,n)));return r[r.length]="</cols>",r.join("")}function gL(e,t,r,n){var a=typeof e.ref=="string"?e.ref:It(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=cn(a);o.s.r==o.e.r&&(o.e.r=cn(t["!ref"]).e.r,a=It(o));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ke("autoFilter",null,{ref:a})}function yL(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ke("sheetViews",ke("sheetView",null,a),{})}function vL(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Sc[e.v];break;case"d":n&&n.cellDates?a=Rr(e.v,-1).toISOString():(e=qr(e),e.t="n",a=""+(e.v=zr(Rr(e.v)))),typeof e.z>"u"&&(e.z=St[14]);break;default:a=e.v;break}var l=ir("v",nt(a)),c={r:t},u=La(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=ir("v",""+nx(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=o),typeof e.f=="string"&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=ke("f",nt(e.f),d)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ke("c",l,c)}function wL(e,t,r,n){var a=[],i=[],o=pt(e["!ref"]),l="",c,u="",d=[],h=0,f=0,p=e["!rows"],x=Array.isArray(e),m={r:u},v,y=-1;for(f=o.s.c;f<=o.e.c;++f)d[f]=jr(f);for(h=o.s.r;h<=o.e.r;++h){for(i=[],u=ur(h),f=o.s.c;f<=o.e.c;++f){c=d[f]+u;var g=x?(e[h]||[])[f]:e[c];g!==void 0&&(l=vL(g,c,e,t))!=null&&i.push(l)}(i.length>0||p&&p[h])&&(m={r:u},p&&p[h]&&(v=p[h],v.hidden&&(m.hidden=1),y=-1,v.hpx?y=Wd(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(m.ht=y,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),a[a.length]=ke("row",i.join(""),m))}if(p)for(;h<p.length;++h)p&&p[h]&&(m={r:h+1},v=p[h],v.hidden&&(m.hidden=1),y=-1,v.hpx?y=Wd(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(m.ht=y,m.customHeight=1),v.level&&(m.outlineLevel=v.level),a[a.length]=ke("row","",m));return a.join("")}function sj(e,t,r,n){var a=[Bt,ke("worksheet",null,{xmlns:Io[0],"xmlns:r":Kt.r})],i=r.SheetNames[e],o=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=pt(u);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=It(d)}n||(n={}),c["!comments"]=[];var h=[];dL(c,r,e,t,a),a[a.length]=ke("dimension",null,{ref:u}),a[a.length]=yL(c,t,e,r),t.sheetFormat&&(a[a.length]=ke("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=xL(c,c["!cols"])),a[o=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=wL(c,t),l.length>0&&(a[a.length]=l)),a.length>o+1&&(a[a.length]="</sheetData>",a[o]=a[o].replace("/>",">")),c["!protect"]&&(a[a.length]=pL(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=gL(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=uL(c["!merges"]));var f=-1,p,x=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(x=Ze(n,-1,nt(m[1].Target).replace(/#.*$/,""),Ye.HLINK),p["r:id"]="rId"+x),(f=m[1].Target.indexOf("#"))>-1&&(p.location=nt(m[1].Target.slice(f+1))),m[1].Tooltip&&(p.tooltip=nt(m[1].Tooltip)),a[a.length]=ke("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=mL(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ir("ignoredErrors",ke("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(x=Ze(n,-1,"../drawings/drawing"+(e+1)+".xml",Ye.DRAW),a[a.length]=ke("drawing",null,{"r:id":"rId"+x}),c["!drawing"]=h),c["!comments"].length>0&&(x=Ze(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ye.VML),a[a.length]=ke("legacyDrawing",null,{"r:id":"rId"+x}),c["!legacy"]=x),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function NL(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function bL(e,t,r){var n=fe(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Wd(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var o=0;a.level&&(o|=a.level),a.hidden&&(o|=16),(a.hpx||a.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var h=-1,f=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[at(u)];x&&(h<0&&(h=p),f=p)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,f))}var m=n.l;return n.l=c,n.write_shift(4,l),n.l=m,n.length>n.l?n.slice(0,n.l):n}function jL(e,t,r,n){var a=bL(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ye(e,0,a)}var TL=ki,kL=Ho;function SL(){}function CL(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=LO(e),r}function EL(e,t,r){r==null&&(r=fe(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Hd({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),vb(e,r),r.slice(0,r.l)}function _L(e){var t=Sn(e);return[t]}function DL(e,t,r){return r==null&&(r=fe(8)),bi(t,r)}function PL(e){var t=ji(e);return[t]}function AL(e,t,r){return r==null&&(r=fe(4)),Ti(t,r)}function OL(e){var t=Sn(e),r=e.read_shift(1);return[t,r,"b"]}function RL(e,t,r){return r==null&&(r=fe(9)),bi(t,r),r.write_shift(1,e.v?1:0),r}function ML(e){var t=ji(e),r=e.read_shift(1);return[t,r,"b"]}function FL(e,t,r){return r==null&&(r=fe(5)),Ti(t,r),r.write_shift(1,e.v?1:0),r}function LL(e){var t=Sn(e),r=e.read_shift(1);return[t,r,"e"]}function IL(e,t,r){return r==null&&(r=fe(9)),bi(t,r),r.write_shift(1,e.v),r}function BL(e){var t=ji(e),r=e.read_shift(1);return[t,r,"e"]}function HL(e,t,r){return r==null&&(r=fe(8)),Ti(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function $L(e){var t=Sn(e),r=e.read_shift(4);return[t,r,"s"]}function UL(e,t,r){return r==null&&(r=fe(12)),bi(t,r),r.write_shift(4,t.v),r}function VL(e){var t=ji(e),r=e.read_shift(4);return[t,r,"s"]}function WL(e,t,r){return r==null&&(r=fe(8)),Ti(t,r),r.write_shift(4,t.v),r}function KL(e){var t=Sn(e),r=$o(e);return[t,r,"n"]}function YL(e,t,r){return r==null&&(r=fe(16)),bi(t,r),fi(e.v,r),r}function zL(e){var t=ji(e),r=$o(e);return[t,r,"n"]}function qL(e,t,r){return r==null&&(r=fe(12)),Ti(t,r),fi(e.v,r),r}function QL(e){var t=Sn(e),r=wb(e);return[t,r,"n"]}function GL(e,t,r){return r==null&&(r=fe(12)),bi(t,r),Nb(e.v,r),r}function XL(e){var t=ji(e),r=wb(e);return[t,r,"n"]}function JL(e,t,r){return r==null&&(r=fe(8)),Ti(t,r),Nb(e.v,r),r}function ZL(e){var t=Sn(e),r=Qm(e);return[t,r,"is"]}function e8(e){var t=Sn(e),r=Tr(e);return[t,r,"str"]}function t8(e,t,r){return r==null&&(r=fe(12+4*e.v.length)),bi(t,r),zt(e.v,r),r.length>r.l?r.slice(0,r.l):r}function r8(e){var t=ji(e),r=Tr(e);return[t,r,"str"]}function n8(e,t,r){return r==null&&(r=fe(8+4*e.v.length)),Ti(t,r),zt(e.v,r),r.length>r.l?r.slice(0,r.l):r}function s8(e,t,r){var n=e.l+t,a=Sn(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"b"];if(r.cellFormula){e.l+=2;var l=Bh(e,n-e.l,r);o[3]=_o(l,null,a,r.supbooks,r)}else e.l=n;return o}function a8(e,t,r){var n=e.l+t,a=Sn(e);a.r=r["!row"];var i=e.read_shift(1),o=[a,i,"e"];if(r.cellFormula){e.l+=2;var l=Bh(e,n-e.l,r);o[3]=_o(l,null,a,r.supbooks,r)}else e.l=n;return o}function i8(e,t,r){var n=e.l+t,a=Sn(e);a.r=r["!row"];var i=$o(e),o=[a,i,"n"];if(r.cellFormula){e.l+=2;var l=Bh(e,n-e.l,r);o[3]=_o(l,null,a,r.supbooks,r)}else e.l=n;return o}function o8(e,t,r){var n=e.l+t,a=Sn(e);a.r=r["!row"];var i=Tr(e),o=[a,i,"str"];if(r.cellFormula){e.l+=2;var l=Bh(e,n-e.l,r);o[3]=_o(l,null,a,r.supbooks,r)}else e.l=n;return o}var l8=ki,c8=Ho;function u8(e,t){return t==null&&(t=fe(4)),t.write_shift(4,e),t}function d8(e,t){var r=e.l+t,n=ki(e),a=Gm(e),i=Tr(e),o=Tr(e),l=Tr(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:l};return o&&(c.Tooltip=o),c}function h8(e,t){var r=fe(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Ho({s:Yt(e[0]),e:Yt(e[0])},r),Xm("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return zt(a||"",r),zt(e[1].Tooltip||"",r),zt("",r),r.slice(0,r.l)}function f8(){}function p8(e,t,r){var n=e.l+t,a=bb(e),i=e.read_shift(1),o=[a];if(o[2]=i,r.cellFormula){var l=rL(e,n-e.l,r);o[1]=l}else e.l=n;return o}function m8(e,t,r){var n=e.l+t,a=ki(e),i=[a];if(r.cellFormula){var o=sL(e,n-e.l,r);i[1]=o,e.l=n}else e.l=n;return i}function x8(e,t,r){r==null&&(r=fe(18));var n=Hh(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var aj=["left","right","top","bottom","header","footer"];function g8(e){var t={};return aj.forEach(function(r){t[r]=$o(e)}),t}function y8(e,t){return t==null&&(t=fe(6*8)),nj(e),aj.forEach(function(r){fi(e[r],t)}),t}function v8(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function w8(e,t,r){r==null&&(r=fe(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function N8(e){var t=fe(24);return t.write_shift(4,4),t.write_shift(4,1),Ho(e,t),t}function b8(e,t){return t==null&&(t=fe(16*4+2)),t.write_shift(2,e.password?Hb(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function j8(){}function T8(){}function k8(e,t,r,n,a,i,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=qr(t),t.z=t.z||St[14],t.v=zr(Rr(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=La(a.cellXfs,t,a),t.l&&i["!links"].push([at(c),t.l]),t.c&&i["!comments"].push([at(c),t.c]),t.t){case"s":case"str":return a.bookSST?(l=nx(a.Strings,t.v,a.revStrings),c.t="s",c.v=l,o?ye(e,18,WL(t,c)):ye(e,7,UL(t,c))):(c.t="str",o?ye(e,17,n8(t,c)):ye(e,6,t8(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?ye(e,13,JL(t,c)):ye(e,2,GL(t,c)):o?ye(e,16,qL(t,c)):ye(e,5,YL(t,c)),!0;case"b":return c.t="b",o?ye(e,15,FL(t,c)):ye(e,4,RL(t,c)),!0;case"e":return c.t="e",o?ye(e,14,HL(t,c)):ye(e,3,IL(t,c)),!0}return o?ye(e,12,AL(t,c)):ye(e,1,DL(t,c)),!0}function S8(e,t,r,n){var a=pt(t["!ref"]||"A1"),i,o="",l=[];ye(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=u;++d){o=ur(d),jL(e,t,a,d);var h=!1;if(d<=a.e.r)for(var f=a.s.c;f<=a.e.c;++f){d===a.s.r&&(l[f]=jr(f)),i=l[f]+o;var p=c?(t[d]||[])[f]:t[i];if(!p){h=!1;continue}h=k8(e,p,d,f,n,t,h)}}ye(e,146)}function C8(e,t){!t||!t["!merges"]||(ye(e,177,u8(t["!merges"].length)),t["!merges"].forEach(function(r){ye(e,176,c8(r))}),ye(e,178))}function E8(e,t){!t||!t["!cols"]||(ye(e,390),t["!cols"].forEach(function(r,n){r&&ye(e,60,x8(n,r))}),ye(e,391))}function _8(e,t){!t||!t["!ref"]||(ye(e,648),ye(e,649,N8(pt(t["!ref"]))),ye(e,650))}function D8(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Ze(r,-1,n[1].Target.replace(/#.*$/,""),Ye.HLINK);ye(e,494,h8(n,a))}}),delete t["!links"]}function P8(e,t,r,n){if(t["!comments"].length>0){var a=Ze(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ye.VML);ye(e,551,Xm("rId"+a)),t["!legacy"]=a}}function A8(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:It(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=cn(i);l.s.r==l.e.r&&(l.e.r=cn(t["!ref"]).e.r,i=It(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ye(e,161,Ho(pt(i))),ye(e,162)}}function O8(e,t,r){ye(e,133),ye(e,137,w8(t,r)),ye(e,138),ye(e,134)}function R8(e,t){t["!protect"]&&ye(e,535,b8(t["!protect"]))}function M8(e,t,r,n){var a=Yr(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=pt(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ye(a,129),(r.vbaraw||o["!outline"])&&ye(a,147,EL(l,o["!outline"])),ye(a,148,kL(c)),O8(a,o,r.Workbook),E8(a,o),S8(a,o,e,t),R8(a,o),A8(a,o,r,e),C8(a,o),D8(a,o,n),o["!margins"]&&ye(a,476,y8(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&_8(a,o),P8(a,o,e,n),ye(a,130),a.end()}function F8(e,t){e.l+=10;var r=Tr(e);return{name:r}}var L8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function I8(e){return!e.Workbook||!e.Workbook.WBProps?"false":mO(e.Workbook.WBProps.date1904)?"true":"false"}var B8="][*?/\\".split("");function ij(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return B8.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function H8(e,t,r){e.forEach(function(n,a){ij(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[a]&&t[a].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function $8(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];H8(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)cL(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function oj(e){var t=[Bt];t[t.length]=ke("workbook",null,{xmlns:Io[0],"xmlns:r":Kt.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(L8.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ke("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var o={name:nt(e.SheetNames[i].slice(0,31))};if(o.sheetId=""+(i+1),o["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=ke("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=ke("definedName",nt(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function U8(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=xp(e),r.name=Tr(e),r}function V8(e,t){return t||(t=fe(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Xm(e.strRelID,t),zt(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function W8(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Tr(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function K8(e,t){t||(t=fe(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),vb(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Y8(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=IO(e),o=nL(e,0,r),l=Gm(e);e.l=n;var c={Name:i,Ptg:o};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function z8(e,t){ye(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ye(e,156,V8(a))}ye(e,144)}function q8(e,t){t||(t=fe(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return zt("SheetJS",t),zt(Ad.version,t),zt(Ad.version,t),zt("7262",t),t.length>t.l?t.slice(0,t.l):t}function Q8(e,t){t||(t=fe(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function G8(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ye(e,135),ye(e,158,Q8(a)),ye(e,136))}}function X8(e,t){var r=Yr();return ye(r,131),ye(r,128,q8()),ye(r,153,K8(e.Workbook&&e.Workbook.WBProps||null)),G8(r,e),z8(r,e),ye(r,132),r.end()}function J8(e,t,r){return(t.slice(-4)===".bin"?X8:oj)(e)}function Z8(e,t,r,n,a){return(t.slice(-4)===".bin"?M8:sj)(e,r,n,a)}function eI(e,t,r){return(t.slice(-4)===".bin"?yM:Vb)(e,r)}function tI(e,t,r){return(t.slice(-4)===".bin"?KR:Bb)(e,r)}function rI(e,t,r){return(t.slice(-4)===".bin"?RM:qb)(e)}function nI(e){return(e.slice(-4)===".bin"?SM:Yb)()}function sI(e,t){var r=[];return e.Props&&r.push(eR(e.Props,t)),e.Custprops&&r.push(tR(e.Props,e.Custprops)),r.join("")}function aI(){return""}function iI(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ke("NumberFormat",null,{"ss:Format":nt(St[n.numFmtId])}));var o={"ss:ID":"s"+(21+a)};r.push(ke("Style",i.join(""),o))}),ke("Styles",r.join(""))}function lj(e){return ke("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+tx(e.Ref,{r:0,c:0})})}function oI(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(lj(a)))}return ke("Names",r.join(""))}function lI(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],o=0;o<a.length;++o){var l=a[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(lj(l)))}return i.join("")}function cI(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ke("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ke("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ke("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ke("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ir("ProtectContents","True")),e["!protect"].objects&&a.push(ir("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ir("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ir("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ir("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&a.push("<"+o[1]+"/>")})),a.length==0?"":ke("WorksheetOptions",a.join(""),{xmlns:tn.x})}function uI(e){return e.map(function(t){var r=pO(t.t||""),n=ke("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ke("Comment",n,{"ss:Author":t.a})}).join("")}function dI(e,t,r,n,a,i,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+nt(tx(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Yt(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=nt(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=nt(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=o.c||u[d].s.r!=o.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",f="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=Sc[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||St[14]);break;case"s":h="String",f=fO(e.v||"");break}var p=La(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+p),l["ss:Index"]=o.c+1;var x=e.v!=null?f:"",m=e.t=="z"?"":'<Data ss:Type="'+h+'">'+x+"</Data>";return(e.c||[]).length>0&&(m+=uI(e.c)),ke("Cell",m,l)}function hI(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Ub(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function fI(e,t,r,n){if(!e["!ref"])return"";var a=pt(e["!ref"]),i=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(v,y){Zm(v);var g=!!v.width,w=Hh(y,v),b={"ss:Index":y+1};g&&(b["ss:Width"]=Ud(w.width)),v.hidden&&(b["ss:Hidden"]="1"),l.push(ke("Column",null,b))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var d=[hI(u,(e["!rows"]||[])[u])],h=a.s.c;h<=a.e.c;++h){var f=!1;for(o=0;o!=i.length;++o)if(!(i[o].s.c>h)&&!(i[o].s.r>u)&&!(i[o].e.c<h)&&!(i[o].e.r<u)){(i[o].s.c!=h||i[o].s.r!=u)&&(f=!0);break}if(!f){var p={r:u,c:h},x=at(p),m=c?(e[u]||[])[h]:e[x];d.push(dI(m,x,e,t,r,n,p))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function pI(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],o=i?lI(i,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=i?fI(i,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(cI(i,t,e,r)),n.join("")}function mI(e,t){t||(t={}),e.SSF||(e.SSF=qr(St)),e.SSF&&(Mh(),Rh(e.SSF),t.revssf=Fh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],La(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(sI(e,t)),r.push(aI()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ke("Worksheet",pI(n,t,e),{"ss:Name":nt(e.SheetNames[n])}));return r[2]=iI(e,t),r[3]=oI(e),Bt+ke("Workbook",r.join(""),{xmlns:tn.ss,"xmlns:o":tn.o,"xmlns:x":tn.x,"xmlns:ss":tn.ss,"xmlns:dt":tn.dt,"xmlns:html":tn.html})}var Hf={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function xI(e,t){var r=[],n=[],a=[],i=0,o,l=Qy(lv,"n"),c=Qy(cv,"n");if(e.Props)for(o=hr(e.Props),i=0;i<o.length;++i)(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Props[o[i]]]);if(e.Custprops)for(o=hr(e.Custprops),i=0;i<o.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},o[i])||(Object.prototype.hasOwnProperty.call(l,o[i])?r:Object.prototype.hasOwnProperty.call(c,o[i])?n:a).push([o[i],e.Custprops[o[i]]]);var u=[];for(i=0;i<a.length;++i)Ab.indexOf(a[i][0])>-1||_b.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&it.utils.cfb_add(t,"/SummaryInformation",pv(n,Hf.SI,c,cv)),(r.length||u.length)&&it.utils.cfb_add(t,"/DocumentSummaryInformation",pv(r,Hf.DSI,l,lv,u.length?u:null,Hf.UDI))}function gI(e,t){var r=t||{},n=it.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return it.utils.cfb_add(n,a,cj(e,r)),r.biff==8&&(e.Props||e.Custprops)&&xI(e,n),r.biff==8&&e.vbaraw&&MM(n,it.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var yI={0:{f:NL},1:{f:_L},2:{f:QL},3:{f:LL},4:{f:OL},5:{f:KL},6:{f:e8},7:{f:$L},8:{f:o8},9:{f:i8},10:{f:s8},11:{f:a8},12:{f:PL},13:{f:XL},14:{f:BL},15:{f:ML},16:{f:zL},17:{f:r8},18:{f:VL},19:{f:Qm},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Y8},40:{},42:{},43:{f:eM},44:{f:JR},45:{f:nM},46:{f:aM},47:{f:sM},48:{},49:{f:PO},50:{},51:{f:NM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:AR},62:{f:ZL},63:{f:CM},64:{f:j8},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:v8},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:CL},148:{f:TL,p:16},151:{f:f8},152:{},153:{f:W8},154:{},155:{},156:{f:U8},157:{},158:{},159:{T:1,f:UR},160:{T:-1},161:{T:1,f:ki},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:l8},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vM},336:{T:-1},337:{f:TM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:xp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:SR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:p8},427:{f:m8},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:g8},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:SL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:d8},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:xp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:AM},633:{T:1},634:{T:-1},635:{T:1,f:DM},636:{T:-1},637:{f:MO},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:F8},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:T8},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ce(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,a),o.write_shift(2,i),i>0&&Ym(r)&&e.push(r)}}function vI(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Ce(e,t,r,a);var i=t;if(!isNaN(i)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,i),d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(d=e.next(4),d.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;d.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Ec(e,t,r){return e||(e=fe(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function wI(e,t,r,n){var a=fe(9);return Ec(a,e,t),Rb(r,n||"b",a),a}function NI(e,t,r){var n=fe(8+2*r.length);return Ec(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function bI(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?zr(Rr(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ce(e,2,FR(r,n,a)):Ce(e,3,MR(r,n,a));return;case"b":case"e":Ce(e,5,wI(r,n,t.v,t.t));return;case"s":case"str":Ce(e,4,NI(r,n,(t.v||"").slice(0,255)));return}Ce(e,1,Ec(null,r,n))}function jI(e,t,r,n){var a=Array.isArray(t),i=pt(t["!ref"]||"A1"),o,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),o=It(i)}for(var u=i.s.r;u<=i.e.r;++u){l=ur(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=jr(d)),o=c[d]+l;var h=a?(t[u]||[])[d]:t[o];h&&bI(e,h,u,d)}}}function TI(e,t){for(var r=t||{},n=Yr(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Ce(n,r.biff==4?1033:r.biff==3?521:9,Jm(e,16,r)),jI(n,e.Sheets[e.SheetNames[a]],a,r),Ce(n,10),n.end()}function kI(e,t,r){Ce(e,49,yR({sz:12,name:"Arial"},r))}function SI(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ce(e,1054,NR(a,t[a],r))})}function CI(e,t){var r=fe(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Ce(e,2151,r),r=fe(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Lb(pt(t["!ref"]||"A1"),r),r.write_shift(4,4),Ce(e,2152,r)}function EI(e,t){for(var r=0;r<16;++r)Ce(e,224,xv({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Ce(e,224,xv(n,0,t))})}function _I(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Ce(e,440,_R(n)),n[1].Tooltip&&Ce(e,2048,DR(n))}delete t["!links"]}function DI(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Ce(e,125,OR(Hh(a,n),a))})}}function PI(e,t,r,n,a){var i=16+La(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ce(e,513,pi(r,n,i));return}if(t.bf)Ce(e,6,tL(t,r,n,a,i));else switch(t.t){case"d":case"n":var o=t.t=="d"?zr(Rr(t.v)):t.v;Ce(e,515,kR(r,n,o,i));break;case"b":case"e":Ce(e,517,TR(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var l=nx(a.Strings,t.v,a.revStrings);Ce(e,253,vR(r,n,l,i))}else Ce(e,516,wR(r,n,(t.v||"").slice(0,255),i,a));break;default:Ce(e,513,pi(r,n,i))}}function AI(e,t,r){var n=Yr(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,d,h="",f=[],p=pt(i["!ref"]||"A1"),x=u?65536:16384;if(p.e.c>255||p.e.r>=x){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,x-1)}Ce(n,2057,Jm(r,16,t)),Ce(n,13,mn(1)),Ce(n,12,mn(100)),Ce(n,15,Dr(!0)),Ce(n,17,Dr(!1)),Ce(n,16,fi(.001)),Ce(n,95,Dr(!0)),Ce(n,42,Dr(!1)),Ce(n,43,Dr(!1)),Ce(n,130,mn(1)),Ce(n,128,jR()),Ce(n,131,Dr(!1)),Ce(n,132,Dr(!1)),u&&DI(n,i["!cols"]),Ce(n,512,bR(p,t)),u&&(i["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){h=ur(m);for(var v=p.s.c;v<=p.e.c;++v){m===p.s.r&&(f[v]=jr(v)),d=f[v]+h;var y=c?(i[m]||[])[v]:i[d];y&&(PI(n,y,m,v,t),u&&y.l&&i["!links"].push([d,y.l]))}}var g=l.CodeName||l.name||a;return u&&Ce(n,574,gR((o.Views||[])[0])),u&&(i["!merges"]||[]).length&&Ce(n,229,ER(i["!merges"])),u&&_I(n,i),Ce(n,442,Fb(g)),u&&CI(n,i),Ce(n,10),n.end()}function OI(e,t,r){var n=Yr(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Ce(n,2057,Jm(e,5,r)),r.bookType=="xla"&&Ce(n,135),Ce(n,225,l?mn(1200):null),Ce(n,193,sR(2)),c&&Ce(n,191),c&&Ce(n,192),Ce(n,226),Ce(n,92,fR("SheetJS",r)),Ce(n,66,mn(l?1200:1252)),l&&Ce(n,353,mn(0)),l&&Ce(n,448),Ce(n,317,RR(e.SheetNames.length)),l&&e.vbaraw&&Ce(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";Ce(n,442,Fb(u))}Ce(n,156,mn(17)),Ce(n,25,Dr(!1)),Ce(n,18,Dr(!1)),Ce(n,19,mn(0)),l&&Ce(n,431,Dr(!1)),l&&Ce(n,444,mn(0)),Ce(n,61,xR()),Ce(n,64,Dr(!1)),Ce(n,141,mn(0)),Ce(n,34,Dr(I8(e)=="true")),Ce(n,14,Dr(!0)),l&&Ce(n,439,Dr(!1)),Ce(n,218,mn(0)),kI(n,e,r),SI(n,e.SSF,r),EI(n,r),l&&Ce(n,352,Dr(!1));var d=n.end(),h=Yr();l&&Ce(h,140,PR()),l&&r.Strings&&vI(h,252,mR(r.Strings)),Ce(h,10);var f=h.end(),p=Yr(),x=0,m=0;for(m=0;m<e.SheetNames.length;++m)x+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var v=d.length+x+f.length;for(m=0;m<e.SheetNames.length;++m){var y=i[m]||{};Ce(p,133,pR({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[m]},r)),v+=t[m].length}var g=p.end();if(x!=g.length)throw new Error("BS8 "+x+" != "+g.length);var w=[];return d.length&&w.push(d),g.length&&w.push(g),f.length&&w.push(f),ar(w)}function RI(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=qr(St)),e&&e.SSF&&(Mh(),Rh(e.SSF),r.revssf=Fh(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,sx(r),r.cellXfs=[],La(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=AI(a,r,e);return n.unshift(OI(e,n,r)),ar(n)}function cj(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=cn(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return RI(e,t);case 4:case 3:case 2:return TI(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function MI(e,t,r,n){for(var a=e["!merges"]||[],i=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>o)&&!(a[u].e.r<r||a[u].e.c<o)){if(a[u].s.r<r||a[u].s.c<o){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=at({r,c:o}),h=n.dense?(e[r]||[])[o]:e[d],f=h&&h.v!=null&&(h.h||hO(h.w||(Is(h),h.w)||""))||"",p={};l>1&&(p.rowspan=l),c>1&&(p.colspan=c),n.editable?f='<span contenteditable="true">'+f+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),p.id=(n.id||"sjs")+"-"+d,i.push(ke("td",f,p))}}var x="<tr>";return x+i.join("")+"</tr>"}var FI='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',LI="</body></html>";function II(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function uj(e,t){var r=t||{},n=r.header!=null?r.header:FI,a=r.footer!=null?r.footer:LI,i=[n],o=cn(e["!ref"]);r.dense=Array.isArray(e),i.push(II(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)i.push(MI(e,o,l,r));return i.push("</table>"+a),i.join("")}function dj(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var o=typeof n.origin=="string"?Yt(n.origin):n.origin;a=o.r,i=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var d=cn(e["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var h=[],f=0,p=e["!rows"]||(e["!rows"]=[]),x=0,m=0,v=0,y=0,g=0,w=0;for(e["!cols"]||(e["!cols"]=[]);x<l.length&&m<c;++x){var b=l[x];if(jv(b)){if(n.display)continue;p[m]={hidden:!0}}var k=b.children;for(v=y=0;v<k.length;++v){var D=k[v];if(!(n.display&&jv(D))){var j=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):xO(D.innerHTML),T=D.getAttribute("data-z")||D.getAttribute("z");for(f=0;f<h.length;++f){var L=h[f];L.s.c==y+i&&L.s.r<m+a&&m+a<=L.e.r&&(y=L.e.c+1-i,f=-1)}w=+D.getAttribute("colspan")||1,((g=+D.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:m+a,c:y+i},e:{r:m+a+(g||1)-1,c:y+i+(w||1)-1}});var K={t:"s",v:j},M=D.getAttribute("data-t")||D.getAttribute("t")||"";j!=null&&(j.length==0?K.t=M||"z":n.raw||j.trim().length==0||M=="s"||(j==="TRUE"?K={t:"b",v:!0}:j==="FALSE"?K={t:"b",v:!1}:isNaN(_s(j))?isNaN(sc(j).getDate())||(K={t:"d",v:Rr(j)},n.cellDates||(K={t:"n",v:zr(K.v)}),K.z=n.dateNF||St[14]):K={t:"n",v:_s(j)})),K.z===void 0&&T!=null&&(K.z=T);var Y="",z=D.getElementsByTagName("A");if(z&&z.length)for(var de=0;de<z.length&&!(z[de].hasAttribute("href")&&(Y=z[de].getAttribute("href"),Y.charAt(0)!="#"));++de);Y&&Y.charAt(0)!="#"&&(K.l={Target:Y}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=K):e[at({c:y+i,r:m+a})]=K,u.e.c<y+i&&(u.e.c=y+i),y+=w}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,m-1+a),e["!ref"]=It(u),m>=c&&(e["!fullref"]=It((u.e.r=l.length-x+m-1+a,u))),e}function hj(e,t){var r=t||{},n=r.dense?[]:{};return dj(n,e,t)}function BI(e,t){return Ni(hj(e,t),t)}function jv(e){var t="",r=HI(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function HI(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var $I=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+ic({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Bt+t}}(),Tv=function(){var e=function(i){return nt(i).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,o,l){var c=[];c.push('      <table:table table:name="'+nt(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,h=cn(i["!ref"]||"A1"),f=i["!merges"]||[],p=0,x=Array.isArray(i);if(i["!cols"])for(d=0;d<=h.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",v=i["!rows"]||[];for(u=0;u<h.s.r;++u)m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=h.e.r;++u){for(m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),d=0;d<h.s.c;++d)c.push(t);for(;d<=h.e.c;++d){var y=!1,g={},w="";for(p=0;p!=f.length;++p)if(!(f[p].s.c>d)&&!(f[p].s.r>u)&&!(f[p].e.c<d)&&!(f[p].e.r<u)){(f[p].s.c!=d||f[p].s.r!=u)&&(y=!0),g["table:number-columns-spanned"]=f[p].e.c-f[p].s.c+1,g["table:number-rows-spanned"]=f[p].e.r-f[p].s.r+1;break}if(y){c.push(r);continue}var b=at({r:u,c:d}),k=x?(i[u]||[])[d]:i[b];if(k&&k.f&&(g["table:formula"]=nt(oL(k.f)),k.F&&k.F.slice(0,b.length)==b)){var D=cn(k.F);g["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,g["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!k){c.push(t);continue}switch(k.t){case"b":w=k.v?"TRUE":"FALSE",g["office:value-type"]="boolean",g["office:boolean-value"]=k.v?"true":"false";break;case"n":w=k.w||String(k.v||0),g["office:value-type"]="float",g["office:value"]=k.v||0;break;case"s":case"str":w=k.v==null?"":k.v,g["office:value-type"]="string";break;case"d":w=k.w||Rr(k.v).toISOString(),g["office:value-type"]="date",g["office:date-value"]=Rr(k.v).toISOString(),g["table:style-name"]="ce1";break;default:c.push(t);continue}var j=e(w);if(k.l&&k.l.Target){var T=k.l.Target;T=T.charAt(0)=="#"?"#"+lL(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),j=ke("text:a",j,{"xlink:href":T.replace(/&/g,"&amp;")})}c.push("          "+ke("table:table-cell",ke("text:p",j,{}),g)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,o){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Zm(h),h.ods=l;var f=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var h=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Bt],u=ic({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=ic({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(Cb().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function fj(e,t){if(t.bookType=="fods")return Tv(e,t);var r=Um(),n="",a=[],i=[];return n="mimetype",He(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",He(r,n,Tv(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",He(r,n,$I(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",He(r,n,Bt+Cb()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",He(r,n,ZO(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",He(r,n,XO(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Kd(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function UI(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Rn(ac(e))}function VI(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Pa(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function WI(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function oc(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Xe(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function io(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function $t(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=oc(e,r),i=a&7;a=Math.floor(a/8);var o=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=oc(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function tr(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Xe(n*8+a.type)),a.type==2&&t.push(Xe(a.data.length)),t.push(a.data))})}),Pa(t)}function _n(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=oc(e,n),i=$t(e.slice(n[0],n[0]+a));n[0]+=a;var o={id:io(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=$t(l.data),u=io(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(o.merge=io(i[3][0].data)>>>0>0),r.push(o)}return r}function Pi(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Xe(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Xe(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(o){a.push(o.data),o.meta[3]=[{type:0,data:Xe(o.data.length)}],n[2].push({data:tr(o.meta),type:2})});var i=tr(n);t.push(Xe(i.length)),t.push(i),a.forEach(function(o){return t.push(o)})}),Pa(t)}function KI(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=oc(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}a.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Pa(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Pa(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Dn(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(KI(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Pa(t)}function Ai(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Xe(n),o=i.length;t.push(i),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,a[0]=0,a[1]=o&255,a[2]=o>>8&255,a[3]=o>>16&255,r+=n}return Pa(t)}function $f(e,t){var r=new Uint8Array(32),n=Kd(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,WI(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function Uf(e,t){var r=new Uint8Array(32),n=Kd(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function qs(e){var t=$t(e);return oc(t[1][0].data)}function YI(e,t,r){var n,a,i,o;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(i=e[8])==null?void 0:i[0])==null?void 0:o.data)&&io(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=Kd(e[7][0].data),d=0,h=[],f=Kd(e[4][0].data),p=0,x=[],m=0;m<t.length;++m){if(t[m]==null){u.setUint16(m*2,65535,!0),f.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),f.setUint16(m*2,p,!0);var v,y;switch(typeof t[m]){case"string":v=$f({t:"s",v:t[m]},r),y=Uf({t:"s",v:t[m]},r);break;case"number":v=$f({t:"n",v:t[m]},r),y=Uf({t:"n",v:t[m]},r);break;case"boolean":v=$f({t:"b",v:t[m]},r),y=Uf({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}h.push(v),d+=v.length,x.push(y),p+=y.length,++c}for(e[2][0].data=Xe(c);m<e[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),f.setUint16(m*2,65535,!0);return e[6][0].data=Pa(h),e[3][0].data=Pa(x),c}function zI(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=cn(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(It(n)));var i=Yd(r,{range:n,header:1}),o=["~Sh33tJ5~"];i.forEach(function(ee){return ee.forEach(function(Q){typeof Q=="string"&&o.push(Q)})});var l={},c=[],u=it.read(t.numbers,{type:"base64"});u.FileIndex.map(function(ee,Q){return[ee,u.FullPaths[Q]]}).forEach(function(ee){var Q=ee[0],G=ee[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var U=Q.content,pe=Dn(U),ne=_n(pe);ne.forEach(function(H){c.push(H.id),l[H.id]={deps:[],location:G,type:io(H.messages[0].meta[1][0].data)}})}}),c.sort(function(ee,Q){return ee-Q});var d=c.filter(function(ee){return ee>1}).map(function(ee){return[ee,Xe(ee)]});u.FileIndex.map(function(ee,Q){return[ee,u.FullPaths[Q]]}).forEach(function(ee){var Q=ee[0];if(ee[1],!!Q.name.match(/\.iwa/)){var G=_n(Dn(Q.content));G.forEach(function(U){U.messages.forEach(function(pe){d.forEach(function(ne){U.messages.some(function(H){return io(H.meta[1][0].data)!=11006&&VI(H.data,ne[1])})&&l[ne[0]].deps.push(U.id)})})})}});for(var h=it.find(u,l[1].location),f=_n(Dn(h.content)),p,x=0;x<f.length;++x){var m=f[x];m.id==1&&(p=m)}var v=qs($t(p.messages[0].data)[1][0].data);for(h=it.find(u,l[v].location),f=_n(Dn(h.content)),x=0;x<f.length;++x)m=f[x],m.id==v&&(p=m);for(v=qs($t(p.messages[0].data)[2][0].data),h=it.find(u,l[v].location),f=_n(Dn(h.content)),x=0;x<f.length;++x)m=f[x],m.id==v&&(p=m);for(v=qs($t(p.messages[0].data)[2][0].data),h=it.find(u,l[v].location),f=_n(Dn(h.content)),x=0;x<f.length;++x)m=f[x],m.id==v&&(p=m);var y=$t(p.messages[0].data);{y[6][0].data=Xe(n.e.r+1),y[7][0].data=Xe(n.e.c+1);var g=qs(y[46][0].data),w=it.find(u,l[g].location),b=_n(Dn(w.content));{for(var k=0;k<b.length&&b[k].id!=g;++k);if(b[k].id!=g)throw"Bad ColumnRowUIDMapArchive";var D=$t(b[k].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var j=0;j<=n.e.c;++j){var T=[];T[1]=T[2]=[{type:0,data:Xe(j+420690)}],D[1].push({type:2,data:tr(T)}),D[2].push({type:0,data:Xe(j)}),D[3].push({type:0,data:Xe(j)})}D[4]=[],D[5]=[],D[6]=[];for(var L=0;L<=n.e.r;++L)T=[],T[1]=T[2]=[{type:0,data:Xe(L+726270)}],D[4].push({type:2,data:tr(T)}),D[5].push({type:0,data:Xe(L)}),D[6].push({type:0,data:Xe(L)});b[k].messages[0].data=tr(D)}w.content=Ai(Pi(b)),w.size=w.content.length,delete y[46];var K=$t(y[4][0].data);{K[7][0].data=Xe(n.e.r+1);var M=$t(K[1][0].data),Y=qs(M[2][0].data);w=it.find(u,l[Y].location),b=_n(Dn(w.content));{if(b[0].id!=Y)throw"Bad HeaderStorageBucket";var z=$t(b[0].messages[0].data);for(L=0;L<i.length;++L){var de=$t(z[2][0].data);de[1][0].data=Xe(L),de[4][0].data=Xe(i[L].length),z[2][L]={type:z[2][0].type,data:tr(de)}}b[0].messages[0].data=tr(z)}w.content=Ai(Pi(b)),w.size=w.content.length;var X=qs(K[2][0].data);w=it.find(u,l[X].location),b=_n(Dn(w.content));{if(b[0].id!=X)throw"Bad HeaderStorageBucket";for(z=$t(b[0].messages[0].data),j=0;j<=n.e.c;++j)de=$t(z[2][0].data),de[1][0].data=Xe(j),de[4][0].data=Xe(n.e.r+1),z[2][j]={type:z[2][0].type,data:tr(de)};b[0].messages[0].data=tr(z)}w.content=Ai(Pi(b)),w.size=w.content.length;var B=qs(K[4][0].data);(function(){for(var ee=it.find(u,l[B].location),Q=_n(Dn(ee.content)),G,U=0;U<Q.length;++U){var pe=Q[U];pe.id==B&&(G=pe)}var ne=$t(G.messages[0].data);{ne[3]=[];var H=[];o.forEach(function(A,se){H[1]=[{type:0,data:Xe(se)}],H[2]=[{type:0,data:Xe(1)}],H[3]=[{type:2,data:UI(A)}],ne[3].push({type:2,data:tr(H)})})}G.messages[0].data=tr(ne);var re=Pi(Q),C=Ai(re);ee.content=C,ee.size=ee.content.length})();var V=$t(K[3][0].data);{var ae=V[1][0];delete V[2];var q=$t(ae.data);{var Z=qs(q[2][0].data);(function(){for(var ee=it.find(u,l[Z].location),Q=_n(Dn(ee.content)),G,U=0;U<Q.length;++U){var pe=Q[U];pe.id==Z&&(G=pe)}var ne=$t(G.messages[0].data);{delete ne[6],delete V[7];var H=new Uint8Array(ne[5][0].data);ne[5]=[];for(var re=0,C=0;C<=n.e.r;++C){var A=$t(H);re+=YI(A,i[C],o),A[1][0].data=Xe(C),ne[5].push({data:tr(A),type:2})}ne[1]=[{type:0,data:Xe(n.e.c+1)}],ne[2]=[{type:0,data:Xe(n.e.r+1)}],ne[3]=[{type:0,data:Xe(re)}],ne[4]=[{type:0,data:Xe(n.e.r+1)}]}G.messages[0].data=tr(ne);var se=Pi(Q),he=Ai(se);ee.content=he,ee.size=ee.content.length})()}ae.data=tr(q)}K[3][0].data=tr(V)}y[4][0].data=tr(K)}p.messages[0].data=tr(y);var ge=Pi(f),_=Ai(ge);return h.content=_,h.size=h.content.length,u}function qI(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function sx(e){qI([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function QI(e,t){return t.bookType=="ods"?fj(e,t):t.bookType=="numbers"?zI(e,t):t.bookType=="xlsb"?GI(e,t):XI(e,t)}function GI(e,t){qi=1024,e&&!e.SSF&&(e.SSF=qr(St)),e&&e.SSF&&(Mh(),Rh(e.SSF),t.revssf=Fh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,El?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Qb.indexOf(t.bookType)>-1,a=Tb();sx(t=t||{});var i=Um(),o="",l=0;if(t.cellXfs=[],La(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",He(i,o,Eb(e.Props,t)),a.coreprops.push(o),Ze(t.rels,2,o,Ye.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,He(i,o,Db(e.Props)),a.extprops.push(o),Ze(t.rels,3,o,Ye.EXT_PROPS),e.Custprops!==e.Props&&hr(e.Custprops||{}).length>0&&(o="docProps/custom.xml",He(i,o,Pb(e.Custprops)),a.custprops.push(o),Ze(t.rels,4,o,Ye.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var d={"!id":{}},h=e.Sheets[e.SheetNames[l-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,He(i,o,Z8(l-1,o,t,e,d)),a.sheets.push(o),Ze(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ye.WS[0])}if(h){var p=h["!comments"],x=!1,m="";p&&p.length>0&&(m="xl/comments"+l+"."+r,He(i,m,rI(p,m)),a.comments.push(m),Ze(d,-1,"../comments"+l+"."+r,Ye.CMNT),x=!0),h["!legacy"]&&x&&He(i,"xl/drawings/vmlDrawing"+l+".vml",zb(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&He(i,Sb(o),so(d))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,He(i,o,tI(t.Strings,o,t)),a.strs.push(o),Ze(t.wbrels,-1,"sharedStrings."+r,Ye.SST)),o="xl/workbook."+r,He(i,o,J8(e,o)),a.workbooks.push(o),Ze(t.rels,1,o,Ye.WB),o="xl/theme/theme1.xml",He(i,o,Kb(e.Themes,t)),a.themes.push(o),Ze(t.wbrels,-1,"theme/theme1.xml",Ye.THEME),o="xl/styles."+r,He(i,o,eI(e,o,t)),a.styles.push(o),Ze(t.wbrels,-1,"styles."+r,Ye.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",He(i,o,e.vbaraw),a.vba.push(o),Ze(t.wbrels,-1,"vbaProject.bin",Ye.VBA)),o="xl/metadata."+r,He(i,o,nI(o)),a.metadata.push(o),Ze(t.wbrels,-1,"metadata."+r,Ye.XLMETA),He(i,"[Content_Types].xml",kb(a,t)),He(i,"_rels/.rels",so(t.rels)),He(i,"xl/_rels/workbook."+r+".rels",so(t.wbrels)),delete t.revssf,delete t.ssf,i}function XI(e,t){qi=1024,e&&!e.SSF&&(e.SSF=qr(St)),e&&e.SSF&&(Mh(),Rh(e.SSF),t.revssf=Fh(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,El?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Qb.indexOf(t.bookType)>-1,a=Tb();sx(t=t||{});var i=Um(),o="",l=0;if(t.cellXfs=[],La(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",He(i,o,Eb(e.Props,t)),a.coreprops.push(o),Ze(t.rels,2,o,Ye.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,He(i,o,Db(e.Props)),a.extprops.push(o),Ze(t.rels,3,o,Ye.EXT_PROPS),e.Custprops!==e.Props&&hr(e.Custprops||{}).length>0&&(o="docProps/custom.xml",He(i,o,Pb(e.Custprops)),a.custprops.push(o),Ze(t.rels,4,o,Ye.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var h={"!id":{}},f=e.Sheets[e.SheetNames[l-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,He(i,o,sj(l-1,t,e,h)),a.sheets.push(o),Ze(t.wbrels,-1,"worksheets/sheet"+l+"."+r,Ye.WS[0])}if(f){var x=f["!comments"],m=!1,v="";if(x&&x.length>0){var y=!1;x.forEach(function(g){g[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+l+"."+r,He(i,v,EM(x,d,t)),a.threadedcomments.push(v),Ze(h,-1,"../threadedComments/threadedComment"+l+"."+r,Ye.TCMNT)),v="xl/comments"+l+"."+r,He(i,v,qb(x)),a.comments.push(v),Ze(h,-1,"../comments"+l+"."+r,Ye.CMNT),m=!0}f["!legacy"]&&m&&He(i,"xl/drawings/vmlDrawing"+l+".vml",zb(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&He(i,Sb(o),so(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,He(i,o,Bb(t.Strings,t)),a.strs.push(o),Ze(t.wbrels,-1,"sharedStrings."+r,Ye.SST)),o="xl/workbook."+r,He(i,o,oj(e)),a.workbooks.push(o),Ze(t.rels,1,o,Ye.WB),o="xl/theme/theme1.xml",He(i,o,Kb(e.Themes,t)),a.themes.push(o),Ze(t.wbrels,-1,"theme/theme1.xml",Ye.THEME),o="xl/styles."+r,He(i,o,Vb(e,t)),a.styles.push(o),Ze(t.wbrels,-1,"styles."+r,Ye.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",He(i,o,e.vbaraw),a.vba.push(o),Ze(t.wbrels,-1,"vbaProject.bin",Ye.VBA)),o="xl/metadata."+r,He(i,o,Yb()),a.metadata.push(o),Ze(t.wbrels,-1,"metadata."+r,Ye.XLMETA),d.length>1&&(o="xl/persons/person.xml",He(i,o,_M(d)),a.people.push(o),Ze(t.wbrels,-1,"persons/person.xml",Ye.PEOPLE)),He(i,"[Content_Types].xml",kb(a,t)),He(i,"_rels/.rels",so(t.rels)),He(i,"xl/_rels/workbook."+r+".rels",so(t.wbrels)),delete t.revssf,delete t.ssf,i}function JI(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ls(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pj(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Tc(t.file,it.write(e,{type:qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return it.write(e,t)}function ZI(e,t){var r=qr(t||{}),n=QI(e,r);return e7(n,r)}function e7(e,t){var r={},n=qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?it.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Oh(a))}return t.password&&typeof encrypt_agile<"u"?pj(encrypt_agile(a,t.password),t):t.type==="file"?Tc(t.file,a):t.type=="string"?Tl(a):a}function t7(e,t){var r=t||{},n=gI(e,r);return pj(n,r)}function Yn(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return nc(ac(n));case"binary":return ac(n);case"string":return e;case"file":return Tc(t.file,n,"utf8");case"buffer":return qe?Vs(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Yn(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function r7(e,t){switch(t.type){case"base64":return nc(e);case"binary":return e;case"string":return e;case"file":return Tc(t.file,e,"binary");case"buffer":return qe?Vs(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function du(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?nc(r):t.type=="string"?Tl(r):r;case"file":return Tc(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function mj(e,t){DA(),$8(e);var r=qr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=mj(e,r);return r.type="array",Oh(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Yn(mI(e,r),r);case"slk":case"sylk":return Yn(IR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Yn(uj(e.Sheets[e.SheetNames[a]],r),r);case"txt":return r7(xj(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Yn(ax(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Yn(BR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return du(LR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Yn(HR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Yn(zR.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Yn(Ib.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Yn(fj(e,r),r);case"wk1":return du(gv.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return du(gv.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),du(cj(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),t7(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ZI(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function n7(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function s7(e,t,r){var n={};return n.type="file",n.file=t,n7(n),mj(e,n)}function a7(e,t,r,n,a,i,o,l){var c=ur(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,f=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!o||e[r])for(var p=t.s.c;p<=t.e.c;++p){var x=o?e[r][p]:e[n[p]+c];if(x===void 0||x.t===void 0){if(u===void 0)continue;i[p]!=null&&(f[i[p]]=u);continue}var m=x.v;switch(x.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(i[p]!=null){if(m==null)if(x.t=="e"&&m===null)f[i[p]]=null;else if(u!==void 0)f[i[p]]=u;else if(d&&m===null)f[i[p]]=null;else continue;else f[i[p]]=d&&(x.t!=="n"||x.t==="n"&&l.rawNumbers!==!1)?m:Is(x,m,l);m!=null&&(h=!1)}}return{row:f,isempty:h}}function Yd(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},d=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=pt(d);break;case"number":c=pt(e["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var h=ur(c.s.r),f=[],p=[],x=0,m=0,v=Array.isArray(e),y=c.s.r,g=0,w={};v&&!e[y]&&(e[y]=[]);var b=u.skipHidden&&e["!cols"]||[],k=u.skipHidden&&e["!rows"]||[];for(g=c.s.c;g<=c.e.c;++g)if(!(b[g]||{}).hidden)switch(f[g]=jr(g),r=v?e[y][g]:e[f[g]+h],n){case 1:i[g]=g-c.s.c;break;case 2:i[g]=f[g];break;case 3:i[g]=u.header[g-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Is(r,null,u),m=w[o]||0,!m)w[o]=1;else{do l=o+"_"+m++;while(w[l]);w[o]=m,w[l]=1}i[g]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(k[y]||{}).hidden){var D=a7(e,c,y,f,n,i,v,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[x++]=D.row)}return p.length=x,p}var kv=/"/g;function i7(e,t,r,n,a,i,o,l){for(var c=!0,u=[],d="",h=ur(r),f=t.s.c;f<=t.e.c;++f)if(n[f]){var p=l.dense?(e[r]||[])[f]:e[n[f]+h];if(p==null)d="";else if(p.v!=null){c=!1,d=""+(l.rawNumbers&&p.t=="n"?p.v:Is(p,null,l));for(var x=0,m=0;x!==d.length;++x)if((m=d.charCodeAt(x))===a||m===i||m===34||l.forceQuotes){d='"'+d.replace(kv,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(c=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(kv,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(o)}function ax(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=pt(e["!ref"]),i=n.FS!==void 0?n.FS:",",o=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",h=[];n.dense=Array.isArray(e);for(var f=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],x=a.s.c;x<=a.e.c;++x)(f[x]||{}).hidden||(h[x]=jr(x));for(var m=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(d=i7(e,a,v,h,o,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?l:"")+d)));return delete n.dense,r.join("")}function xj(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=ax(e,t);return r}function o7(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=pt(e["!ref"]),i="",o=[],l,c=[],u=Array.isArray(e);for(l=a.s.c;l<=a.e.c;++l)o[l]=jr(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=ur(d),l=a.s.c;l<=a.e.c;++l)if(t=o[l]+i,r=u?(e[d]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function gj(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},o=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Yt(n.origin):n.origin;o=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var h=pt(i["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),o==-1&&(o=h.e.r+1,d.e.r=o+t.length-1+a)}else o==-1&&(o=0,d.e.r=t.length-1+a);var f=n.header||[],p=0;t.forEach(function(m,v){hr(m).forEach(function(y){(p=f.indexOf(y))==-1&&(f[p=f.length]=y);var g=m[y],w="z",b="",k=at({c:l+p,r:o+v+a});u=lc(i,k),g&&typeof g=="object"&&!(g instanceof Date)?i[k]=g:(typeof g=="number"?w="n":typeof g=="boolean"?w="b":typeof g=="string"?w="s":g instanceof Date?(w="d",n.cellDates||(w="n",g=zr(g)),b=n.dateNF||St[14]):g===null&&n.nullError&&(w="e",g=0),u?(u.t=w,u.v=g,delete u.w,delete u.R,b&&(u.z=b)):i[k]=u={t:w,v:g},b&&(u.z=b))})}),d.e.c=Math.max(d.e.c,l+f.length-1);var x=ur(o);if(a)for(p=0;p<f.length;++p)i[jr(p+l)+x]={t:"s",v:f[p]};return i["!ref"]=It(d),i}function l7(e,t){return gj(null,e,t)}function lc(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Yt(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?lc(e,at(t)):lc(e,at({r:t,c:r||0}))}function c7(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function u7(){return{SheetNames:[],Sheets:{}}}function d7(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var o=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=o+a)!=-1;++a);}if(ij(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function h7(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=c7(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function f7(e,t){return e.z=t,e}function yj(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function p7(e,t,r){return yj(e,"#"+t,r)}function m7(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function x7(e,t,r,n){for(var a=typeof t!="string"?t:pt(t),i=typeof t=="string"?t:It(t),o=a.s.r;o<=a.e.r;++o)for(var l=a.s.c;l<=a.e.c;++l){var c=lc(e,o,l);c.t="n",c.F=i,delete c.v,o==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var Oi={encode_col:jr,encode_row:ur,encode_cell:at,encode_range:It,decode_col:qm,decode_row:zm,split_cell:DO,decode_cell:Yt,decode_range:cn,format_cell:Is,sheet_add_aoa:yb,sheet_add_json:gj,sheet_add_dom:dj,aoa_to_sheet:Bo,json_to_sheet:l7,table_to_sheet:hj,table_to_book:BI,sheet_to_csv:ax,sheet_to_txt:xj,sheet_to_json:Yd,sheet_to_html:uj,sheet_to_formulae:o7,sheet_to_row_object_array:Yd,sheet_get_cell:lc,book_new:u7,book_append_sheet:d7,book_set_sheet_visibility:h7,cell_set_number_format:f7,cell_set_hyperlink:yj,cell_set_internal_link:p7,cell_add_comment:m7,sheet_set_array_formula:x7,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const g7=()=>{const e=()=>{const k=new Date,D=k.getFullYear(),j=k.getMonth(),T=new Date(D,j,1),L=new Date(D,j+1,0);return{startDate:T.toISOString().split("T")[0],endDate:L.toISOString().split("T")[0]}},[t,r]=N.useState(e());ie.useEffect(()=>{const k=document.createElement("style");return k.textContent=`
      @media print {
        .no-print { display: none !important; }
        .print-only { display: block !important; }
        body { font-size: 12px; }
        .card { box-shadow: none; border: 1px solid #ddd; }
        table { font-size: 11px; }
        .page-break { page-break-before: always; }
      }
    `,document.head.appendChild(k),()=>document.head.removeChild(k)},[]);const[n,a]=N.useState("revenue"),[i,o]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState("ALL"),[h,f]=N.useState(1),[p,x]=N.useState(10);N.useEffect(()=>{m()},[t,n,u]);const m=async()=>{try{o(!0);const k={startDate:t.startDate,endDate:t.endDate,type:n};n==="booking"&&(k.status=u);const D=await W.get("/api/reports",{params:k});D.data.statusCode===200?c(D.data.data||{}):console.error("Error:",D.data.message)}catch(k){console.error("Error fetching report data:",k)}finally{o(!1)}},v=(k,D)=>{r(j=>({...j,[k]:D}))},y=async k=>{try{o(!0),n==="booking"?l&&l.details?k==="excel"&&g(l):alert("Không có dữ liệu để xuất. Vui lòng tải dữ liệu báo cáo trước."):alert("Chức năng xuất Excel chỉ khả dụng cho báo cáo đặt phòng")}catch(D){console.error("Error exporting report:",D),alert("Có lỗi xảy ra khi xuất báo cáo")}finally{o(!1)}},g=k=>{if(!k||!k.details||k.details.length===0){alert("Không có dữ liệu để xuất");return}const D=Oi.book_new(),j=[["BÁO CÁO CHI TIẾT ĐẶT PHÒNG"],[""],[`Thời gian: ${new Date(t.startDate).toLocaleDateString("vi-VN")} - ${new Date(t.endDate).toLocaleDateString("vi-VN")}`],[`Ngày xuất: ${new Date().toLocaleDateString("vi-VN")} ${new Date().toLocaleTimeString("vi-VN")}`],[`Trạng thái: ${u==="ALL"?"Tất cả":u}`],[`Tổng số bản ghi: ${k.details.length}`],[""],["STT","ID Phiếu","Ngày đặt","Check-in","Check-out","Số ngày","Trạng thái","Khách hàng","CCCD","SĐT","Email","Phòng","Loại phòng","Tiền cọc","Tổng tiền"]];k.details.forEach((z,de)=>{j.push([de+1,z.idPd||"",z.ngayDat?new Date(z.ngayDat).toLocaleDateString("vi-VN"):"",z.ngayBdThue?new Date(z.ngayBdThue).toLocaleDateString("vi-VN"):"",z.ngayDi?new Date(z.ngayDi).toLocaleDateString("vi-VN"):"",z.soNgayO||0,z.trangThaiGoc||"",z.hoTenKhach||"",z.cccdKhach||"",z.sdtKhach||"",z.emailKhach||"",`Phòng ${z.soPhongDat}`,z.chiTietPhong||"",z.soTienCoc||0,z.tongTienPhong||0])});const T=Oi.aoa_to_sheet(j),L=[{wch:5},{wch:10},{wch:12},{wch:12},{wch:12},{wch:8},{wch:15},{wch:20},{wch:15},{wch:12},{wch:25},{wch:12},{wch:18},{wch:15},{wch:18}];T["!cols"]=L,T["!merges"]=[{s:{r:0,c:0},e:{r:0,c:14}},{s:{r:2,c:0},e:{r:2,c:14}},{s:{r:3,c:0},e:{r:3,c:14}},{s:{r:4,c:0},e:{r:4,c:14}},{s:{r:5,c:0},e:{r:5,c:14}}],T.A1&&(T.A1.s={font:{bold:!0,sz:16,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"1E40AF"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"thick",color:{rgb:"000000"}},bottom:{style:"thick",color:{rgb:"000000"}},left:{style:"thick",color:{rgb:"000000"}},right:{style:"thick",color:{rgb:"000000"}}}});for(let z=3;z<=6;z++)T[`A${z}`]&&(T[`A${z}`].s={font:{bold:!0,sz:11},alignment:{horizontal:"center"},fill:{fgColor:{rgb:"F3F4F6"}}});const K=8;for(let z=0;z<15;z++){const de=Oi.encode_cell({r:K-1,c:z});T[de]&&(T[de].s={font:{bold:!0,color:{rgb:"FFFFFF"},sz:11},fill:{fgColor:{rgb:"059669"}},alignment:{horizontal:"center",vertical:"center"},border:{top:{style:"medium",color:{rgb:"000000"}},bottom:{style:"medium",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}}}})}const M=Oi.decode_range(T["!ref"]);for(let z=K;z<=M.e.r;z++)for(let de=0;de<=14;de++){const X=Oi.encode_cell({r:z,c:de});if(T[X]){const B=(z-K)%2===0;if(T[X].s={alignment:{horizontal:de===0?"center":de>=13?"right":"left",vertical:"center"},fill:{fgColor:{rgb:B?"FFFFFF":"F9FAFB"}},border:{top:{style:"thin",color:{rgb:"E5E7EB"}},bottom:{style:"thin",color:{rgb:"E5E7EB"}},left:{style:"thin",color:{rgb:"E5E7EB"}},right:{style:"thin",color:{rgb:"E5E7EB"}}}},(de===13||de===14)&&T[X].v&&typeof T[X].v=="number"&&(T[X].z='#,##0" VNĐ"',T[X].s.font={color:{rgb:"059669"},bold:!0}),de===6&&T[X].v){const V=T[X].v;V==="Đã xác nhận"?T[X].s.font={color:{rgb:"059669"},bold:!0}:V==="Chờ xác nhận"?T[X].s.font={color:{rgb:"D97706"},bold:!0}:V==="Đã hủy"&&(T[X].s.font={color:{rgb:"DC2626"},bold:!0})}}}T["!autofilter"]={ref:`A8:O${k.details.length+8}`},T["!rows"]=[{hpt:35},{hpt:15},{hpt:20},{hpt:20},{hpt:20},{hpt:20},{hpt:15},{hpt:30},...Array(k.details.length).fill({hpt:25})],Oi.book_append_sheet(D,T,"Chi tiết đặt phòng");const Y=`ChiTiet_DatPhong_${t.startDate}_${t.endDate}.xlsx`;s7(D,Y),alert("Báo cáo Excel đã được tải xuống thành công!")},w=k=>k>0?s.jsx(_u,{className:"w-4 h-4 text-green-600"}):k<0?s.jsx(K_,{className:"w-4 h-4 text-red-600"}):s.jsx(h_,{className:"w-4 h-4 text-gray-600"}),b=k=>k>0?"text-green-600":k<0?"text-red-600":"text-gray-600";return s.jsxs("div",{className:"space-y-6 max-w-full overflow-hidden",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo & Thống kê"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Phân tích dữ liệu hoạt động kinh doanh"})]}),s.jsxs("div",{className:"flex space-x-3 no-print",children:[s.jsxs("button",{onClick:()=>m(),className:"btn-outline",disabled:i,children:[s.jsx(vc,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Làm mới"]}),s.jsxs("button",{onClick:()=>y("excel"),className:"btn-primary",disabled:i||!(n==="booking"&&l&&l.details&&l.details.length>0),children:[s.jsx(wm,{className:"w-4 h-4 mr-2"}),"Xuất Excel"]})]})]}),s.jsxs("div",{className:"card no-print",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(Fo,{className:"w-5 h-5 text-gray-500 mr-2"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Bộ lọc báo cáo"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Loại báo cáo"}),s.jsxs("select",{value:n,onChange:k=>a(k.target.value),className:"input",children:[s.jsx("option",{value:"booking",children:"Đặt phòng"}),s.jsx("option",{value:"revenue",children:"Doanh thu"}),s.jsx("option",{value:"occupancy",children:"Tỷ lệ lấp đầy"}),s.jsx("option",{value:"customer",children:"Khách hàng"}),s.jsx("option",{value:"staff",children:"Nhân viên"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Từ ngày"}),s.jsx("input",{type:"date",value:t.startDate,onChange:k=>v("startDate",k.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Đến ngày"}),s.jsx("input",{type:"date",value:t.endDate,onChange:k=>v("endDate",k.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trạng thái"}),s.jsxs("select",{value:u,onChange:k=>d(k.target.value),className:"input",disabled:n!=="booking",children:[s.jsx("option",{value:"ALL",children:"Tất cả"}),s.jsx("option",{value:"Chờ xác nhận",children:"Chờ xác nhận"}),s.jsx("option",{value:"Đã xác nhận",children:"Đã xác nhận"}),s.jsx("option",{value:"Đã check-in",children:"Đã check-in"}),s.jsx("option",{value:"Đã hủy",children:"Đã hủy"})]})]})]})]}),n==="booking"&&l&&s.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[l.summary&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(yi,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng số phiếu"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.tongSoPhieu||0})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(No,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng tiền cọc"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.summary.tongTienCoc||"0"," VNĐ"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(ln,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng phòng đặt"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.tongSoPhongDat||0})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(ft,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Số ngày ở TB"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.summary.soNgayOTb||0," ngày"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:s.jsx(_u,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng tiền phòng"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l.summary.tongTienPhong||"0"," VNĐ"]})]})]})})]}),l.details&&l.details.length>0&&s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 space-y-2 sm:space-y-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chi tiết đặt phòng"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Hiển thị:"}),s.jsxs("select",{value:p,onChange:k=>{x(Number(k.target.value)),f(1)},className:"text-sm border border-gray-300 rounded px-2 py-1",children:[s.jsx("option",{value:5,children:"5"}),s.jsx("option",{value:10,children:"10"}),s.jsx("option",{value:25,children:"25"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:"mục/trang"})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Tổng: ",l.totalRecords," bản ghi"]})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ngày đặt"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-in"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Check-out"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Số ngày"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Khách hàng"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"SĐT"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phòng"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Tiền cọc"}),s.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tổng tiền"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.details.slice((h-1)*p,h*p).map((k,D)=>{var j,T;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.idPd}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(k.ngayDat).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(k.ngayBdThue).toLocaleDateString("vi-VN")}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(k.ngayDi).toLocaleDateString("vi-VN")}),s.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 hidden sm:table-cell",children:[k.soNgayO," ngày"]}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${k.trangThaiGoc==="Đã xác nhận"?"bg-green-100 text-green-800":k.trangThaiGoc==="Chờ xác nhận"?"bg-yellow-100 text-yellow-800":k.trangThaiGoc==="Đã hủy"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:k.trangThaiGoc})}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:k.hoTenKhach}),s.jsx("div",{className:"text-gray-500 text-xs",children:k.emailKhach})]})}),s.jsx("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 hidden md:table-cell",children:k.sdtKhach}),s.jsx("td",{className:"px-3 py-4 text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:["Phòng ",k.soPhongDat]}),s.jsx("div",{className:"text-gray-500 text-xs",children:k.chiTietPhong})]})}),s.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm text-gray-900 hidden lg:table-cell",children:[(j=k.soTienCoc)==null?void 0:j.toLocaleString()," VNĐ"]}),s.jsxs("td",{className:"px-3 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[(T=k.tongTienPhong)==null?void 0:T.toLocaleString()," VNĐ"]})]},D)})})]})}),l.details&&l.details.length>p&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t border-gray-200 sm:px-6",children:[s.jsxs("div",{className:"flex justify-between flex-1 sm:hidden",children:[s.jsx("button",{onClick:()=>f(Math.max(h-1,1)),disabled:h===1,className:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),s.jsx("button",{onClick:()=>f(Math.min(h+1,Math.ceil(l.details.length/p))),disabled:h===Math.ceil(l.details.length/p),className:"relative ml-3 inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),s.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Hiển thị"," ",s.jsx("span",{className:"font-medium",children:(h-1)*p+1})," ","-"," ",s.jsx("span",{className:"font-medium",children:Math.min(h*p,l.details.length)})," ","trong"," ",s.jsx("span",{className:"font-medium",children:l.details.length})," ","kết quả"]})}),s.jsx("div",{children:s.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[s.jsxs("button",{onClick:()=>f(Math.max(h-1,1)),disabled:h===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Trang trước"}),"‹"]}),Array.from({length:Math.ceil(l.details.length/p)},(k,D)=>D+1).filter(k=>{const D=Math.ceil(l.details.length/p);return D<=7||k===1||k===D||k>=h-2&&k<=h+2}).map((k,D,j)=>{const T=D>0&&k-j[D-1]>1;return s.jsxs(ie.Fragment,{children:[T&&s.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."}),s.jsx("button",{onClick:()=>f(k),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${h===k?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:k})]},k)}),s.jsxs("button",{onClick:()=>f(Math.min(h+1,Math.ceil(l.details.length/p))),disabled:h===Math.ceil(l.details.length/p),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("span",{className:"sr-only",children:"Trang sau"}),"›"]})]})})]})]})]})]}),n==="revenue"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(No,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tổng doanh thu"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l!=null&&l.total?(l.total/1e6).toFixed(0):0,"M VNĐ"]}),s.jsxs("div",{className:"flex items-center mt-1",children:[w((l==null?void 0:l.growth)||0),s.jsxs("span",{className:`text-sm ml-1 ${b((l==null?void 0:l.growth)||0)}`,children:[(l==null?void 0:l.growth)||0,"%"]})]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:s.jsx(ft,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu/ngày"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l!=null&&l.daily?(l.daily/1e6).toFixed(1):0,"M VNĐ"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:s.jsx(_u,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Doanh thu/tháng"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l!=null&&l.monthly?(l.monthly/1e6).toFixed(0):0,"M VNĐ"]})]})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:s.jsx(M_,{className:"w-6 h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Nguồn chính"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"Phòng"}),s.jsx("p",{className:"text-sm text-gray-500",children:"76.5%"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Doanh thu theo dịch vụ"}),s.jsxs("div",{className:"space-y-4",children:[((l==null?void 0:l.byService)||[]).map((k,D)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:k.name}),s.jsxs("span",{className:"text-sm text-gray-600",children:[k.percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${k.percentage}%`}})})]}),s.jsx("div",{className:"ml-4 text-right",children:s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[(k.value/1e6).toFixed(0),"M VNĐ"]})})]},D)),(!(l!=null&&l.byService)||l.byService.length===0)&&s.jsx("p",{className:"text-gray-500 text-center py-4",children:"Chưa có dữ liệu doanh thu theo dịch vụ"})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Biểu đồ doanh thu"}),s.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Biểu đồ doanh thu theo thời gian"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tích hợp Chart.js"})]})})]})]})]})]})},y7=()=>{var d;const[e,t]=N.useState(!1),[r,n]=N.useState(!1),{user:a,isAuthenticated:i,logout:o}=kn(),l=Vn(),c=()=>{o(),l("/")},u=()=>{if(!a)return"/login";switch(a.role){case"ADMIN":return"/admin";case"EMPLOYEE":return"/staff";case"CUSTOMER":return"/customer";default:return"/login"}};return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs(Fe,{to:"/",className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"H"})}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Hotel Booking"})]}),s.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[s.jsx(Fe,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Trang chủ"}),s.jsx(Fe,{to:"/customer/booking",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Đặt phòng"}),i()&&(a==null?void 0:a.role)==="CUSTOMER"&&s.jsx(Fe,{to:"/customer/history",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Lịch sử đặt phòng"}),i()?s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[s.jsx(Pt,{className:"w-5 h-5"}),s.jsx("span",{children:(a==null?void 0:a.hoTen)||(a!=null&&a.ho&&(a!=null&&a.ten)?`${a.ho} ${a.ten}`.trim():"")||(a==null?void 0:a.tenNhanVien)||(a==null?void 0:a.tenKhachHang)||((d=a==null?void 0:a.email)==null?void 0:d.split("@")[0])||"Người dùng"})]}),r&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[s.jsxs(Fe,{to:u(),className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>n(!1),children:[s.jsx(bh,{className:"w-4 h-4 inline mr-2"}),"Dashboard"]}),(a==null?void 0:a.role)==="CUSTOMER"&&s.jsxs(Fe,{to:"/customer/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>n(!1),children:[s.jsx(Pt,{className:"w-4 h-4 inline mr-2"}),"Thông tin cá nhân"]}),s.jsxs("button",{onClick:c,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx(YN,{className:"w-4 h-4 inline mr-2"}),"Đăng xuất"]})]})]}):s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Fe,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Đăng nhập"}),s.jsx(Fe,{to:"/register",className:"btn-primary",children:"Đăng ký"})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-md text-gray-700 hover:text-primary-600 hover:bg-gray-100",children:e?s.jsx(Nr,{className:"w-6 h-6"}):s.jsx(__,{className:"w-6 h-6"})})]}),e&&s.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx(Fe,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Trang chủ"}),s.jsx(Fe,{to:"/customer/booking",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Đặt phòng"}),i()&&(a==null?void 0:a.role)==="CUSTOMER"&&s.jsx(Fe,{to:"/customer/history",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Lịch sử đặt phòng"}),i()?s.jsxs(s.Fragment,{children:[s.jsx(Fe,{to:u(),className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Dashboard"}),s.jsx("button",{onClick:c,className:"text-left text-gray-700 hover:text-primary-600 transition-colors",children:"Đăng xuất"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Fe,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",onClick:()=>t(!1),children:"Đăng nhập"}),s.jsx(Fe,{to:"/register",className:"btn-primary inline-block text-center",onClick:()=>t(!1),children:"Đăng ký"})]})]})})]})})},v7=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(y7,{}),s.jsx("main",{className:"flex-1",children:s.jsx(fh,{})}),s.jsx(F2,{})]}),w7=()=>{const e=[{path:"/customer",icon:yc,label:"Dashboard",end:!0},{path:"/customer/booking",icon:ft,label:"Đặt phòng"},{path:"/customer/history",icon:S_,label:"Lịch sử đặt phòng"},{path:"/customer/profile",icon:Pt,label:"Thông tin cá nhân"}];return s.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:e.map(t=>{const r=t.icon;return s.jsx("li",{children:s.jsxs(pm,{to:t.path,end:t.end,className:({isActive:n})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${n?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(r,{className:"w-5 h-5"}),s.jsx("span",{children:t.label})]})},t.path)})})})})},N7=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Ah,{}),s.jsxs("div",{className:"flex",children:[s.jsx(w7,{}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(fh,{})})]})]}),b7=()=>{const e=[{path:"/staff",icon:yc,label:"Dashboard",end:!0},{path:"/staff/reservations",icon:ft,label:"Quản lý đặt phòng"},{path:"/staff/rentals",icon:wr,label:"Quản lý thuê phòng"},{path:"/staff/checkin",icon:va,label:"Check-in"},{path:"/staff/checkout",icon:Za,label:"Check-out"},{path:"/staff/invoices",icon:yi,label:"Quản lý hóa đơn"},{path:"/staff/walkin",icon:pd,label:"Walk-in Check-in"},{path:"/staff/rooms",icon:ln,label:"Quản lý phòng"},{path:"/staff/room-changes",icon:vc,label:"Quản lý đổi phòng"},{path:"/staff/services",icon:bh,label:"Dịch vụ & Phụ thu"}];return s.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:e.map(t=>{const r=t.icon;return s.jsx("li",{children:s.jsxs(pm,{to:t.path,end:t.end,className:({isActive:n})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${n?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(r,{className:"w-5 h-5"}),s.jsx("span",{children:t.label})]})},t.path)})})})})},j7=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Ah,{}),s.jsxs("div",{className:"flex",children:[s.jsx(b7,{}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(fh,{})})]})]}),T7=()=>{const e=[{path:"/admin",icon:yc,label:"Dashboard",end:!0},{path:"/admin/rooms",icon:ln,label:"Quản lý phòng"},{path:"/admin/staff",icon:wr,label:"Quản lý nhân viên"},{path:"/admin/services",icon:wo,label:"Quản lý dịch vụ"},{path:"/admin/amenities",icon:fd,label:"Quản lý tiện nghi"},{path:"/admin/room-prices",icon:No,label:"Quản lý giá phòng"},{path:"/admin/surcharges",icon:br,label:"Quản lý phụ thu"},{path:"/admin/reports",icon:hd,label:"Báo cáo & Thống kê"}];return s.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 min-h-screen",children:s.jsx("nav",{className:"p-4",children:s.jsx("ul",{className:"space-y-2",children:e.map(t=>{const r=t.icon;return s.jsx("li",{children:s.jsxs(pm,{to:t.path,end:t.end,className:({isActive:n})=>`flex items-center space-x-3 px-3 py-2 rounded-lg transition-colors ${n?"bg-primary-50 text-primary-700 border-r-2 border-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(r,{className:"w-5 h-5"}),s.jsx("span",{children:t.label})]})},t.path)})})})})},k7=()=>s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Ah,{}),s.jsxs("div",{className:"flex",children:[s.jsx(T7,{}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(fh,{})})]})]});function S7(){return s.jsxs(l_,{children:[s.jsx("div",{className:"App",children:s.jsxs(QS,{children:[s.jsxs(Ve,{path:"/",element:s.jsx(v7,{}),children:[s.jsx(Ve,{index:!0,element:s.jsx(Y5,{})}),s.jsx(Ve,{path:"rooms",element:s.jsx(q5,{})}),s.jsx(Ve,{path:"rooms/:id",element:s.jsx(Q5,{})}),s.jsx(Ve,{path:"login",element:s.jsx(G5,{})}),s.jsx(Ve,{path:"register",element:s.jsx(X5,{})}),s.jsx(Ve,{path:"forgot-password",element:s.jsx(J5,{})}),s.jsx(Ve,{path:"reset-password/:token",element:s.jsx(Z5,{})})]}),s.jsxs(Ve,{path:"/customer",element:s.jsx(Qc,{allowedRoles:["CUSTOMER"],children:s.jsx(N7,{})}),children:[s.jsx(Ve,{index:!0,element:s.jsx(tA,{})}),s.jsx(Ve,{path:"booking",element:s.jsx(rA,{})}),s.jsx(Ve,{path:"history",element:s.jsx(nA,{})}),s.jsx(Ve,{path:"profile",element:s.jsx(sA,{})})]}),s.jsxs(Ve,{path:"/staff",element:s.jsx(Qc,{allowedRoles:["EMPLOYEE","ADMIN"],children:s.jsx(j7,{})}),children:[s.jsx(Ve,{index:!0,element:s.jsx(iA,{})}),s.jsx(Ve,{path:"reservations",element:s.jsx(oA,{})}),s.jsx(Ve,{path:"checkin",element:s.jsx(cA,{})}),s.jsx(Ve,{path:"rentals",element:s.jsx(dA,{})}),s.jsx(Ve,{path:"checkout",element:s.jsx(mA,{})}),s.jsx(Ve,{path:"invoices",element:s.jsx(xA,{})}),s.jsx(Ve,{path:"walkin",element:s.jsx(gA,{})}),s.jsx(Ve,{path:"rooms",element:s.jsx(yA,{})}),s.jsx(Ve,{path:"room-changes",element:s.jsx(wA,{})}),s.jsx(Ve,{path:"services",element:s.jsx(vA,{})})]}),s.jsxs(Ve,{path:"/admin",element:s.jsx(Qc,{allowedRoles:["ADMIN"],children:s.jsx(k7,{})}),children:[s.jsx(Ve,{index:!0,element:s.jsx(NA,{})}),s.jsx(Ve,{path:"rooms",element:s.jsx(bA,{})}),s.jsx(Ve,{path:"staff",element:s.jsx(jA,{})}),s.jsx(Ve,{path:"services",element:s.jsx(TA,{})}),s.jsx(Ve,{path:"amenities",element:s.jsx(kA,{})}),s.jsx(Ve,{path:"room-prices",element:s.jsx(SA,{})}),s.jsx(Ve,{path:"surcharges",element:s.jsx(CA,{})}),s.jsx(Ve,{path:"reports",element:s.jsx(g7,{})})]}),s.jsx(Ve,{path:"/profile",element:s.jsx(Qc,{allowedRoles:["CUSTOMER","EMPLOYEE","ADMIN"],children:s.jsx(eA,{})})}),s.jsx(Ve,{path:"*",element:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("p",{className:"text-gray-600",children:"Trang không tồn tại"})]})})})]})}),s.jsx(dN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})}const C7=new DC({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});Vf.createRoot(document.getElementById("root")).render(s.jsx(ie.StrictMode,{children:s.jsx(MC,{client:C7,children:s.jsx(V4,{options:W4.options,children:s.jsxs(sC,{children:[s.jsx(S7,{}),s.jsx(dN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})})}));
//# sourceMappingURL=index-CZ6asT9D.js.map
